import{o as e,c as t,w as l,B as a,C as i,m as s,t as n,l as u,u as r,T as o,D as c,_ as d,r as m,y as p,d as v,k as x,e as f,f as h,a as y,j as g,F as _,i as w,v as k,h as $}from"./index-cPdmZZgQ.js";import{S as b}from"./SLStatusLabel-DICAQhJX.js";import{S}from"./SLTable-ANqSEMme.js";const C={__name:"SLCopy",props:{text:{type:String,required:!0},iconClass:{type:String,default:"w-4 h-4"},duration:{type:Number,default:2e3}},setup(d){const m=d;return(p,v)=>(e(),t(r(o),{trigger:"click"},{default:l((({hide:e})=>[s(a,{icon:"copy",class:i(d.iconClass),onClick:t=>(e=>{c(m.text),setTimeout((()=>e()),m.duration)})(e)},null,8,["class","onClick"])])),content:l((()=>[u(n(p.$t("common.copy")),1)])),_:1}))}},j={class:"w-full px-6 pt-6 text-dimmer"},L={class:"flex items-center"},T={class:"text-2xl font-semibold text-default pr-4"},D={key:0,class:"flex items-center pt-5"},M={class:"flex justify-between pt-6 pb-2 flex-wrap"},N={class:"min-w-[400px] max-w-[50%] pr-4"},E={class:"flex pb-4"},I={class:"min-w-[150px]"},q={key:0,class:"flex pb-4"},B={class:"min-w-[150px]"},F=["title"],H=["href"],U={key:0,class:"w-1/2 min-w-[400px]"},z={class:"min-w-[150px]"},A=["title"],G=d({__name:"ExperimentHeader",setup(t){const l=m(p().experiment),a=v((()=>[{title:"start_time",value:x(l.value.create_time)},{title:"last_time",value:r()},{title:"version",value:`v${l.value.version}`},{title:"git",value:l.value.system.git_remote,isLink:!0}])),i=v((()=>{var e,t;const a="experiment.index.header.experiment_device";return[l.value.system.cpu?f(`${a}.cpu`,{value:l.value.system.cpu}):"",(null==(e=l.value.system.gpu)?void 0:e.cores)?f(`${a}.gpu`,{value:l.value.system.gpu.cores}):"",(null==(t=l.value.system.gpu)?void 0:t.type[0])?f(`${a}.type`,{value:l.value.system.gpu.type[0]}):""].filter((e=>""!==e)).join(" | ")})),u=v((()=>[{title:"hostname",value:l.value.system.hostname||""},{title:"os",value:l.value.system.os||""},{title:"python",value:l.value.system.python||""},{title:"executable",value:l.value.system.executable||""},{title:"hardware",value:i.value}])),r=()=>{const e=new Date(l.value.create_time),t=new Date,a=0===l.value.status?new Date(t.getTime()-288e5):new Date(l.value.update_time);if(isNaN(e.getTime())||isNaN(a.getTime()))return"Invalid date";const i=Math.abs(a-e),s=Math.floor(i/1e3)%60,n=Math.floor(i/6e4)%60,u=Math.floor(i/36e5)%24,r=Math.floor(i/864e5),o=[];return r>0&&o.push(`${r}${f("experiment.index.header.experiment_infos.time.day")}`),u>0&&o.push(`${u}${f("experiment.index.header.experiment_infos.time.hour")}`),n>0&&o.push(`${n}${f("experiment.index.header.experiment_infos.time.minute")}`),s>0&&o.push(`${s}${f("experiment.index.header.experiment_infos.time.second")}`),o.join("")};return(t,i)=>{var r;return e(),h("div",j,[y("div",L,[y("span",T,n(l.value.name),1),s(C,{text:l.value.name,"icon-class":"w-5 h-5 text-dimmest cursor-pointer hover:text-dimmer mr-3"},null,8,["text"])]),(null==(r=l.value)?void 0:r.description)?(e(),h("div",D,[y("span",null,n(l.value.description),1),s(C,{text:l.value.description,"icon-class":"w-5 h-5 text-dimmest cursor-pointer hover:text-dimmer ml-4 mr-3"},null,8,["text"])])):g("",!0),y("div",M,[y("div",N,[y("div",E,[y("div",I,n(t.$t("experiment.index.header.experiment_infos.status")),1),s(b,{name:l.value.name,id:l.value.id,status:l.value.status},null,8,["name","id","status"])]),(e(!0),h(_,null,w(a.value,(l=>(e(),h("div",{key:l.title},[l.value?(e(),h("div",q,[y("div",B,n(t.$t(`experiment.index.header.experiment_infos.${l.title}`)),1),l.isLink?(e(),h("a",{key:1,href:l.value,target:"_blank",class:"hover:underline break-all"},n(l.value),9,H)):(e(),h("div",{key:0,title:l.value},n(l.value),9,F))])):g("",!0)])))),128))]),l.value.system?(e(),h("div",U,[(e(!0),h(_,null,w(u.value,(l=>(e(),h("div",{key:l.title,class:"flex pb-4"},[y("div",z,n(t.$t(`experiment.index.header.experiment_device.${l.title}`)),1),y("div",{title:l.value},n(l.value||"Unkown"),9,A)])))),128))])):g("",!0)])])}}},[["__scopeId","data-v-61e072c3"]]),J={class:"w-full"},O={class:"text-lg font-semibold"},P=d({__name:"ExtendBlock",props:{title:{type:String,required:!0},icon:{type:String,required:!0},retract:{type:Boolean,default:!0}},setup(l){const u=m(!0);return(r,o)=>(e(),h("div",J,[y("button",{class:i(["flex items-center py-4",l.retract?"":"pl-6 cursor-default"]),onClick:o[0]||(o[0]=()=>l.retract&&(u.value=!u.value))},[l.retract?(e(),t(a,{key:0,icon:"down",class:i(["w-5 h-5 mx-1 text-dimmest",u.value?"rotate-show":"rotate-hidden"])},null,8,["class"])):g("",!0),s(a,{icon:l.icon,class:"w-6 h-6 mr-2"},null,8,["icon"]),y("span",O,n(l.title),1)],2),y("div",{class:i(["transition-all duration-200 pr-5",l.retract?u.value?"max-h-[500px] overflow-auto":"max-h-0 overflow-hidden":""])},[k(r.$slots,"default",{},void 0,!0)],2)]))}},[["__scopeId","data-v-2a090e66"]]),Q={__name:"SLHelp",props:{iconClass:{type:String,default:""},content:{type:String,default:""},contentClass:{type:String,default:""},document:{type:String}},setup(a){const s=a,u=()=>{s.document&&window.open(s.document,"_blank")};return(s,c)=>(e(),t(r(o),{trigger:"mouseenter",placement:"right",class:i(a.document?"cursor-pointer":""),onClick:u},{content:l((()=>[y("div",{class:i(a.contentClass)},n(a.content),3),k(s.$slots,"default")])),default:l((()=>[y("div",{class:i(["w-5 h-5 flex items-center justify-center text-sm rounded-full pointer-events-none bg-slate-400 text-white font-semibold",a.iconClass])}," ? ",2)])),_:3},8,["class"]))}},W={class:"pl-6 w-full grid lg:grid-cols-2 lg:gap-10"},K={class:"flex items-center pb-4"},R={class:"font-semibold pr-2"},V={key:0},X={key:0,class:"flex items-center pb-4"},Y={class:"font-semibold pr-2"},Z=y("div",{class:"w-full h-6"},null,-1),ee={__name:"ExperimentConfig",setup(a){const i=m(p().experiment),r=[{title:"key",key:"key"},{title:"value",key:"value"}],o=v((()=>{const e=[];for(const t in i.value.config)e.push({key:t,value:i.value.config[t]});return e})),c=m([]),d=m(p().id);return $.get(`/experiment/${d.value}/summary`).then((({data:e})=>{c.value=e.summaries||[]})).catch((e=>{})),(a,i)=>(e(),t(P,{class:"pt-2 pr-5",icon:"config",title:a.$t("experiment.index.config.title"),retract:!1},{default:l((()=>{var t,i;return[y("div",W,[y("div",null,[y("div",K,[y("p",R,n(a.$t("experiment.index.config.detail")),1),s(Q,{document:"https://geektechstudio.feishu.cn/wiki/EFi3wuACGiEWlLki5aDcQiSpngg"},{default:l((()=>[u(n(a.$t("experiment.index.config.help.config")),1)])),_:1})]),s(S,{column:r,data:o.value,"high-light":""},null,8,["data"])]),0!==(null==(t=c.value)?void 0:t.length)?(e(),h("div",V,[0!==(null==(i=c.value)?void 0:i.length)?(e(),h("div",X,[y("p",Y,n(a.$t("experiment.index.config.summarize")),1),s(Q,{document:"https://geektechstudio.feishu.cn/wiki/TudNwOSMyihFetky7l5cTI8UnJf"},{default:l((()=>[u(n(a.$t("experiment.index.config.help.summary")),1)])),_:1})])):g("",!0),s(S,{column:r,data:c.value,"high-light":""},null,8,["data"])])):g("",!0)]),Z]})),_:1},8,["title"]))}},te=y("hr",null,null,-1),le=y("hr",null,null,-1),ae={__name:"IndexPage",setup:t=>(t,l)=>(e(),h(_,null,[s(G),te,s(ee),le],64))};export{ae as default};
