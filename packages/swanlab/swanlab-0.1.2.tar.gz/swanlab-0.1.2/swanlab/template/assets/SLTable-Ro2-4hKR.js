import{_ as e,r as l,d as o,D as t,o as a,f as u,a as s,F as r,i as n,B as v,n as d,l as i,t as c,j as y,v as m}from"./index-tTK76gg1.js";const b={class:"w-full relative"},f={class:"w-full overflow-auto border"},h={class:"w-full"},p={class:"border-bottom"},w={class:"border-b"},g=["onMouseover"],k=["title"],$=["onMousedown"],x=["title","onMouseover"],M={key:0},_={key:1},L=e({__name:"SLTable",props:{data:{type:Array,default:()=>[]},column:{type:Array,default:()=>[]},maxW:{type:String,default:"none"},highLight:{type:Boolean,default:!0},widthInit:{type:Boolean}},setup(e){const L=l(null),E=l([]),S=e,W=l(-1),z=o((()=>-1===B.value?W.value:B.value));t((()=>{S.column.forEach(((e,l)=>{if(S.widthInit){const e=L.value[l].offsetWidth;E.value[l]=e}e.width&&(E.value[l]=e.width)}))}));const B=l(-1),I=l(0),j=l(0),A=l(70),X=e=>{let l=j.value+(e.clientX-I.value);l=l<A.value?A.value:l,E.value[B.value]=l,L.value[B.value]=l},D=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",D),document.body.style.userSelect="auto",document.body.style.cursor="",I.value=0,j.value=0,B.value=-1};return(l,o)=>(a(),u("div",b,[s("div",{class:v(["relative w-full",e.maxW])},[s("div",f,[s("table",h,[s("colgroup",null,[(a(!0),u(r,null,n(e.column,((e,l)=>(a(),u("col",{key:e.key+e.slot+l,class:v(`${z.value===l?"bg-blue-50":""} ${"swanlab-table-column-"+l}`),ref_for:!0,ref_key:"columns",ref:L},null,2)))),128))]),s("thead",p,[s("tr",w,[(a(!0),u(r,null,n(e.column,((l,t)=>(a(),u("th",{key:l.key,class:v(["relative overflow-hidden",`${z.value===t?"bg-slate-200":"bg-slate-50"} ${l.border?"border-r":""}`]),onMouseover:()=>W.value=t,onMouseout:o[0]||(o[0]=()=>W.value=-1)},[s("div",{class:v(["overflow-hidden",l.style?l.style:"px-2 py-3"]),style:d({width:E.value[t]+"px"}),title:l.title},[i(c(l.title)+" ",1),e.column.unresizeable?y("",!0):(a(),u("span",{key:0,class:v(["w-1.5 h-full absolute right-0 top-0 hover:bg-positive-dimmer hover:opacity-20 cursor-col-resize",`${z.value===t?"bg-positive-highest":""} ${B.value===t?"!bg-primary-default":""}`]),onMousedown:e=>((e,l)=>{document.body.style.userSelect="none",document.body.style.cursor="col-resize",B.value=l,I.value=e.clientX,E.value[l]||(E.value[l]=L.value[l].offsetWidth),j.value=E.value[l],document.addEventListener("mousemove",X),document.addEventListener("mouseup",D)})(e,t)},null,42,$))],14,k)],42,g)))),128))])]),s("tbody",null,[(a(!0),u(r,null,n(e.data,((t,i)=>(a(),u("tr",{key:t,class:v(-1===B.value?"hover:bg-blue-50":"")},[(a(!0),u(r,null,n(e.column,((e,r)=>(a(),u("td",{key:e.key,title:t[e.key],class:v(["overflow-hidden",`${"swanlab-table-column-"+r} ${-1===B.value?"hover:bg-blue-100":""} ${e.border?"border-r":""}`]),onMouseover:()=>W.value=r,onMouseout:o[1]||(o[1]=()=>W.value=-1)},[s("div",{class:v(["overflow-hidden",e.style?e.style:"px-2 py-3"]),style:d({width:E.value[r]+"px"})},[e.slot?(a(),u("div",M,[m(l.$slots,e.slot,{row:t,index:i},void 0,!0)])):(a(),u("div",_,c(t[e.key]||"-"),1))],6)],42,x)))),128))],2)))),128))])])])],2)]))}},[["__scopeId","data-v-7a617988"]]);export{L as S};
