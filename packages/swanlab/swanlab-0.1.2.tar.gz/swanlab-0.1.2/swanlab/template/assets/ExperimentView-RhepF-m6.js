import{_ as e,s as t,o as a,f as s,F as r,i as n,m as i,w as l,t as d,l as u,a as m,v as c,x as o,y as p,b as x,d as v,z as _,A as f,c as h,u as b,j as I,h as g}from"./index-tTK76gg1.js";const w={class:"w-full pt-2 pl-6 bg-dimmer flex border-b h-full"},$=e({__name:"TabsHeader",setup(e){const m=["index","chart","log"];return(e,c)=>{const o=t("router-link");return a(),s("div",w,[(a(),s(r,null,n(m,(t=>i(o,{to:t,key:t,class:"link","active-class":"link-active"},{default:l((()=>[u(d(e.$t(`experiment.tabs.${t}`)),1)])),_:2},1032,["to"]))),64))])}}},[["__scopeId","data-v-edf51e08"]]),k={class:"w-full h-full"},y={class:"w-full bg-dimmer h-16"},E={class:"experiment-content"},S=e({__name:"ExperimentLayout",setup:e=>(e,t)=>(a(),s("div",k,[m("div",y,[c(e.$slots,"tabs",{},void 0,!0)]),m("div",E,[c(e.$slots,"default",{},void 0,!0)])]))},[["__scopeId","data-v-1803c6ae"]]),j={__name:"ExperimentView",setup(e){const s=o(),r=p(),n=x(),d=v((()=>void 0!==r.id)),u=_("show_error"),m=async(e=s.params.experimentId)=>{r.experiment=void 0,r.charts=void 0,g.get(`/experiment/${e}`).then((({data:e})=>{r.experiment=e,n.setExperimentStatus(e.experiment_id,e.status),r.isRunning&&w()})).catch((e=>{u(e.data.code)}))};m(),f(((e,t)=>{e.params.experimentId!==t.params.experimentId&&(m(e.params.experimentId),clearInterval(c))}));let c=null;const w=()=>{c=setInterval((()=>{g.get(`/experiment/${r.id}/status`).then((({data:e})=>{Number(r.id)===Number(s.params.experimentId)?(r.setStatus(e.status),n.setExperimentStatus(r.id,e.status),r.charts=e.charts,r.isRunning||clearInterval(c)):clearInterval(c)}))}),1e3)};return(e,s)=>{const n=t("router-view");return d.value?(a(),h(S,{key:b(r).id},{tabs:l((()=>[i($)])),default:l((()=>[i(n)])),_:1})):I("",!0)}}};export{j as default};
