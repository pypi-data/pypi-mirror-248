import{_ as e,r as t,y as l,d as a,k as i,e as s,o as n,f as u,a as r,t as o,j as d,m as c,F as m,i as p,c as v,B as x,C as f,v as h,w as y,u as g,T as _,h as w,l as k}from"./index-tTK76gg1.js";import{S as $}from"./SLStatusLabel-KeW_O3FE.js";/* empty css                                                */import{S as b}from"./SLTable-Ro2-4hKR.js";const S={class:"w-full px-6 pt-6 text-dimmer"},j={class:"flex items-center"},C={class:"text-2xl font-semibold text-default pr-4"},L={key:0,class:"flex items-center pt-5"},I={class:"flex justify-between pt-6 pb-2 flex-wrap"},M={class:"min-w-[400px] max-w-[50%] pr-4"},T={class:"flex pb-4"},D={class:"min-w-[150px]"},E={key:0,class:"flex pb-4"},N={class:"min-w-[150px]"},B=["title"],F=["href"],q={key:0,class:"w-1/2 min-w-[400px]"},H={class:"min-w-[150px]"},U=["title"],z=e({__name:"ExperimentHeader",setup(e){const v=t(l().experiment),x=a((()=>[{title:"start_time",value:i(v.value.create_time)},{title:"last_time",value:y.value},{title:"version",value:`v${v.value.version}`},{title:"git",value:v.value.system.git_remote,isLink:!0}])),f=a((()=>{var e,t;const l="experiment.index.header.experiment_device";return[v.value.system.cpu?s(`${l}.cpu`,{value:v.value.system.cpu}):"",(null==(e=v.value.system.gpu)?void 0:e.cores)?s(`${l}.gpu`,{value:v.value.system.gpu.cores}):"",(null==(t=v.value.system.gpu)?void 0:t.type[0])?s(`${l}.type`,{value:v.value.system.gpu.type[0]}):""].filter((e=>""!==e)).join(" | ")})),h=a((()=>[{title:"hostname",value:v.value.system.hostname||""},{title:"os",value:v.value.system.os||""},{title:"python",value:v.value.system.python||""},{title:"executable",value:v.value.system.executable||""},{title:"hardware",value:f.value}])),y=a((()=>{const e=new Date(v.value.create_time),t=new Date,l=0===v.value.status?new Date(t.getTime()-288e5):new Date(v.value.update_time);if(isNaN(e.getTime())||isNaN(l.getTime()))return"Invalid date";const a=Math.abs(l-e),i=Math.floor(a/1e3)%60,n=Math.floor(a/6e4)%60,u=Math.floor(a/36e5)%24,r=Math.floor(a/864e5),o=[];return r>0&&o.push(`${r}${s("experiment.index.header.experiment_infos.time.day")}`),u>0&&o.push(`${u}${s("experiment.index.header.experiment_infos.time.hour")}`),n>0&&o.push(`${n}${s("experiment.index.header.experiment_infos.time.minute")}`),i>0&&o.push(`${i}${s("experiment.index.header.experiment_infos.time.second")}`),o.join("")}));return(e,t)=>{var l;return n(),u("div",S,[r("div",j,[r("span",C,o(v.value.name),1)]),(null==(l=v.value)?void 0:l.description)?(n(),u("div",L,[r("span",null,o(v.value.description),1)])):d("",!0),r("div",I,[r("div",M,[r("div",T,[r("div",D,o(e.$t("experiment.index.header.experiment_infos.status")),1),c($,{name:v.value.name,id:v.value.id,status:v.value.status},null,8,["name","id","status"])]),(n(!0),u(m,null,p(x.value,(t=>(n(),u("div",{key:t.title},[t.value?(n(),u("div",E,[r("div",N,o(e.$t(`experiment.index.header.experiment_infos.${t.title}`)),1),t.isLink?(n(),u("a",{key:1,href:t.value,target:"_blank",class:"hover:underline break-all"},o(t.value),9,F)):(n(),u("div",{key:0,title:t.value},o(t.value),9,B))])):d("",!0)])))),128))]),v.value.system?(n(),u("div",q,[(n(!0),u(m,null,p(h.value,(t=>(n(),u("div",{key:t.title,class:"flex pb-4"},[r("div",H,o(e.$t(`experiment.index.header.experiment_device.${t.title}`)),1),r("div",{title:t.value},o(t.value||"Unkown"),9,U)])))),128))])):d("",!0)])])}}},[["__scopeId","data-v-16df1d51"]]),A={class:"w-full"},G={class:"text-lg font-semibold"},J=e({__name:"ExtendBlock",props:{title:{type:String,required:!0},icon:{type:String,required:!0},retract:{type:Boolean,default:!0}},setup(e){const l=t(!0);return(t,a)=>(n(),u("div",A,[r("button",{class:x(["flex items-center py-4",e.retract?"":"pl-6 cursor-default"]),onClick:a[0]||(a[0]=()=>e.retract&&(l.value=!l.value))},[e.retract?(n(),v(f,{key:0,icon:"down",class:x(["w-5 h-5 mx-1 text-dimmest",l.value?"rotate-show":"rotate-hidden"])},null,8,["class"])):d("",!0),c(f,{icon:e.icon,class:"w-6 h-6 mr-2"},null,8,["icon"]),r("span",G,o(e.title),1)],2),r("div",{class:x(["transition-all duration-200 pr-5",e.retract?l.value?"max-h-[500px] overflow-auto":"max-h-0 overflow-hidden":""])},[h(t.$slots,"default",{},void 0,!0)],2)]))}},[["__scopeId","data-v-2a090e66"]]),O={__name:"SLHelp",props:{iconClass:{type:String,default:""},content:{type:String,default:""},contentClass:{type:String,default:""},document:{type:String}},setup(e){const t=e,l=()=>{t.document&&window.open(t.document,"_blank")};return(t,a)=>(n(),v(g(_),{trigger:"mouseenter",placement:"right",class:x(e.document?"cursor-pointer":""),onClick:l},{content:y((()=>[r("div",{class:x(e.contentClass)},o(e.content),3),h(t.$slots,"default")])),default:y((()=>[r("div",{class:x(["w-5 h-5 flex items-center justify-center text-sm rounded-full pointer-events-none bg-slate-400 text-white font-semibold",e.iconClass])}," ? ",2)])),_:3},8,["class"]))}},P={class:"pl-6 w-full grid lg:grid-cols-2 lg:gap-10"},Q={class:"flex items-center pb-4"},W={class:"font-semibold pr-2"},K={key:0},R={key:0,class:"flex items-center pb-4"},V={class:"font-semibold pr-2"},X=r("div",{class:"w-full h-6"},null,-1),Y={__name:"ExperimentConfig",setup(e){const i=t(l().experiment),s=[{title:"key",key:"key"},{title:"value",key:"value"}],m=a((()=>{const e=[];for(const t in i.value.config)e.push({key:t,value:i.value.config[t]});return e})),p=t([]),x=t(l().id);return w.get(`/experiment/${x.value}/summary`).then((({data:e})=>{p.value=e.summaries||[]})).catch((e=>{})),(e,t)=>(n(),v(J,{class:"pt-2 pr-5",icon:"config",title:e.$t("experiment.index.config.title"),retract:!1},{default:y((()=>{var t,l;return[r("div",P,[r("div",null,[r("div",Q,[r("p",W,o(e.$t("experiment.index.config.detail")),1),c(O,{document:"https://geektechstudio.feishu.cn/wiki/EFi3wuACGiEWlLki5aDcQiSpngg"},{default:y((()=>[k(o(e.$t("experiment.index.config.help.config")),1)])),_:1})]),c(g(b),{column:s,data:m.value,widthInit:""},null,8,["data"])]),0!==(null==(t=p.value)?void 0:t.length)?(n(),u("div",K,[0!==(null==(l=p.value)?void 0:l.length)?(n(),u("div",R,[r("p",V,o(e.$t("experiment.index.config.summarize")),1),c(O,{document:"https://geektechstudio.feishu.cn/wiki/TudNwOSMyihFetky7l5cTI8UnJf"},{default:y((()=>[k(o(e.$t("experiment.index.config.help.summary")),1)])),_:1})])):d("",!0),c(g(b),{column:s,data:p.value,widthInit:""},null,8,["data"])])):d("",!0)]),X]})),_:1},8,["title"]))}},Z=r("hr",null,null,-1),ee=r("hr",null,null,-1),te={__name:"IndexPage",setup:e=>(e,t)=>(n(),u(m,null,[c(z),Z,c(Y),ee],64))};export{te as default};
