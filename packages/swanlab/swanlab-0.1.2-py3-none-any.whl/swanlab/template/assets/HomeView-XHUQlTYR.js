import{o as e,c as a,w as t,n as s,a as l,t as r,u as i,R as o,_ as n,b as m,d as c,r as u,e as p,h as d,f as w,g as v,i as f,j as h,F as x,k as b,l as y,m as g,p as _,q as j}from"./index-tTK76gg1.js";import{S as k}from"./SLStatusLabel-KeW_O3FE.js";import{S}from"./SLTable-Ro2-4hKR.js";const $=["title"],q={__name:"ExperimentName",props:{name:{type:String,required:!0},color:{type:String,required:!0},id:{required:!0}},setup:n=>(m,c)=>(e(),a(i(o),{class:"flex gap-2 items-center",to:`/experiment/${n.id}`},{default:t((()=>[l("circle",{class:"w-3 h-3 rounded-full flex-shrink-0",style:s({backgroundColor:m.$props.color})},null,4),l("p",{class:"truncate",title:n.name},r(n.name),9,$)])),_:1},8,["to"]))},E={class:"p-6 flex flex-col gap-5 text-dimmer border-b"},L={class:"text-2xl font-semibold text-default"},T={class:"w-80 flex flex-col gap-4"},O={class:"flex justify-between"},P={class:"grow"},C={class:"w-36 whitespace-nowrap"},F={class:"flex justify-between"},H={class:"grow"},I={class:"w-36 whitespace-nowrap"},N={class:"flex justify-between"},R={class:"grow"},V={class:"w-36 whitespace-nowrap"},z={class:"p-6"},A={class:"text-xl font-semibold mb-4"},B=n({__name:"HomeView",setup(s){const o=m(),n=c((()=>b(o.createTime))),$=c((()=>b(o.updateTime))),B=u([{title:p("home.list.table.header.name"),slot:"name",style:"px-4",width:200,border:!0},{title:p("home.list.table.header.status"),slot:"status"},{title:p("home.list.table.header.create"),slot:"create"}]),D=[];o.experiments.map((e=>{Object.entries(e.config).forEach((([e])=>{D.some((a=>a.title===e))||D.push({key:e,slot:e,title:e})}))})),B.value.push(...D);const G=c((()=>o.experiments.map((e=>{const a=K.value[e.name];return a?(Promise.all(Object.keys(a).map((async t=>{e[await M(t)]=a[t]}))),e):{}})))),J=u(),K=u({});async function M(e){return"swanlab-overview-table-key"+e}return d.get("/project/summaries",{params:{experiment_names:(()=>{let e=[];return o.experiments.forEach((a=>{e.push(a.name)})),e.join(",")})()}}).then((async({data:e})=>{J.value=await Promise.all(e.tags.map((async e=>({key:await M(e),title:e})))),B.value.push(...J.value),K.value=e.summaries})),(s,m)=>(e(),w(x,null,[l("div",E,[l("h1",L,r(i(o).name),1),l("div",T,[l("div",O,[l("div",P,r(s.$t("home.overview.create")),1),l("p",C,r(n.value),1)]),l("div",F,[l("div",H,r(s.$t("home.overview.latest")),1),l("p",I,r($.value),1)]),l("div",N,[l("div",R,r(s.$t("home.overview.total")),1),l("p",V,r(i(o).sum),1)])])]),l("div",z,[l("h2",A,r(s.$t("home.list.title")),1),J.value?(e(),a(i(S),{key:0,column:B.value,data:G.value},v({name:t((({row:e})=>[g(q,{name:e.name,id:e.experiment_id,color:e.color},null,8,["name","id","color"])])),status:t((({row:e})=>[g(k,{id:e.experiment_id,status:e.status},null,8,["id","status"])])),create:t((({row:e})=>[y(r(i(_)(i(j)(e.create_time))),1)])),_:2},[f(D,(e=>({name:e.key,fn:t((({row:a})=>[y(r(a.config[e.key]||"-"),1)]))})))]),1032,["column","data"])):h("",!0)])],64))}},[["__scopeId","data-v-528d723e"]]);export{B as default};
