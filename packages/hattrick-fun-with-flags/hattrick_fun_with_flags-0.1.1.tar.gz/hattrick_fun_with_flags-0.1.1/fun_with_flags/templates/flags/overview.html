{% extends 'base.html' %}

{% block header %}
  <h2>{% block title %}Flag Overview{% endblock %}</h1>
{% endblock %}

{% block content %}
  <h3>Welcome {{ session['username'] }}!</h3>
  <label for="teams">Choose a team:</label>
  <form method="post">
    <select name="teams" id="teams">
      {% for t in range(g.teams | length) %}
        {% if g.teamid is defined and g.teamid == g.teams[t][0] %}
          <option value="{{ g.teams[t][0] }}" selected>
            {{ g.teams[t][1] }}
          </option>
        {% else %}
          <option value="{{ g.teams[t][0] }}" >
            {{ g.teams[t][1] }}
          </option>
        {% endif %}
      {% endfor %}
    </select>
    <input type="submit" value="Select">
  </form>
  <br>

  {% if g.teamid is defined %}
    <h4>Home Flags</h4>
      <table class="flags_table">
        <tr>
          {% for i in range(g.l_home | length) %}
            {% if (i + 1) % 22 == 0 %}
              <td>
                <p style="color:lightgray;">
                  <a href="{{url_for('flags.details')}}?flagid={{ g.l_home[i][0] }}">
                    <img src="{{ g.l_home[i][2] }}" alt="{{ g.l_home[i][1] }}" title="{{ g.l_home[i][1] }}">
                  </a>
                </p>
              </td>
            </tr>
            <tr>
            {% else %}
              <td>
                <p style="color:lightgray;">
                  <a href="{{url_for('flags.details')}}?flagid={{ g.l_home[i][0] }}">
                    <img src="{{ g.l_home[i][2] }}" alt="{{ g.l_home[i][1] }}" title="{{ g.l_home[i][1] }}">
                </p>
              </td>
            {% endif %}
          {% endfor %}
        </tr>
      </table>
      <br>
    <h4>Away Flags</h4>
      <table class="flags_table">
        <tr>
          {% for i in range(g.l_away | length) %}
            {% if (i + 1) % 22 == 0 %}
              <td>
                <p style="color:lightgray;">
                  <a href="{{url_for('flags.details')}}?flagid={{ g.l_home[i][0] }}">
                    <img src="{{ g.l_away[i][2] }}" alt="{{ g.l_away[i][1] }}" title="{{ g.l_away[i][1] }}">
                  </a>
                </p>
              </td>
            </tr>
            <tr>
            {% else %}
              <td>
                <p style="color:lightgray;">
                  <a href="{{url_for('flags.details')}}?flagid={{ g.l_home[i][0] }}">
                    <img src="{{ g.l_away[i][2] }}" alt="{{ g.l_away[i][1] }}" title="{{ g.l_away[i][1] }}">
                  </a>
                </p>
              </td>
            {% endif %}
          {% endfor %}
        </tr>
      </table>
  {% endif %}
{% endblock %}