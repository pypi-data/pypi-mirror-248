{"version":3,"file":"tech_jupyter_ui_packages_lite_ipykernel-extension_lib_index_js.da3d9da72e5a5330848c.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAC2D;AACwB;AACtB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uEAAY,EAAE,4FAAiC;AAC9D;AACA,wBAAwB,wEAAqB;AAC7C,kCAAkC,uEAAoB,6BAA6B;AACnF;AACA,2BAA2B,+DAAY;AACvC;AACA,uDAAuD,+DAAY;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,8DAAW;AAC7C,iBAAiB;AACjB,aAAa;AACb;AACA,wBAAwB,gBAAgB,QAAQ,iaAA0C;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;;;;AC1DvB;AACA;AACA;AACA;AACA;AAC0C;AAC1C;AACA;AACA;AACO,qBAAqB,oDAAK;AACjC;AACA;AACA;AACO;AACP;AACA;AACA;AACO,yBAAyB,oDAAK;;;;;;;;;;;;;;;;;ACjBrC;AACA;AACA;AACA;AACA;AAC0C;AAC1C;AACA;AACA;AACO,8CAA8C,oDAAK","sources":["webpack://@datalayer/run/../../tech/jupyter/ui/packages/lite/ipykernel-extension/lib/index.js","webpack://@datalayer/run/../../tech/jupyter/ui/packages/lite/kernel/lib/tokens.js","webpack://@datalayer/run/../../tech/jupyter/ui/packages/lite/server/lib/tokens.js"],"sourcesContent":["/*\n * Copyright (c) 2021-2023 Datalayer, Inc.\n *\n * MIT License\n */\n// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\nimport { IServiceWorkerRegistrationWrapper, } from '@datalayer/jupyterlite-server';\nimport { IKernelSpecs } from '@datalayer/jupyterlite-kernel';\n/**\n * The default CDN fallback for Pyodide\n */\nconst PYODIDE_CDN_URL = 'https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js';\n/**\n * The id for the extension, and key in the litePlugins.\n */\nconst PLUGIN_ID = '@datalayer/jupyterlite-ipykernel-extension:kernel';\n/**\n * A plugin to register the Pyodide kernel.\n */\nconst kernel = {\n    id: PLUGIN_ID,\n    autoStart: true,\n    requires: [IKernelSpecs, IServiceWorkerRegistrationWrapper],\n    activate: (app, kernelspecs, serviceWorkerRegistrationWrapper) => {\n        const baseUrl = PageConfig.getBaseUrl();\n        const config = JSON.parse(PageConfig.getOption('litePluginSettings') || '{}')[PLUGIN_ID] || {};\n        const url = config.pyodideUrl || PYODIDE_CDN_URL;\n        const pyodideUrl = URLExt.parse(url).href;\n        const rawPipUrls = config.pipliteUrls || [];\n        const pipliteUrls = rawPipUrls.map((pipUrl) => URLExt.parse(pipUrl).href);\n        const disablePyPIFallback = !!config.disablePyPIFallback;\n        kernelspecs.register({\n            spec: {\n                name: 'python',\n                display_name: 'Python (Pyodide)',\n                language: 'python',\n                argv: [],\n                resources: {\n                    'logo-32x32': 'TODO',\n                    'logo-64x64': URLExt.join(baseUrl, '/kernelspecs/python.png'),\n                },\n            },\n            create: async (options) => {\n                const { PyoliteKernel } = await import('@datalayer/jupyterlite-ipykernel');\n                return new PyoliteKernel({\n                    ...options,\n                    pyodideUrl,\n                    pipliteUrls,\n                    disablePyPIFallback,\n                    mountDrive: serviceWorkerRegistrationWrapper.enabled,\n                });\n            },\n        });\n    },\n};\nconst plugins = [kernel];\nexport default plugins;\n","/*\n * Copyright (c) 2022-2023 Datalayer Inc. All rights reserved.\n *\n * MIT License\n */\nimport { Token } from '@lumino/coreutils';\n/**\n * The token for the kernels service.\n */\nexport const IKernels = new Token('@datalayer/jupyterlite-kernel:IKernels');\n/**\n * The kernel name of last resort.\n */\nexport const FALLBACK_KERNEL = 'javascript';\n/**\n * The token for the kernel spec service.\n */\nexport const IKernelSpecs = new Token('@datalayer/jupyterlite-kernel:IKernelSpecs');\n","/*\n * Copyright (c) 2022-2023 Datalayer Inc. All rights reserved.\n *\n * MIT License\n */\nimport { Token } from '@lumino/coreutils';\n/**\n * The token for the ServiceWorker.\n */\nexport const IServiceWorkerRegistrationWrapper = new Token('@datalayer/jupyterlite-server-extension:IServiceWorkerRegistrationWrapper');\n"],"names":[],"sourceRoot":""}