"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5729],{55729:function(e,n,i){i.d(n,{Z:function(){return z}});var t=i(82394),r=i(75582),o=i(82684),c=i(69864),l=i(71180),s=i(15338),d=i(97618),a=i(55485),u=i(85854),p=i(48670),j=i(65956),h=i(82359),v=i(88543),f=i(38276),g=i(30160),x=i(17488),m=i(69650),Z=i(12468),b=i(35686),y=i(77417),P=i(38626),_=i(44897),O=i(42631),k=i(70515),C=P.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1b0w59t-0"})(["border-radius:","px;padding:","px;",""],O.n_,k.cd*k.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||_.Z.background).codeArea,";\n  ")})),w=i(72473),I=i(72191),S=i(70320),E=i(81728),D=i(42122),N=i(72619),A=i(23780),M=i(28598);function H(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function L(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?H(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var z=function(e){var n,i,P,_=e.cancelButtonText,O=e.contained,H=e.header,z=e.onCancel,B=e.onSaveSuccess,V=e.rootProject,F=(0,A.VI)(null,{},[],{uuid:"settings/workspace/preferences"}),R=(0,r.Z)(F,1)[0],T=(0,o.useState)(null),U=T[0],q=T[1],W=(0,o.useState)(!1),G=W[0],Y=W[1],J=(0,y.Z)(),K=J.fetchProjects,Q=J.project,X=J.projectPlatformActivated,$=J.rootProject,ee=(0,o.useMemo)((function(){return V?$:Q}),[Q,$,V]),ne=ee||{},ie=ne.name,te=ne.openai_api_key,re=ne.project_uuid,oe=(0,o.useMemo)((function(){return"demo.mage.ai"===window.location.hostname}),[]);(0,o.useEffect)((function(){U||q(ee)}),[ee,U]);var ce=(0,c.Db)(b.ZP.projects.useUpdate(ie),{onSuccess:function(e){return(0,N.wD)(e,{callback:function(e){var n,i=e.project;K(),q(i),Y(!1),(0,S.hY)(null===i||void 0===i||null===(n=i.features)||void 0===n?void 0:n[h.d.LOCAL_TIMEZONE]),B&&(null===B||void 0===B||B(i))},onErrorCallback:function(e,n){return R({errors:n,response:e})}})}}),le=(0,r.Z)(ce,2),se=le[0],de=le[1].isLoading,ae=(0,o.useCallback)((function(e){return se({project:L(L({},e),{},{root_project:V})})}),[V,se]),ue=(0,M.jsxs)(M.Fragment,{children:[H,(0,M.jsxs)(j.Z,{noPadding:!0,children:[(0,M.jsxs)(f.Z,{p:k.cd,children:[(0,M.jsx)(f.Z,{mb:1,children:(0,M.jsx)(u.Z,{level:5,children:"Project name"})}),(0,M.jsx)(g.ZP,{default:!0,monospace:!0,children:ie})]}),(0,M.jsx)(s.Z,{light:!0}),(0,M.jsxs)(f.Z,{p:k.cd,children:[(0,M.jsx)(f.Z,{mb:1,children:(0,M.jsx)(u.Z,{level:5,children:"Project UUID"})}),(0,M.jsx)(g.ZP,{default:!!re,monospace:!0,muted:!re,children:re||"Not required"})]}),(0,M.jsx)(s.Z,{light:!0}),(0,M.jsx)(f.Z,{p:k.cd,children:(0,M.jsxs)(a.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,M.jsxs)(d.Z,{flexDirection:"column",children:[(0,M.jsx)(f.Z,{mb:1,children:(0,M.jsx)(u.Z,{level:5,children:"Help improve Mage"})}),(0,M.jsxs)(g.ZP,{default:!0,children:["Please contribute usage statistics to help improve the developer experience for you and everyone in the community. Learn more ",(0,M.jsx)(p.Z,{href:"https://docs.mage.ai/contributing/statistics/overview",openNewWindow:!0,children:"here"}),"."]})]}),(0,M.jsx)(f.Z,{mr:k.cd}),(0,M.jsx)(m.Z,{compact:!0,checked:null===U||void 0===U?void 0:U.help_improve_mage,onCheck:function(){return q((function(e){return L(L({},e),{},{help_improve_mage:!(null!==U&&void 0!==U&&U.help_improve_mage)})}))}})]})})]}),(0,M.jsx)(f.Z,{mt:k.HN}),(0,M.jsx)(v.Z,{description:"Global settings that are applied to all pipelines in this project.",title:"Pipeline settings",children:(0,M.jsx)(v.S,{description:"Every time a trigger is created or updated in this pipeline, automatically persist it in code.",title:"Save triggers in code automatically",toggleSwitch:{checked:!(null===U||void 0===U||null===(n=U.pipelines)||void 0===n||null===(i=n.settings)||void 0===i||null===(P=i.triggers)||void 0===P||!P.save_in_code_automatically),onCheck:function(e){return q((function(n){var i,t,r,o,c,l;return L(L({},n),{},{pipelines:L(L({},null===n||void 0===n?void 0:n.pipelines),{},{settings:L(L({},null===n||void 0===n||null===(i=n.pipelines)||void 0===i?void 0:i.settings),{},{triggers:L(L({},null===n||void 0===n||null===(t=n.pipelines)||void 0===t||null===(r=t.settings)||void 0===r?void 0:r.triggers),{},{save_in_code_automatically:e(null===n||void 0===n||null===(o=n.pipelines)||void 0===o||null===(c=o.settings)||void 0===c||null===(l=c.triggers)||void 0===l?void 0:l.save_in_code_automatically)})})})})}))}}})}),(0,M.jsx)(f.Z,{mt:k.HN}),(0,M.jsx)(j.Z,{noPadding:!0,overflowVisible:!0,children:(0,M.jsxs)(f.Z,{p:k.cd,children:[(0,M.jsx)(f.Z,{mb:1,children:(0,M.jsx)(u.Z,{level:5,children:"Features"})}),Object.entries((0,D.gR)(null===U||void 0===U?void 0:U.features,[{}])||{}).map((function(e,n){var i=(0,r.Z)(e,2),o=i[0],c=i[1],l=X&&!V&&(null===ee||void 0===ee?void 0:ee.features_override)&&o in(null===ee||void 0===ee?void 0:ee.features_override);return(0,M.jsx)(f.Z,{mt:0===n?0:1,children:(0,M.jsxs)(a.ZP,{alignItems:"center",children:[(0,M.jsxs)(d.Z,{flex:1,children:[(0,M.jsx)(m.Z,{disabled:l,checked:!!c,compact:!0,onCheck:function(){return q((function(e){return L(L({},e),{},{features:L(L({},null===U||void 0===U?void 0:U.features),{},(0,t.Z)({},o,!c))})}))}}),(0,M.jsx)(f.Z,{mr:k.cd}),(0,M.jsxs)(d.Z,{children:[(0,M.jsx)(g.ZP,{default:!c,monospace:!0,children:(0,E.vg)(o)}),o===h.d.LOCAL_TIMEZONE&&(0,M.jsx)(f.Z,{ml:1,children:(0,M.jsx)(Z.Z,L({},S.EB))})]})]}),l&&(0,M.jsx)(g.ZP,{monospace:!0,muted:!0,small:!0,children:"overridden"})]})},o)}))]})}),(0,M.jsx)(f.Z,{mt:k.HN}),(0,M.jsx)(j.Z,{noPadding:!0,children:(0,M.jsxs)(f.Z,{p:k.cd,children:[(0,M.jsx)(f.Z,{mb:1,children:(0,M.jsx)(u.Z,{level:5,children:"OpenAI"})}),te&&!G?(0,M.jsxs)(a.ZP,L(L({},a.A0),{},{children:[(0,M.jsx)(g.ZP,{default:!0,monospace:!0,children:"API key: ********"}),(0,M.jsx)(l.ZP,{iconOnly:!0,onClick:function(){return Y(!0)},secondary:!0,title:"Edit",children:(0,M.jsx)(w.I8,{size:I.bL})})]})):(0,M.jsx)(x.Z,{disabled:oe,label:oe?"Entering API key is disabled on demo":"API key",monospace:!0,onChange:function(e){return q((function(n){return L(L({},n),{},{openai_api_key:e.target.value})}))},primary:!0,setContentOnMount:!0,value:(null===U||void 0===U?void 0:U.openai_api_key)||""})]})}),(0,M.jsx)(f.Z,{mt:k.HN}),(0,M.jsxs)(a.ZP,{alignItems:"center",children:[(0,M.jsx)(l.ZP,{loading:de,onClick:function(){ae({features:null===U||void 0===U?void 0:U.features,help_improve_mage:null===U||void 0===U?void 0:U.help_improve_mage,openai_api_key:null===U||void 0===U?void 0:U.openai_api_key,pipelines:null===U||void 0===U?void 0:U.pipelines})},primary:!0,children:"Save project settings"}),z&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(f.Z,{mr:k.cd}),(0,M.jsx)(l.ZP,{onClick:z,secondary:!0,children:_||"Cancel"})]})]})]});return O?(0,M.jsx)(C,{children:ue}):ue}},88543:function(e,n,i){i.d(n,{S:function(){return b},Z:function(){return y}});var t=i(82684),r=i(15338),o=i(97618),c=i(55485),l=i(85854),s=i(65956),d=i(82394),a=i(44085),u=i(38276),p=i(30160),j=i(17488),h=i(69650),v=i(72473),f=i(8193),g=i(70515),x=i(28598);function m(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Z(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){(0,d.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var b=function(e){var n,i=e.children,t=e.description,r=e.invalid,l=e.large,s=void 0===l||l,d=e.selectInput,m=e.textInput,b=e.title,y=e.toggleSwitch,P=e.warning;return(0,x.jsx)(u.Z,{p:g.cd,children:(0,x.jsxs)(c.ZP,{alignItems:"center",children:[(0,x.jsxs)(c.ZP,{flexDirection:"column",children:[(0,x.jsxs)(p.ZP,{danger:r,default:!0,large:s,warning:P,children:[b," ",r&&(0,x.jsx)(p.ZP,{danger:!0,inline:!0,large:s,children:"is required"})]}),t&&"string"===typeof t&&(0,x.jsx)(p.ZP,{muted:!0,small:!0,children:t}),t&&"string"!==typeof t&&t]}),(0,x.jsx)(u.Z,{mr:g.cd}),(0,x.jsxs)(o.Z,{flex:1,justifyContent:"flex-end",children:[i,m&&(0,x.jsx)(j.Z,Z({afterIcon:(0,x.jsx)(v.I8,{}),afterIconClick:function(e,n){var i;null===n||void 0===n||null===(i=n.current)||void 0===i||i.focus()},afterIconSize:f.Z,alignRight:!0,autoComplete:"off",large:s,noBackground:!0,noBorder:!0,fullWidth:!0,paddingHorizontal:0,paddingVertical:0,setContentOnMount:!0},m)),d&&(0,x.jsx)(a.Z,Z(Z({},d),{},{afterIcon:(0,x.jsx)(v._M,{}),afterIconSize:f.Z,alignRight:!0,autoComplete:"off",large:s,noBackground:!0,noBorder:!0,paddingHorizontal:0,paddingVertical:0,setContentOnMount:!0,children:null===d||void 0===d||null===(n=d.options)||void 0===n?void 0:n.map((function(e){var n=e.label,i=e.value;return(0,x.jsx)("option",{value:i,children:n||i},i)}))})),y&&(0,x.jsx)(h.Z,{checked:!(null===y||void 0===y||!y.checked),compact:!0,onCheck:null===y||void 0===y?void 0:y.onCheck})]})]})})},y=function(e){var n=e.children,i=e.description,d=e.headerChildren,a=e.title;return(0,x.jsxs)(s.Z,{noPadding:!0,children:[(0,x.jsx)(u.Z,{p:g.cd,children:(0,x.jsxs)(c.ZP,{alignItems:"center",children:[(0,x.jsxs)(o.Z,{flex:1,flexDirection:"column",children:[(0,x.jsx)(l.Z,{level:4,children:a}),i&&"string"===typeof i&&(0,x.jsx)(u.Z,{mt:1,children:(0,x.jsx)(p.ZP,{muted:!0,children:i})}),i&&"string"!==typeof i&&i]}),d]})}),t.Children.map(n,(function(e,n){return(0,x.jsxs)("div",{children:[(0,x.jsx)(r.Z,{light:!0}),e]},"".concat(a,"-").concat(n))}))]})}},8193:function(e,n,i){i.d(n,{N:function(){return s},Z:function(){return l}});var t=i(38626),r=i(44897),o=i(42631),c=i(70515),l=2*c.iI,s=t.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1ck7mzt-0"})(["border-radius:","px;padding:","px;",""],o.n_,c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||r.Z.background).codeArea,";\n  ")}))}}]);