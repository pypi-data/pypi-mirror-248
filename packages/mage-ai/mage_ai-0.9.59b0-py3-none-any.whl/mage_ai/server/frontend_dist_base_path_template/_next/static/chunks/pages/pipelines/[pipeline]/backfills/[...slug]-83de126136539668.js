(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{59739:function(e,n,t){"use strict";var r=t(56669);function i(){}function l(){}l.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,l,o){if(o!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:l,resetWarningCache:i};return t.PropTypes=t,t}},47329:function(e,n,t){e.exports=t(59739)()},56669:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},74395:function(e,n,t){"use strict";t.d(n,{M:function(){return o},W:function(){return l}});var r=t(38626),i=t(46684),l=34*t(70515).iI,o=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],i.Mz)},8955:function(e,n,t){"use strict";t.d(n,{G7:function(){return y},ZP:function(){return P},u$:function(){return x}});var r=t(75582),i=t(82394),l=t(26304),o=t(90299),c=t(9134),a=t(24138),u=t(38276),s=t(30160),d=t(75499),f=t(70515),p=t(16488),h=t(42122),b=t(28598),v=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=44,g={uuid:"Run details"},Z={uuid:"Dependency tree"},y=[Z,g];function P(e){var n=e.height,t=e.heightOffset,i=e.pipeline,m=e.selectedRun,P=e.selectedTab,O=e.setSelectedTab,k=j({},(0,l.Z)(e,v));m?k.blockStatus=(0,p.IJ)(null===m||void 0===m?void 0:m.block_runs):k.noStatus=!0;var _=(0,h.Kn)(null===m||void 0===m?void 0:m.variables)?j({},null===m||void 0===m?void 0:m.variables):(null===m||void 0===m?void 0:m.variables)||{},w=null===m||void 0===m?void 0:m.event_variables;if(w&&(0,h.Kn)(w)&&!(0,h.Qr)(w))if((0,h.Kn)(_)&&_.hasOwnProperty("event")){var I=(0,h.Kn)(_.event)?_.event:{};_.event=j(j({},I),w)}else _.event=j({},w);var S=[];_&&JSON.stringify(_,null,2).split("\n").forEach((function(e){S.push("    ".concat(e))}));var C=m&&[["Run ID",null===m||void 0===m?void 0:m.id],["Variables",(0,b.jsx)(c.Z,{language:"json",small:!0,source:S.join("\n")},"variable_value")]],D=m&&(0,b.jsx)(u.Z,{pb:f.cd,px:f.cd,children:(0,b.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:C.map((function(e,n){var t=(0,r.Z)(e,2),i=t[0],l=t[1];return[(0,b.jsx)(s.ZP,{monospace:!0,muted:!0,children:i},"key_".concat(n)),(0,b.jsx)(s.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),E=P&&O;return(0,b.jsxs)(b.Fragment,{children:[E&&(0,b.jsx)(u.Z,{py:f.cd,children:(0,b.jsx)(o.Z,{onClickTab:O,selectedTabUUID:null===P||void 0===P?void 0:P.uuid,tabs:y,underlineStyle:!0})}),(!E||Z.uuid===(null===P||void 0===P?void 0:P.uuid))&&(0,b.jsx)(a.ZP,j(j({},k),{},{height:n,heightOffset:(t||0)+(E?x:0),pipeline:i})),g.uuid===(null===P||void 0===P?void 0:P.uuid)&&D]})}},8916:function(e,n,t){"use strict";t.d(n,{FS:function(){return u},JZ:function(){return f},Tt:function(){return d},e7:function(){return p},wx:function(){return s}});var r=t(75582),i=t(82394),l=t(83784),o=t(30229);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e){return"string"===typeof e?e:JSON.stringify(e)}function s(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return a(a({},e),{},{value:u(n)})}))}function d(e){var n;return null===(n=s(e,(function(e){return e.uuid===l.C})))||void 0===n?void 0:n.reduce((function(e,n){var t=n.uuid,r=n.value;return a(a({},e),{},(0,i.Z)({},t,r))}),{})}function f(e,n){return n===o.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===o.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function p(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],o=t[1],c=o;try{c=JSON.parse(o)}catch(u){}return a(a({},e),{},(0,i.Z)({},l,c))}),{}):e}},88785:function(e,n,t){"use strict";t.d(n,{J:function(){return a},U:function(){return c}});var r=t(38626),i=t(44897),l=t(42631),o=t(70515),c=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],l.TR,14*o.iI,o.cd*o.iI,o.cd*o.iI,40*o.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||i.Z.interactive).linkPrimary,";\n  ")})),a=r.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],l.n_,o.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*o.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*o.iI,"px;\n  ")}))},37899:function(e,n,t){"use strict";var r=t(82394),i=t(75582),l=t(82684),o=t(71180),c=t(15338),a=t(97618),u=t(55485),s=t(38276),d=t(75499),f=t(30160),p=t(35576),h=t(17488),b=t(72473),v=t(70515),m=t(42122),j=t(81728),x=t(28598);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){e.borderless,e.compact;var n=e.enableVariablesOverwrite,t=e.originalVariables,g=e.runtimeVariables,y=(e.setEnableVariablesOverwrite,e.setRuntimeVariables),P=(0,l.useState)({}),O=P[0],k=P[1],_=(0,l.useState)(null),w=_[0],I=_[1],S=(0,l.useState)(null),C=S[0],D=S[1];(0,l.useEffect)((function(){var e=Object.entries(g||{}).reduce((function(e,n){var t=(0,i.Z)(n,2),l=t[0],o=t[1],c=(0,j.Pb)(o)&&"object"===typeof JSON.parse(o)&&!Array.isArray(JSON.parse(o))&&null!==JSON.parse(o);return Z(Z({},e),{},(0,r.Z)({},l,c))}),{});k(e)}),[]);var E=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),y((function(t){return Z(Z({},t),{},(0,r.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return O[e]?(0,x.jsx)(p.Z,Z(Z({},t),{},{rows:1,value:n})):(0,x.jsx)(h.Z,Z({},t))};return(0,x.jsxs)(x.Fragment,{children:[n&&g&&Object.entries(g).length>0&&(0,x.jsx)(d.Z,{columnFlex:[null,1,null],columns:[{uuid:"Variable"},{uuid:"Value"},{label:function(){return""},uuid:"Action"}],rows:Object.entries(g).map((function(e){var n=(0,i.Z)(e,2),r=n[0],l=n[1];return[(0,x.jsx)(f.ZP,{default:!0,monospace:!0,children:r},"variable_".concat(r)),E(r,l),!(null!==t&&void 0!==t&&t[r])&&(0,x.jsx)(o.ZP,{iconOnly:!0,onClick:function(){y((function(e){return(0,m.gR)(e,[r])}))},children:(0,x.jsx)(b.rF,{default:!0})})]}))}),(0,x.jsx)(s.Z,{p:v.cd,children:(0,x.jsxs)(u.ZP,{alignItems:"center",children:[(0,x.jsx)(a.Z,{flex:1,children:(0,x.jsx)(h.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return I(e.target.value)},placeholder:"New variable UUID",value:w||""})}),(0,x.jsx)(s.Z,{mr:1}),(0,x.jsx)(a.Z,{flex:1,children:(0,x.jsx)(h.Z,{fullWidth:!0,monospace:!0,onChange:function(e){return D(e.target.value)},placeholder:"Variable value",value:C||""})}),(0,x.jsx)(s.Z,{mr:1}),(0,x.jsx)(o.ZP,{beforeIcon:(0,x.jsx)(b.mm,{}),disabled:!w||!C,onClick:function(){y((function(e){return Z(Z({},e),{},(0,r.Z)({},w,C))})),I(null),D(null)},children:"Add runtime variable"})]})}),(0,x.jsx)(c.Z,{light:!0})]})}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),l=t(38276),o=t(31748),c=t(72473),a=t(79633),u=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var b=Math.floor(h/2),v=n-b;n+b>=f?(v=f-h+2,h-=2):n-b<=0?(v=0,h-=2):(h-=4,v=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+v}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(c.Hd,{size:1.5*u.iI,stroke:o.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(l.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(l.Z,{ml:1,children:(0,s.jsx)(r.ZP,{backgroundColor:e===n&&a.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(l.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(l.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(l.Z,{ml:1}),(0,s.jsx)(r.ZP,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(c.Kw,{size:1.5*u.iI,stroke:o.Av})})]})})}},93808:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(77837),i=t(26304),l=t(62243),o=t(29385),c=t(80022),a=t(13692),u=t(93189),s=t(15544),d=t(82394),f=t(38860),p=t.n(f),h=t(82684),b=t(56663),v=t.n(b),m=t(40761),j=t(34661),x=t(36105),g=t(50178),Z=t(69419),y=t(28598),P=["auth"];function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,s.Z)(e);if(n){var i=(0,s.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}function w(e){return function(n){(0,a.Z)(u,n);var t=_(u);function u(){var e;(0,l.Z)(this,u);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,d.Z)((0,c.Z)(e),"state",{auth:new m.Z(e.props.token)}),e}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){this.setState({auth:new m.Z(this.props.token)})}},{key:"render",value:function(){var n=this.props,t=(n.auth,(0,i.Z)(n,P));return(0,y.jsx)(e,k({auth:this.state.auth},t))}}],[{key:"getInitialProps",value:function(){var n=(0,r.Z)(p().mark((function n(t){var r,i,l,o,c,a,u,s,d;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=v()(t),i=(0,g.ex)(t),l=i.id,o=r[j.Mv],c=r[x.qt],a=new m.Z(o),u=k(k({},t),{},{auth:a,currentGroupId:l,theme:c}),(0,g.YB)(t)&&a.isExpired&&(console.log("OAuth token has expired."),s=k(k({},t.query),{},{redirect_url:t.asPath}),(0,Z.nL)("/sign-in?".concat((0,Z.uM)(s)),t.res)),!e.getInitialProps){n.next=12;break}return n.next=10,e.getInitialProps(u);case 10:return d=n.sent,n.abrupt("return",k(k({},d),{},{auth:a,currentGroupId:l,theme:c}));case 12:return n.abrupt("return",u);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]),u}(h.Component)}},83641:function(e,n,t){"use strict";t.d(n,{I7:function(){return r},IB:function(){return a},VV:function(){return l},_7:function(){return o},rn:function(){return c}});var r,i=t(41143),l="datetime",o="code",c=i.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(r||(r={}));var a=[r.MINUTE,r.HOUR,r.DAY,r.WEEK,r.MONTH,r.YEAR,r.CUSTOM]},83784:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},14805:function(e,n,t){"use strict";var r=t(82394),i=t(44495),l=t(55485),o=t(44085),c=t(38276),a=t(30160),u=t(88785),s=t(70515),d=t(86735),f=t(28598);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.localTime,t=e.selectedDate,r=e.selectedTime,p=e.setSelectedDate,b=e.setSelectedTime,v=e.topPosition;return(0,f.jsxs)(u.J,{absolute:!0,topPosition:v,children:[(0,f.jsx)(i.ZP,{onChange:p,value:t}),(0,f.jsx)(c.Z,{mb:2}),(0,f.jsxs)(l.ZP,{alignItems:"center",children:[(0,f.jsxs)(a.ZP,{default:!0,large:!0,children:["Time (",n?"Local":"UTC","):"]}),(0,f.jsx)(c.Z,{pr:2}),(0,f.jsx)(o.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),b((function(n){return h(h({},n),{},{hour:e.target.value})}))},paddingRight:5*s.iI,placeholder:"HH",value:null===r||void 0===r?void 0:r.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,f.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,f.jsx)(c.Z,{px:1,children:(0,f.jsx)(a.ZP,{bold:!0,large:!0,children:":"})}),(0,f.jsx)(o.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),b((function(n){return h(h({},n),{},{minute:e.target.value})}))},paddingRight:5*s.iI,placeholder:"MM",value:null===r||void 0===r?void 0:r.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,f.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},79500:function(e,n,t){"use strict";t.d(n,{a:function(){return l}});var r=t(16488),i=t(3917);function l(e,n){var t,l;if(null!==n&&void 0!==n&&n.localTimezone)t=(0,i.n$)(e),l={hour:(0,i.lJ)(String(t.getHours())),minute:(0,i.lJ)(String(t.getMinutes()))};else{var o=e.split(" ")[1];t=(0,r.eI)(e),l={hour:o.substring(0,2),minute:o.substring(3,5)}}return{date:t,time:l}}},9134:function(e,n,t){"use strict";var r=t(82684),i=t(21124),l=t(68432),o=t(38626),c=t(65292),a=t(44897),u=t(95363),s=t(70515),d=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,f=e.showLineNumbers,p=e.small,h=e.source,b=e.wrapLines,v=(0,r.useContext)(o.ThemeContext);function m(e){var r=e.value;return(0,d.jsx)(l.Z,{customStyle:{backgroundColor:(v.background||a.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:u.Vp,fontSize:p?12:14,marginBottom:0,marginTop:0,maxWidth:t,paddingBottom:2*s.iI,paddingTop:2*s.iI},language:n,lineNumberStyle:{color:(v.content||a.Z.content).muted},showLineNumbers:f,style:c._4,useInlineStyles:!0,wrapLines:b,children:r})}return(0,d.jsx)(i.D,{components:{code:function(e){var n=e.children;return(0,d.jsx)(m,{value:n})}},children:h})}},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),l=t(38276),o=t(30160),c=t(44897),a=t(42631),u=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],a.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||c.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||c.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||c.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||c.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||c.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],a.n_,a.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||c.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||c.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),b=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,u.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),v=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],a.M8,a.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,c=e.contentContainerRef,a=e.dark,u=e.footer,s=e.fullHeight,f=void 0===s||s,m=e.fullWidth,j=void 0===m||m,x=e.header,g=e.headerHeight,Z=e.headerIcon,y=e.headerPaddingVertical,P=e.headerTitle,O=e.maxHeight,k=e.maxWidth,_=e.minWidth,w=e.noPadding,I=e.overflowVisible,S=e.subtitle,C=e.success;return(0,d.jsxs)(p,{borderless:n,dark:a,fullHeight:f,fullWidth:j,maxHeight:O,maxWidth:k,minWidth:_,overflowVisible:I,ref:r,success:C,children:[(x||P)&&(0,d.jsxs)(h,{headerPaddingVertical:y,height:g,children:[x&&x,P&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[Z&&Z,(0,d.jsx)(l.Z,{ml:Z?1:0,children:(0,d.jsx)(o.ZP,{bold:!0,default:!0,children:P})})]})})]}),(0,d.jsxs)(b,{maxHeight:O,noPadding:w,overflowVisible:I,ref:c,children:[S&&"string"===typeof S&&(0,d.jsx)(l.Z,{mb:2,children:(0,d.jsx)(o.ZP,{default:!0,children:S})}),S&&"string"!==typeof S&&S,t]}),u&&(0,d.jsx)(v,{children:u})]})}},51532:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ae}});var r=t(75582),i=t(77837),l=t(82394),o=t(38860),c=t.n(o),a=t(82684),u=t(69864),s=t(34376),d=t(83641),f=t(71180),p=t(15338),h=t(55485),b=t(85854),v=t(55072),m=t(75457),j=t(53943),x=t(44265),g=t(83784),Z=t(44085),y=t(38276),P=t(4190),O=t(75499),k=t(30160),_=t(35686),w=t(8955),I=t(72473),S=t(74395),C=t(70515),D=t(28795),E=t(81728),T=t(16488),M=t(8916),N=t(81655),R=t(15610),L=t(42122),V=t(50178),F=t(72619),A=t(95924),B=t(69419),H=t(70320),U=t(28598);function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,o=e.setErrors,c=e.variables,W=(0,V.Ct)(),Y=(0,H.qB)(),J=(0,s.useRouter)(),K=n||{},X=K.block_uuid,q=K.end_datetime,G=K.id,Q=K.interval_type,$=K.interval_units,ee=K.name,ne=K.pipeline_run_dates,te=K.start_datetime,re=K.status,ie=K.total_run_count,le=K.variables,oe=void 0===le?{}:le,ce=l.uuid,ae=(0,B.iV)(),ue={_limit:40,_offset:40*(null!==ae&&void 0!==ae&&ae.page?ae.page:0)};null!==ae&&void 0!==ae&&ae.status&&(ue.status=ae.status);var se=_.ZP.pipeline_runs.list(z(z({},ue),{},{backfill_id:G}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!G}),de=se.data,fe=se.mutate,pe=!(te&&q&&Q&&$),he=!re,be=(0,a.useMemo)((function(){return(he?ne:null===de||void 0===de?void 0:de.pipeline_runs)||[]}),[de,ne,he]),ve=(0,a.useMemo)((function(){var e;return(null===de||void 0===de||null===(e=de.metadata)||void 0===e?void 0:e.count)||[]}),[de]),me=(0,a.useState)(null),je=me[0],xe=me[1],ge=(0,a.useMemo)((function(){var e=null!==ae&&void 0!==ae&&ae.page?ae.page:0;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(j.Z,{disableRowSelect:he,emptyMessage:null!==ae&&void 0!==ae&&ae.status?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:fe,onClickRow:function(e){return xe((function(n){var t=be[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:be,selectedRun:je,setErrors:o,setSelectedRun:xe}),(0,U.jsx)(y.Z,{p:2,children:(0,U.jsx)(v.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),t=z(z({},ae),{},{page:n>=0?n:0});J.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ce,"/backfills/").concat(G,"?").concat((0,B.uM)(t)))},page:Number(e),totalPages:Math.ceil(ve/40)})})]})}),[fe,G,be,ce,ae,J,je,o,he,ve]),Ze=(0,a.useState)(w.G7[0]),ye=Ze[0],Pe=Ze[1],Oe=(0,u.Db)(_.ZP.backfills.useUpdate(G),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){i(),fe()},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),ke=(0,r.Z)(Oe,2),_e=ke[0],we=ke[1].isLoading,Ie=(0,a.useMemo)((function(){return!!re&&(d.rn.CANCELLED!==re&&d.rn.FAILED!==re)}),[re]),Se=(0,a.useMemo)((function(){return re&&d.rn.CANCELLED!==re&&d.rn.FAILED!==re&&d.rn.INITIAL!==re&&d.rn.RUNNING!==re}),[re]),Ce=(0,a.useMemo)((function(){var e={default:!0,size:1.5*C.iI},n=[[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.VW,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,U.jsx)(k.ZP,{monospace:!0,children:X?d._7:d.VV},"backfill_type")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.rs,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,a.createElement)(k.ZP,z(z({},(0,N.NC)(re)),{},{key:"backfill_status"}),re||"inactive")]];return X||n.push.apply(n,[[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.aw,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,U.jsx)(k.ZP,{monospace:!0,small:!0,children:(0,T.Uc)(te,Y)},"backfill_start_date")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.aw,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,U.jsx)(k.ZP,{monospace:!0,small:!0,children:(0,T.Uc)(q,Y)},"backfill_end_date")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.Pf,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,U.jsx)(k.ZP,{monospace:!0,children:Q&&(0,E.kC)(Q)},"interval_type")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.Pf,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,U.jsx)(k.ZP,{monospace:!0,children:$},"interval_units")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.qZ,z({},e)),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Total runs"})]},"total_runs_label"),(0,U.jsx)(k.ZP,{monospace:!0,children:ie},"total_runs")]]),(0,U.jsx)(O.Z,{columnFlex:[null,1],rows:n})}),[X,Y,q,Q,$,te,re,ie]),De=(0,a.useMemo)((function(){return oe||{}}),[oe]),Ee=(0,a.useMemo)((function(){var e=(0,M.wx)(c,(function(e){return e.uuid===g.C}))||[];return(0,L.Qr)(De)||Object.entries(De).forEach((function(n){var t=(0,r.Z)(n,2),i=t[0],l=t[1],o=e.findIndex((function(e){return(null===e||void 0===e?void 0:e.uuid)===i}));-1!==o?e.splice(o,1,{uuid:i,value:(0,M.FS)(l)}):e.push({uuid:i,value:(0,M.FS)(l)})})),"undefined"!==typeof e&&null!==e&&void 0!==e&&e.length?(0,U.jsx)(O.Z,{columnFlex:[null,1],rows:e.map((function(e){var n=e.uuid,t=e.value;return[(0,U.jsx)(k.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,U.jsx)(k.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[De,c]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(m.Z,{afterHidden:!je,before:(0,U.jsxs)(S.M,{children:[(0,U.jsxs)(y.Z,{mb:C.HN,pt:C.cd,px:C.cd,children:[(0,U.jsx)(y.Z,{mb:C.cd,children:(0,U.jsx)(I.yg,{size:5*C.iI})}),(0,U.jsx)(b.Z,{children:ee})]}),(0,U.jsx)(y.Z,{px:C.cd,children:(0,U.jsx)(b.Z,{level:5,children:"Settings"})}),(0,U.jsx)(p.Z,{light:!0,mt:1,short:!0}),Ce,Ee&&(0,U.jsxs)(y.Z,{my:C.HN,children:[(0,U.jsx)(y.Z,{px:C.cd,children:(0,U.jsx)(b.Z,{level:5,children:"Runtime variables"})}),(0,U.jsx)(p.Z,{light:!0,mt:1,short:!0}),Ee]})]}),beforeWidth:34*C.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(ce,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return ee},linkProps:{as:"/pipelines/".concat(ce,"/backfills/").concat(G),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,w.ZP)(z(z({},e),{},{selectedRun:je,selectedTab:ye,setSelectedTab:Pe}))},errors:t,pageName:D.M.BACKFILLS,pipeline:l,setErrors:o,subheader:(0,U.jsxs)(h.ZP,{alignItems:"center",children:[!Se&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(f.ZP,{beforeIcon:Ie?(0,U.jsx)(I.dz,{size:2*C.iI}):(0,U.jsx)(I.Py,{inverted:!(d.rn.CANCELLED===re||d.rn.FAILED===re),size:2*C.iI}),danger:Ie,disabled:pe,loading:we,onClick:function(e){(0,A.j)(e),_e({backfill:{status:Ie?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!Ie&&!(d.rn.CANCELLED===re||d.rn.FAILED===re)&&!pe,children:Ie?"Cancel backfill":d.rn.CANCELLED===re||d.rn.FAILED===re?"Retry backfill":"Start backfill"}),(0,U.jsx)(y.Z,{mr:C.cd})]}),!W&&(0,U.jsxs)(U.Fragment,{children:[re===x.VO.COMPLETED?(0,U.jsx)(k.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}):(0,U.jsx)(f.ZP,{linkProps:{as:"/pipelines/".concat(ce,"/backfills/").concat(G,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit backfill"}),(0,U.jsx)(y.Z,{mr:C.cd})]}),!he&&(0,U.jsxs)(Z.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?J.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ce,"/backfills/").concat(G)):(0,R.u)({page:0,status:e.target.value})},paddingRight:4*C.iI,placeholder:"Select run status",value:(null===ae||void 0===ae?void 0:ae.status)||"all",children:[(0,U.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),x.IK.map((function(e){return(0,U.jsx)("option",{value:e,children:x.Do[e]},e)}))]})]}),title:function(){return ee},uuid:"backfill/detail",children:[(0,U.jsx)(y.Z,{mt:C.cd,px:C.cd,children:(0,U.jsx)(b.Z,{level:5,children:"Runs for this backfill"})}),(0,U.jsx)(p.Z,{light:!0,mt:C.cd,short:!0}),de?ge:(0,U.jsx)(y.Z,{m:2,children:(0,U.jsx)(P.Z,{inverted:!0})})]})})},J=t(14805),K=t(50724),X=t(97618),q=t(37899),G=t(17488),Q=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],$=t(88785),ee=t(79500);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var re=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,o=e.setErrors,c=e.variables,v=(0,s.useRouter)(),j=(0,H.qB)(),x=(0,a.useState)(),g=x[0],P=x[1],w=g||{},S=w.block_uuid,N=w.id,R=w.interval_type,V=w.interval_units,A=w.name,B=l.uuid,W=(0,a.useMemo)((function(){return(0,L.Qr)((null===n||void 0===n?void 0:n.variables)||{})?(0,M.Tt)(c)||{}:(0,L.Xc)(n.variables,(function(e){return(0,M.FS)(e)}))}),[null===n||void 0===n?void 0:n.variables,c]),z=(0,a.useState)(!1),Y=z[0],ne=z[1],re=(0,a.useState)(W),ie=re[0],le=re[1],oe=(0,a.useState)(S?d._7:d.VV),ce=oe[0],ae=oe[1],ue=(0,a.useState)(!1),se=ue[0],de=ue[1],fe=(0,a.useState)(!1),pe=fe[0],he=fe[1],be=(0,a.useState)(null),ve=be[0],me=be[1],je=(0,a.useState)(null),xe=je[0],ge=je[1],Ze=(0,a.useState)({hour:"00",minute:"00"}),ye=Ze[0],Pe=Ze[1],Oe=(0,a.useState)({hour:"00",minute:"00"}),ke=Oe[0],_e=Oe[1];(0,a.useEffect)((function(){if(n){P(n);var e=n.start_datetime;if(e){var t=(0,ee.a)(e,{localTimezone:j});ge(null===t||void 0===t?void 0:t.date),_e(t.time)}var r=n.end_datetime;if(r){var i=(0,ee.a)(r,{localTimezone:j});me(null===i||void 0===i?void 0:i.date),Pe(null===i||void 0===i?void 0:i.time)}}}),[j,n]);var we=(0,a.useMemo)((function(){var e=[[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.KJ,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,U.jsx)(G.Z,{monospace:!0,onChange:function(e){e.preventDefault(),P((function(n){return te(te({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:A},"model_name_input_detail")]];return d.VV===ce&&e.push.apply(e,[[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.aw,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,U.jsxs)("div",{style:{minHeight:"".concat(5.75*C.iI,"px")},children:[!se&&(0,U.jsx)(G.Z,{monospace:!0,onClick:function(){return de((function(e){return!e}))},onFocus:function(){return de(!0)},placeholder:"YYYY-MM-DD HH:MM",value:xe?(0,T.XM)(xe,ke,{localTimezone:j}):""}),(0,U.jsx)("div",{style:{width:"400px"},children:(0,U.jsx)(K.Z,{disableEscape:!0,onClickOutside:function(){return de(!1)},open:se,style:{position:"relative"},children:(0,U.jsx)(J.Z,{localTime:j,selectedDate:xe,selectedTime:ke,setSelectedDate:ge,setSelectedTime:_e,topPosition:!0})})})]},"start_time_input")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.aw,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,U.jsxs)("div",{style:{minHeight:"".concat(5.75*C.iI,"px")},children:[!pe&&(0,U.jsx)(G.Z,{monospace:!0,onClick:function(){return he((function(e){return!e}))},onFocus:function(){return he(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ve?(0,T.XM)(ve,ye,{localTimezone:j}):""}),(0,U.jsx)("div",{style:{width:"400px"},children:(0,U.jsx)(K.Z,{disableEscape:!0,onClickOutside:function(){return he(!1)},open:pe,style:{position:"relative"},children:(0,U.jsx)(J.Z,{localTime:j,selectedDate:ve,selectedTime:ye,setSelectedDate:me,setSelectedTime:Pe,topPosition:!0})})})]},"end_time_input")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.Pf,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,U.jsx)(Z.Z,{monospace:!0,onChange:function(e){e.preventDefault(),P((function(n){return te(te({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:R,children:d.IB.map((function(e){return(0,U.jsx)("option",{value:e,children:(0,E.kC)(e)},e)}))},"interval_type_input")],[(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.Pf,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,U.jsx)(G.Z,{disabled:!R,monospace:!0,onChange:function(e){e.preventDefault(),P((function(n){return te(te({},n),{},{interval_units:e.target.value})}))},placeholder:R?"Number of ".concat(R).concat(R!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:V},"interval_unit_input")]]),(0,L.Qr)(W)||e.push([(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(I.LO,{default:!0}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(k.ZP,{default:!0,children:"Runtime variables"})]},"overwrite_runtime_variables"),(0,U.jsx)(q.Z,{borderless:!0,compact:!0,enableVariablesOverwrite:Y,runtimeVariables:ie,setEnableVariablesOverwrite:ne,setRuntimeVariables:le},"overwrite_runtime_variables_table")]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(y.Z,{mb:2,px:C.cd,children:(0,U.jsx)(b.Z,{children:"Settings"})}),(0,U.jsx)(p.Z,{light:!0,short:!0}),(0,U.jsx)(O.Z,{columnFlex:[null,1],rows:e})]})}),[ve,xe,j,Y,R,V,A,ie,W,ce,se,pe,ye,ke]),Ie=(0,u.Db)(_.ZP.backfills.useUpdate(N),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){i(),v.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(B,"/backfills/").concat(N))},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),Se=(0,r.Z)(Ie,2),Ce=Se[0],De=Se[1].isLoading,Ee=(0,a.useCallback)((function(){var e=te(te({},(0,L.GL)(g,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,start_datetime:null,variables:Y?(0,M.e7)(ie):{}});return d._7===ce||(e.interval_type=R,e.interval_units=V,e.end_datetime=ve&&null!==ye&&void 0!==ye&&ye.hour&&null!==ye&&void 0!==ye&&ye.minute?(0,T.XM)(ve,ye,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null,e.start_datetime=xe&&null!==ke&&void 0!==ke&&ke.hour&&null!==ke&&void 0!==ke&&ke.minute?(0,T.XM)(xe,ke,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null),Ce({backfill:e})}),[ve,xe,j,Y,R,V,g,ie,ce,ye,ke,Ce]),Te=(0,a.useMemo)((function(){return d._7===ce?!S:!(ve&&xe&&R&&V)}),[S,ve,xe,R,V,ce]);return(0,U.jsxs)(m.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(B,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null===g||void 0===g?void 0:g.name},linkProps:{as:"/pipelines/".concat(B,"/backfills/").concat(N),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:t,pageName:D.M.BACKFILLS,pipeline:l,setErrors:o,subheader:(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(f.ZP,{disabled:Te,loading:De,onClick:Ee,outline:!0,primary:!0,children:"Save changes"}),(0,U.jsx)(y.Z,{mr:1}),(0,U.jsx)(f.ZP,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(B,"/backfills/").concat(N)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===g||void 0===g?void 0:g.name)},uuid:"backfill/edit",children:[(0,U.jsxs)(y.Z,{p:C.cd,children:[(0,U.jsxs)(y.Z,{mb:2,children:[(0,U.jsx)(b.Z,{children:"Backfill type"}),(0,U.jsx)(k.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,U.jsx)(h.ZP,{children:Q.map((function(e){var n=e.label,t=e.description,r=e.uuid,i=ce===r,l=ce&&!i;return(0,U.jsx)(f.ZP,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){ae(r)},children:(0,U.jsx)($.U,{selected:i,children:(0,U.jsxs)(h.ZP,{alignItems:"center",children:[(0,U.jsx)(X.Z,{children:(0,U.jsx)("input",{checked:i,type:"radio"})}),(0,U.jsx)(y.Z,{mr:C.cd}),(0,U.jsxs)(X.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,U.jsx)(b.Z,{bold:!0,default:!i&&!l,level:5,muted:!i&&l,children:n()}),(0,U.jsx)(k.ZP,{default:!i&&!l,leftAligned:!0,muted:l,children:t()})]})]})})},r)}))})]}),(0,U.jsx)(y.Z,{mt:5,children:we})]})},ie=t(93808);function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ce(e){var n=e.backfillId,t=e.pipelineUUID,r=e.subpath,i=(0,a.useState)(null),l=i[0],o=i[1],c=_.ZP.variables.pipelines.list(t,{},{revalidateOnFocus:!1}).data,u=(0,a.useMemo)((function(){return null===c||void 0===c?void 0:c.variables}),[c]),s=_.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,d=(0,a.useMemo)((function(){return oe(oe({},null===s||void 0===s?void 0:s.pipeline),{},{uuid:t})}),[s,t]),f=_.ZP.backfills.detail(n,{include_preview_runs:!0}),p=f.data,h=f.mutate,b=(0,a.useMemo)((function(){return null===p||void 0===p?void 0:p.backfill}),[p]);return"edit"===r?(0,U.jsx)(re,{backfill:b,errors:l,fetchBackfill:h,pipeline:d,setErrors:o,variables:u}):(0,U.jsx)(Y,{backfill:b,errors:l,fetchBackfill:h,pipeline:d,setErrors:o,variables:u})}ce.getInitialProps=function(){var e=(0,i.Z)(c().mark((function e(n){var t,i,l,o,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,i=t.pipeline,l=t.slug,!Array.isArray(l)){e.next=4;break}return o=(0,r.Z)(l,2),a=o[0],u=o[1],e.abrupt("return",{backfillId:a,pipelineUUID:i,subpath:u});case 4:return e.abrupt("return",{pipelineUUID:i});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ae=(0,ie.Z)(ce)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(51532)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(12539),i=t(80022);function l(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,4804,1124,9161,4495,3494,1557,2512,7858,5499,5283,5457,3745,3943,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);