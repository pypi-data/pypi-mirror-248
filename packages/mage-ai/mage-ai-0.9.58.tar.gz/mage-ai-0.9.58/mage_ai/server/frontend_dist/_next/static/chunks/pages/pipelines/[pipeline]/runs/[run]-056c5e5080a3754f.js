(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8662],{62072:function(e,t,n){"use strict";function r(e){return null==e?void 0:e[0]}function i(e){return null==e?void 0:e[1]}n.d(t,{l8:function(){return r},xf:function(){return i}})},59309:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=n(12759),i=n(27500),o=n(82610),u=n(34812),l=n(77944),a={expand:r.Z,diverging:i.Z,none:o.Z,silhouette:u.Z,wiggle:l.Z};Object.keys(a);function c(e){return e&&a[e]||a.none}},18246:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=n(39586),i=n(25516),o=n(54164),u=n(8512),l=n(2010),a={ascending:r.Z,descending:i.Z,insideout:o.Z,none:u.Z,reverse:l.Z};Object.keys(a);function c(e){return e&&a[e]||a.none}},23192:function(e,t,n){"use strict";n.d(t,{fi:function(){return U},lG:function(){return Y}});var r=n(82394),i=n(75582),o=n(82684),u=n(12691),l=n.n(u),a=n(34376),c=n.n(a),s=n(38626),d=n(69864),f=n(40761),p=n(41143),h=n(71180),v=n(39867),m=n(55485),g=n(48670),b=n(57653),x=n(38276),y=n(75499),j=n(30160),O=n(12468),Z=n(35686),k=n(89706),P=n(11498),w=n(72473),T=n(81655),S=n(70515),E=n(3917),_=n(55283),I=n(86735),D=n(72619),C=n(74052),L=n(69419),A=n(70320),M=n(28598);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=[0,1,3,4,5],U={0:"status",1:"block_uuid",3:"created_at",4:"started_at",5:"completed_at"};t.ZP=function(e){var t=e.blockRuns,n=e.onClickRow,r=e.pipeline,u=e.selectedRun,a=e.setErrors,R=e.sortableColumnIndexes,Y=(0,A.qB)(),U=(0,o.useContext)(s.ThemeContext),F=(0,o.useState)(null),H=F[0],V=F[1],B=(0,o.useState)(null),G=B[0],z=B[1],X=r||{},J=X.uuid,K=X.type,q=(0,o.useMemo)((function(){return r.blocks||[]}),[r]),W=(0,o.useMemo)((function(){return(0,I.HK)(q,(function(e){return e.uuid}))}),[q]),$=(0,o.useMemo)((function(){return b.qL.INTEGRATION===K}),[K]),Q=(0,o.useMemo)((function(){return b.qL.PYTHON===K}),[K]),ee=(0,L.iV)(),te=null===ee||void 0===ee?void 0:ee[T.lG.SORT_COL_IDX],ne=(0,o.useMemo)((function(){return te?{columnIndex:+te,sortDirection:(null===ee||void 0===ee?void 0:ee[T.lG.SORT_DIRECTION])||T.sh.ASC}:void 0}),[ee,te]),re=(0,o.useMemo)((function(){var e,t;return null===(e=new f.Z)||void 0===e||null===(t=e.decodedToken)||void 0===t?void 0:t.token}),[]),ie=(0,d.Db)((function(e){var t=e.blockUUID,n=e.pipelineRunId;return Z.ZP.block_outputs.pipelines.downloads.detailAsync(null===r||void 0===r?void 0:r.uuid,t,{pipeline_run_id:n,token:re},{onDownloadProgress:function(e){return V((Number((null===e||void 0===e?void 0:e.loaded)||0)/1e6).toFixed(3))},responseType:P.Eg.BLOB})}),{onSuccess:function(e){return(0,D.wD)(e,{callback:function(e){z(null),(0,C.uS)(e,"block_output.".concat(k.Lu.CSV))},onErrorCallback:function(e,t){return null===a||void 0===a?void 0:a({errors:t,response:e})}})}}),oe=(0,i.Z)(ie,2),ue=oe[0],le=oe[1].isLoading,ae=Y?T.O$:{},ce=[{uuid:"Status"},{uuid:"Block"},{uuid:"Trigger"},N(N({},ae),{},{uuid:"Created at"}),N(N({},ae),{},{uuid:"Started at"}),N(N({},ae),{},{uuid:"Completed at"}),{uuid:"Logs"}];return Q&&ce.push({uuid:"Output"}),(0,M.jsx)(y.Z,{columnFlex:[1,2,2,1,1,1,null,null],columns:ce,isSelectedRow:function(e){return t[e].id===(null===u||void 0===u?void 0:u.id)},onClickRow:n,rows:null===t||void 0===t?void 0:t.map((function(e){var t,n,r,i,u=e||{},a=u.block_uuid,s=u.completed_at,d=u.created_at,f=u.id,b=u.pipeline_run_id,y=u.pipeline_schedule_id,Z=u.pipeline_schedule_name,k=u.started_at,P=u.status,I=a,D=I.split(":"),C=G===f&&le;$&&(I=D[0],r=D[1],i=D[2]);var L=W[I];L||(L=W[D[0]]);var A=[(0,o.createElement)(j.ZP,N(N({},(0,T.NC)(P)),{},{key:"".concat(f,"_status")}),P),(0,M.jsx)(l(),{as:"/pipelines/".concat(J,"/edit?block_uuid=").concat(I),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,M.jsxs)(g.Z,{bold:!0,fitContentWidth:!0,verticalAlignContent:!0,children:[(0,M.jsx)(v.Z,{color:(0,_.qn)(null===(t=L)||void 0===t?void 0:t.type,{blockColor:null===(n=L)||void 0===n?void 0:n.color,theme:U}).accent,size:1.5*S.iI,square:!0}),(0,M.jsx)(x.Z,{mr:1}),(0,M.jsxs)(j.ZP,{monospace:!0,sky:!0,children:[I,r&&":",r&&(0,M.jsx)(j.ZP,{default:!0,inline:!0,monospace:!0,children:r}),i>=0&&":",i>=0&&(0,M.jsx)(j.ZP,{default:!0,inline:!0,monospace:!0,children:i})]})]})},"".concat(f,"_block_uuid")),(0,M.jsx)(l(),{as:"/pipelines/".concat(J,"/triggers/").concat(y),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,M.jsx)(g.Z,{bold:!0,sky:!0,children:Z})},"".concat(f,"_trigger")),(0,M.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,title:d?(0,E._6)(d):null,children:Y?(0,E.XG)(d,Y):(0,E.d$)(d,{includeSeconds:!0})},"".concat(f,"_created_at")),(0,M.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,title:k?(0,E._6)(k):null,children:k?Y?(0,E.XG)(k,Y):(0,E.d$)(k,{includeSeconds:!0}):(0,M.jsx)(M.Fragment,{children:"\u2014"})},"".concat(f,"_started_at")),(0,M.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,title:s?(0,E._6)(s):null,children:s?Y?(0,E.XG)(s,Y):(0,E.d$)(s,{includeSeconds:!0}):(0,M.jsx)(M.Fragment,{children:"\u2014"})},"".concat(f,"_completed_at")),(0,M.jsx)(h.ZP,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return c().push("/pipelines/".concat(J,"/logs?block_run_id[]=").concat(f))},children:(0,M.jsx)(w.UL,{default:!0,size:2*S.iI})},"".concat(f,"_logs"))];return Q&&A.push((0,M.jsx)(m.ZP,{alignItems:"center",justifyContent:"center",children:(0,M.jsx)(O.Z,{appearBefore:!0,autoHide:!C,block:!0,forceVisible:C,label:C?"".concat(H||0,"mb downloaded..."):"Save block run output as CSV file (not supported for dynamic blocks)",size:null,children:(0,M.jsx)(h.ZP,{default:!0,disabled:!Q||!(p.V.COMPLETED===P)||le,iconOnly:!0,loading:C,noBackground:!0,onClick:function(){V(null),z(f),ue({blockUUID:I,pipelineRunId:b})},children:(0,M.jsx)(w.vc,{default:!0,size:2*S.iI})})})},"".concat(f,"_save_output"))),A})),sortableColumnIndexes:R,sortedColumn:ne,uuid:"block-runs"})}},8955:function(e,t,n){"use strict";n.d(t,{G7:function(){return O},ZP:function(){return Z},u$:function(){return x}});var r=n(75582),i=n(82394),o=n(26304),u=n(90299),l=n(9134),a=n(24138),c=n(38276),s=n(30160),d=n(75499),f=n(70515),p=n(16488),h=n(42122),v=n(28598),m=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=44,y={uuid:"Run details"},j={uuid:"Dependency tree"},O=[j,y];function Z(e){var t=e.height,n=e.heightOffset,i=e.pipeline,g=e.selectedRun,Z=e.selectedTab,k=e.setSelectedTab,P=b({},(0,o.Z)(e,m));g?P.blockStatus=(0,p.IJ)(null===g||void 0===g?void 0:g.block_runs):P.noStatus=!0;var w=(0,h.Kn)(null===g||void 0===g?void 0:g.variables)?b({},null===g||void 0===g?void 0:g.variables):(null===g||void 0===g?void 0:g.variables)||{},T=null===g||void 0===g?void 0:g.event_variables;if(T&&(0,h.Kn)(T)&&!(0,h.Qr)(T))if((0,h.Kn)(w)&&w.hasOwnProperty("event")){var S=(0,h.Kn)(w.event)?w.event:{};w.event=b(b({},S),T)}else w.event=b({},T);var E=[];w&&JSON.stringify(w,null,2).split("\n").forEach((function(e){E.push("    ".concat(e))}));var _=g&&[["Run ID",null===g||void 0===g?void 0:g.id],["Variables",(0,v.jsx)(l.Z,{language:"json",small:!0,source:E.join("\n")},"variable_value")]],I=g&&(0,v.jsx)(c.Z,{pb:f.cd,px:f.cd,children:(0,v.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:_.map((function(e,t){var n=(0,r.Z)(e,2),i=n[0],o=n[1];return[(0,v.jsx)(s.ZP,{monospace:!0,muted:!0,children:i},"key_".concat(t)),(0,v.jsx)(s.ZP,{monospace:!0,textOverflow:!0,children:o},"val_".concat(t))]})),uuid:"LogDetail"})}),D=Z&&k;return(0,v.jsxs)(v.Fragment,{children:[D&&(0,v.jsx)(c.Z,{py:f.cd,children:(0,v.jsx)(u.Z,{onClickTab:k,selectedTabUUID:null===Z||void 0===Z?void 0:Z.uuid,tabs:O,underlineStyle:!0})}),(!D||j.uuid===(null===Z||void 0===Z?void 0:Z.uuid))&&(0,v.jsx)(a.ZP,b(b({},P),{},{height:t,heightOffset:(n||0)+(D?x:0),pipeline:i})),y.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&I]})}},66909:function(e,t,n){"use strict";n.d(t,{Eh:function(){return c},t0:function(){return s}});var r=n(38626),i=n(2842),o=n(4982),u=n(61896),l=n(47041),a=n(70515),c=(a.iI,o.O$+3*a.iI+u.dN),s=r.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})([""," overflow:auto;position:absolute;width:100%;"," ",""],l.w5,(function(e){return"\n    height: calc(100vh - ".concat(i.uX,"px - ").concat(e.heightOffset,"px);\n  ")}),(function(e){return e.overflowHidden&&"\n    overflow: hidden;\n  "}));r.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*a.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}))},16488:function(e,t,n){"use strict";n.d(t,{IJ:function(){return v},M8:function(){return P},Uc:function(){return y},XM:function(){return k},_U:function(){return h},eI:function(){return x},gU:function(){return O},lO:function(){return _},ri:function(){return g},tL:function(){return j},vJ:function(){return Z},xH:function(){return b}});var r,i=n(82394),o=n(92083),u=n.n(o),l=n(3917),a=n(4383),c=n(30229),s=n(42122),d=n(86735);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return!!e&&!Object.values(c.U5).includes(e)};function v(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){var n=t.block_uuid,r=t.completed_at,o=t.started_at,l=t.status,a=null;o&&r&&(a=u()(r).valueOf()-u()(o).valueOf());return p(p({},e),{},(0,i.Z)({},n,{runtime:a,status:l}))}),{})}var m,g=function(e){var t=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:c.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:c.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:c.Xm.API}];return e?t.slice(0,1):t};function b(e){var t=(0,s.gR)(e,[c.gm.INTERVAL,c.gm.TYPE]),n=e[c.gm.INTERVAL];n&&(t["schedule_interval[]"]=encodeURIComponent(n));var r=e[c.gm.TYPE];return r&&(t["schedule_type[]"]=r),t}function x(e){return e?new Date(u()(e).valueOf()):null}function y(e,t){return t?(0,l.XG)(e,t):function(e){if("string"!==typeof e)return e;var t=e.split("+")[0];return u()(x(t)).format(l.Nx)}(e)}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(m||(m={}));var j=(r={},(0,i.Z)(r,m.DAY,86400),(0,i.Z)(r,m.HOUR,3600),(0,i.Z)(r,m.MINUTE,60),(0,i.Z)(r,m.SECOND,1),r);function O(e){var t=m.SECOND,n=e;return e%86400===0?(n/=86400,t=m.DAY):e%3600===0?(n/=3600,t=m.HOUR):e%60===0&&(n/=60,t=m.MINUTE),{time:n,unit:t}}function Z(e,t){return e*j[t]}function k(e,t,n){var r,i=u()(e);return i.set("hour",+(null===t||void 0===t?void 0:t.hour)||0),i.set("minute",+(null===t||void 0===t?void 0:t.minute)||0),i.set("second",0),r=i.format(l.TD),null!==n&&void 0!==n&&n.includeSeconds&&(r=r.concat(":00")),null!==n&&void 0!==n&&n.localTimezone&&(r=i.format(l.lE),null!==n&&void 0!==n&&n.convertToUtc&&(r=(0,l.d$)(r,{includeSeconds:null===n||void 0===n?void 0:n.includeSeconds,utcFormat:!0}))),r}function P(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="",i=!0;return i&&(n?r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/api_trigger"):(r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(r="".concat(r,"/").concat(e.token)))),i&&(t=window.location.port)&&(r=r.replace(t,a.QT)),r}function w(e,t,n){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,t,n){var r=n.indexOf(e),i=0;if(t<0)for(var o=0;o>t;o--)0===r?(r=n.length-1,i-=1):r-=1;else if(t>0)for(var u=0;u<t;u++)r===n.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(n[r]||e)}}(+e,t,n)}var T=(0,d.m5)(60),S=(0,d.m5)(24),E=(0,l.Cs)();function _(e,t){if(!e)return e;var n=u()().local().format("Z"),r=n.split(":"),i="-"===n[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),l=Number(r[1]);(i&&!t||!i&&t)&&(o=-o,l=-l);var a=e.split(" "),c=a[0],s=a[1],d=a[2],f=w(c,l,T),p=w(s,o+f.additionalOffset,S);if(a[0]=f.cronValue,a[1]=p.cronValue,0!==(null===p||void 0===p?void 0:p.additionalOffset)){var h=w(d,p.additionalOffset,E);a[2]=h.cronValue}return a.join(" ")}},52729:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(26304),i=n(21831),o=n(82394),u=n(82684),l=n(26226),a=n(84969),c=n(90948),s=n(65743),d=n(29989),f=n(38626),p=n(61655),h=n(16853),v=n(65376),m=n(48072),g=n(98677),b=n(84181),x=n(55485),y=n(4190),j=n(30160),O=n(94035),Z=n(70987),k=n(79633),P=n(89370),w=n(95363),T=n(61896),S=n(70515),E=n(38469),_=n(6568),I=function(e){return e.slice(0,10)},D=function(e,t){var n=e.toISOString().slice(0,10),r=t.toISOString().slice(0,10);return"".concat(n,":").concat(r)},C=n(79221),L=n(98684),A=n(28598),M=["height","loading","selected","width","xAxisLabel","yAxisLabel"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={bottom:S.iI,left:3*S.iI,right:0,top:1*S.iI},U=(0,p.Z)((function(e){var t=e.columnType,n=e.data,r=void 0===n?[]:n,o=e.getBarColor,l=e.getXValue,p=e.getYValue,x=e.height,y=e.hideTooltip,O=e.large,M=e.margin,R=void 0===M?{}:M,U=e.muted,F=e.noPadding,H=e.numberOfXTicks,V=e.renderTooltipContent,B=e.selected,G=e.showAxisLabels,z=e.showTooltip,X=e.showYAxisLabels,J=e.showZeroes,K=e.sortData,q=e.tooltipData,W=e.tooltipLeft,$=e.tooltipOpen,Q=e.tooltipTop,ee=e.width,te=e.xLabelFormat,ne=e.yLabelFormat,re=O?T.J5:T.VK,ie=(0,u.useCallback)((function(e){return l?l(e):e[0]}),[l]),oe=(0,u.useCallback)((function(e){return p?p(e):e[1]}),[p]),ue=(0,u.useContext)(f.ThemeContext),le=t===P.RL.DATETIME,ae=N(N({},Y),R);G&&(ae=N(N({},ae),{},{left:ae.left+S.iI}));var ce=K?K(r):r.sort((function(e,t){return t[1]-e[1]})),se=le?r.sort((function(e,t){return new Date(e[0])-new Date(t[0])})).filter((function(e){return!!e[0]})):ce.slice(0,60),de=ee-(ae.left+ae.right),fe=x-(ae.bottom+ae.top),pe=le?function(e,t){var n,r=e.map((function(e){return new Date(e[0])})).sort((function(e,t){return e-t}));return(0,_.Z)({domain:(n=r,[(0,E.Z)(n[0]),(0,E.Z)(n[n.length-1])]),nice:!0,range:[0,t]})}(se,de):null,he=function(e,t){if(null===t)return{};var n=t.ticks().map((function(e){return e.toISOString()})),r={},i=0,o=1;return e.forEach((function(e){var t=new Date(e[0]),u=e[1],l=n[i],a=n[o];if(l&&a){var c=new Date(l),s=new Date(a),d=D(c,s);if(t>=c&&t<s)r[d]=(r[d]||0)+u;else for(;o<n.length||!r[d];)if(i+=1,o+=1,c=new Date(n[i]),s=new Date(n[o]),d=D(c,s),t>=c&&t<s)return void(r[d]=(r[d]||0)+u)}})),n.reduce((function(e,t,n,r){if(0===n)return e;var i=I(t),o=I(r[n-1]);return e.push("".concat(o,":").concat(i)),e}),[]).forEach((function(e){r[e]=r[e]||0})),r}(se,pe);se=pe?Object.entries(he).sort((function(e,t){return new Date(I(e[0]))-new Date(I(t[0]))})):se;var ve=pe?Math.max.apply(Math,(0,i.Z)(Object.values(he))):0,me=se.reduce((function(e,t){return(0!==oe(t)||le||J)&&e.push(ie(t)),e}),[]),ge=me.length,be=function(e,t,n){return n?.05:e>=30&&t<300?.5:e>=15?.3:e>=5?.1:e>2?.05:2===e?.025:0}(ge,ee,le),xe=(0,g.Z)({domain:me,paddingInner:F?null:be,range:[0,de],round:!1}),ye=(0,b.Z)({domain:[0,Math.max.apply(Math,(0,i.Z)(se.map(oe)))],range:[fe,0],round:!0}),je=(0,L.K)(ue),Oe={active:((null===ue||void 0===ue?void 0:ue.content)||Z.Z.content).active,default:je[0],muted:((null===ue||void 0===ue?void 0:ue.monotone)||Z.Z.monotone).gray,selected:((null===ue||void 0===ue?void 0:ue.elevation)||Z.Z.elevation).visualizationAccent},Ze=Oe.default;U?Ze=Oe.muted:B&&(Ze=Oe.selected);var ke=ge?le?ve:Math.max.apply(Math,(0,i.Z)(se.map((function(e){return oe(e)})))):0,Pe=Math.floor(ke/6),we=[0],Te=0;if(ke>6)for(;Te<ke;)we.push(Te+Pe),Te+=Pe;else for(;Te<=ke;)we.push(Te+1),Te+=1;ke>9999?ae=N(N({},ae),{},{left:O?8*S.iI:4.1*S.iI}):ke>999&&(ae=N(N({},ae),{},{left:O?5*S.iI:3.6*S.iI}));var Se=le?2.25:0,Ee=ge<10||t===P.RL.NUMBER||t===P.RL.NUMBER_WITH_DECIMALS||le||X,_e=(0,u.useCallback)((function(e){var t=(0,m.Z)(e)||{x:0,y:0},n=t.x,r=t.y,i=(n-(G?ae.left:0))/de,o=Math.floor(ge*i),u=se[o];"undefined"===typeof u&&(u=se[0]);var l=ie(u);l=l.length>15?"".concat(l.slice(0,21)):l;var a=V?V(u):"".concat(l," (").concat(oe(u),")");z({tooltipData:a,tooltipLeft:n-ae.left,tooltipTop:r+ae.top})}),[se,ge,ie,oe,ae.left,ae.top,V,G,z,ee]);return ee<10||!r.length?null:(0,A.jsxs)("div",{children:[(0,A.jsxs)("svg",{height:x+ae.bottom*(le?7.5:3),width:ee,children:[(0,A.jsx)(d.Z,{left:G?ae.left:0,top:ae.top+Se,children:se.reduce((function(e,t){var n=ie(t),r=oe(t);if(0!==r){var i,u=xe.bandwidth(),l=fe-(null!==(i=ye(r))&&void 0!==i?i:0),a=xe(n),c=fe-l;e.push((0,A.jsx)(s.Z,{fill:o?o(t):Ze,height:l,onMouseLeave:function(){return y()},onMouseMove:_e,onTouchMove:_e,onTouchStart:_e,width:u,x:a,y:c},"bar-".concat(n)))}return e}),[])}),G&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.Z,{left:ae.left,scale:ye,stroke:Oe.muted,tickFormat:function(e){return ne?ne(e):(0,C.P5)(e)},tickLabelProps:function(){return{fill:Oe.active,fontFamily:w.ry,fontSize:re,textAnchor:"end",transform:"translate(-2,2.5)"}},tickStroke:Oe.muted,tickValues:we,top:ae.top+Se}),(0,A.jsx)(c.Z,{left:ae.left,numTicks:le?void 0:H||6,orientation:"top",scale:pe||xe,stroke:Oe.muted,tickFormat:function(e){return te?te(String(e)):le?e.toISOString().slice(0,10):String(e)},tickLabelProps:function(e){return{fill:Ee?Oe.active:"transparent",fontFamily:w.ry,fontSize:re,textAnchor:"middle",transform:le?"rotate(-90,".concat(pe(e),",0) translate(-33,10)"):"translate(0, ".concat(3*ae.bottom,")")}},tickLineProps:{transform:"translate(0,".concat(S.iI,")")},tickStroke:Ee?Oe.muted:"transparent",top:fe+ae.top+Se})]})]}),$&&q&&(0,A.jsx)(h.Z,{left:W,style:v.j,top:Q,children:(0,A.jsx)(j.ZP,{color:k.E5,small:!0,children:q})})]})}));var F=function(e){var t=e.height,n=e.loading,i=e.selected,o=e.width,u=e.xAxisLabel,a=e.yAxisLabel,c=(0,r.Z)(e,M);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{style:{display:"flex",height:t,marginBottom:S.iI,width:"100%"},children:[a&&(0,A.jsx)(x.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,A.jsx)(O.Z,{children:(0,A.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:a})})}),(0,A.jsxs)("div",{style:{height:t,width:a?0===o?o:o-28:o},children:[n&&(0,A.jsx)(y.Z,{}),!n&&(0,A.jsx)(l.Z,{children:function(e){var t=e.height,n=e.width;return(0,A.jsx)(U,N(N({},c),{},{height:t,selected:i,width:n}))}})]})]}),u&&(0,A.jsx)("div",{style:{paddingLeft:a?36:0,paddingTop:4},children:(0,A.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:u})})]})}},87862:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(26304),i=n(82394),o=n(75582),u=n(26226),l=n(28940),a=n(82684),c=n(29989),s=n(38626),d=n(11684),f=n(24903),p=n(30160),h=n(44897),v=n(95363),m=n(61896),g=n(70515),b=n(98684),x=n(28598),y=["height","width","xAxisLabel"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={bottom:0,left:0,right:0,top:0},k=function(e){var t=e.endAngle;return{endAngle:t>Math.PI?2*Math.PI:0,opacity:0,startAngle:t>Math.PI?2*Math.PI:0}},P=function(e){var t=e.startAngle;return{endAngle:e.endAngle,opacity:1,startAngle:t}};function w(e){var t=e.animate,n=e.arcs,r=e.path,i=e.getKey,u=e.getColor,l=e.onClickDatum,a=e.textColor;return(0,d.useTransition)(n,{enter:P,from:t?k:P,keys:i,leave:t?k:P,update:P})((function(e,t,n){var c=n.key,s=r.centroid(t),f=(0,o.Z)(s,2),p=f[0],h=f[1],g=t.endAngle-t.startAngle>=.1;return(0,x.jsxs)("g",{children:[(0,x.jsx)(d.animated.path,{d:(0,d.to)([e.startAngle,e.endAngle],(function(e,n){return r(O(O({},t),{},{endAngle:n,startAngle:e}))})),fill:u(t),onClick:function(){return l(t)},onTouchStart:function(){return l(t)}}),g&&(0,x.jsx)(d.animated.g,{style:{opacity:e.opacity},children:(0,x.jsx)("text",{dy:".33em",fill:a,fontFamily:v.ry,fontSize:m.J5,pointerEvents:"none",textAnchor:"middle",x:p,y:h,children:i(t)})})]},c)}))}function T(e){var t=e.animate,n=void 0===t||t,r=e.data,i=e.getX,o=e.getY,u=e.height,d=e.margin,p=void 0===d?Z:d,v=e.textColor,m=e.width,y=(0,a.useState)(null),j=y[0],k=y[1],P=(0,a.useContext)(s.ThemeContext),T=v||(null===P||void 0===P?void 0:P.content.active)||h.Z.content.active;if(m<10)return null;var S=(0,f.Z)({domain:r.map((function(e){return i(e)})),range:(0,b.K)(P)}),E=m-p.left-p.right,_=u-p.top-p.bottom,I=Math.min(E,_)/2,D=_/2,C=E/2,L=Math.min(E/4,12*g.iI);return(0,x.jsx)("svg",{height:u,width:m,children:(0,x.jsx)(c.Z,{left:C+p.left,top:D+p.top,children:(0,x.jsx)(l.Z,{cornerRadius:g.iI/2,data:j?r.filter((function(e){return JSON.stringify(e)===JSON.stringify(j)})):r,innerRadius:Math.max(I-L,12.25),outerRadius:I,padAngle:.005,pieValue:o,children:function(e){return(0,x.jsx)(w,O(O({},e),{},{animate:n,getColor:function(e){var t=e.data;return S(i(t))},getKey:function(e){var t=e.data;return i(t)},onClickDatum:function(e){var t=e.data;return n&&k(j&&JSON.stringify(j)===JSON.stringify(t)?null:t)},textColor:T}))}})})})}function S(e){var t=e.height,n=e.width,i=e.xAxisLabel,o=(0,r.Z)(e,y),l={};return"undefined"!==typeof t&&(l.height=t),"undefined"!==typeof n&&(l.width=n),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:l,children:(0,x.jsx)(u.Z,{children:function(e){var t=e.width,n=e.height;return(0,x.jsx)(T,O(O({},o),{},{height:n,width:t}))}})}),i&&(0,x.jsx)("div",{style:{paddingTop:4},children:(0,x.jsx)(p.ZP,{center:!0,muted:!0,small:!0,children:i})})]})}},98684:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(70987),i=function(e){var t=e||r.Z,n=t.brand,i=n.earth200,o=n.earth300,u=n.earth400,l=n.energy200,a=n.energy300,c=n.energy400,s=n.fire200,d=n.fire300,f=n.fire400,p=n.water200,h=n.water300,v=n.water400,m=n.wind200,g=n.wind300,b=n.wind400,x=t.chart;return[x.backgroundPrimary,x.backgroundSecondary,x.backgroundTertiary].concat([b,v,f,c,u,g,h,d,a,o,m,p,s,l,i])}},94035:function(e,t,n){"use strict";var r=n(38626).default.div.withConfig({displayName:"YAxisLabelContainer",componentId:"sc-qwp21x-0"})(["-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);white-space:nowrap;"]);t.Z=r},79221:function(e,t,n){"use strict";n.d(t,{P5:function(){return r},Vs:function(){return i}});n(81728);function r(e,t){var n=t||{},r=n.maxFractionDigits,i=n.minAmount,o=Intl.NumberFormat("en-US",{maximumFractionDigits:r||2,notation:"compact"});return"number"!==typeof e?e:e>=(i||1e4)?o.format(e):e.toString()}function i(e,t,n){var r,i;if("undefined"===typeof e||"undefined"===typeof t)return 0;var o=null===e||void 0===e||null===(r=e(t,n))||void 0===r||null===(i=r.props)||void 0===i?void 0:i.children;return(Array.isArray(o)?o:[o]).join("").length}},4982:function(e,t,n){"use strict";n.d(t,{O$:function(){return ve},Fk:function(){return me}});var r=n(75582),i=n(12691),o=n.n(i),u=n(26304),l=n(21831),a=n(82394),c=n(82684),s=n(26226),d=n(84969),f=n(90948),p=n(65743),h=n(63588),v=n.n(h),m=n(75823),g=n(29989),b=n(62072),x=n(53989),y=n(49894),j=n(18246),O=n(59309),Z=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function P(e){var t=e.data,n=e.className,r=e.top,i=e.left,o=e.y,u=e.x0,l=void 0===u?b.l8:u,a=e.x1,s=void 0===a?b.xf:a,d=e.xScale,f=e.yScale,h=e.color,P=e.keys,w=e.value,T=e.order,S=e.offset,E=e.children,_=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Z),I=(0,m.Z)();P&&I.keys(P),w&&(0,y.Z)(I.value,w),T&&I.order((0,j.ZP)(T)),S&&I.offset((0,O.ZP)(S));var D=I(t),C=(0,x.Z)(f),L=D.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(d(s(t))||0)-(d(l(t))||0),u=d(l(t)),a="bandwidth"in f?f(o(t.data)):Math.max((f(o(t.data))||0)-i/2);return{bar:t,key:n,index:r,height:C,width:i,x:u||0,y:a||0,color:h(e.key,r)}}))}}));return E?c.createElement(c.Fragment,null,E(L)):c.createElement(g.Z,{className:v()("visx-bar-stack-horizontal",n),top:r,left:i},L.map((function(e){return e.bars.map((function(t){return c.createElement(p.Z,k({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},_))}))})))}var w=n(79487),T=n(38626),S=n(61655),E=n(16853),_=n(65376),I=n(48072),D=n(24903),C=n(84181),L=n(98677),A=n(30160),M=n(70987),R=n(79633),N=n(61896),Y=n(70515),U=n(95363),F=n(28598),H=["height","width"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={bottom:5*Y.iI,left:3*Y.iI,right:20*Y.iI,top:0},z=function(e){return e.x},X=function(e){return e.y},J=(0,S.Z)((function(e){var t=e.data,n=e.height,r=e.hideTooltip,i=e.large,o=e.margin,u=void 0===o?{}:o,a=e.renderTooltipContent,s=e.showTooltip,h=e.tooltipData,v=e.tooltipLeft,m=e.tooltipOpen,b=e.tooltipTop,x=e.width,y=e.xAxisLabel,j=e.xNumTicks,O=e.yLabelFormat,Z=e.ySerialize,k=O;k||(k=function(e){return e.length>20?"".concat(e.substring(0,20),"..."):e});var S=i?N.iD:N.J5,Y=(0,c.useContext)(T.ThemeContext),H=B(B({},G),u),V=t.slice(Math.max(0,t.length-50)),J=Object.keys(V[0]||[]).filter((function(e){return"x"===e})),K=(0,D.Z)({domain:J,range:[R.hM]}),q=(0,C.Z)({domain:[0,Math.max.apply(Math,(0,l.Z)(V.map(z)))],nice:!0}),W=(0,L.Z)({domain:V.map(X),padding:.35}),$={active:(null===Y||void 0===Y?void 0:Y.content.default)||M.Z.content.default,backgroundPrimary:(null===Y||void 0===Y?void 0:Y.chart.backgroundPrimary)||M.Z.chart.backgroundPrimary,backgroundSecondary:(null===Y||void 0===Y?void 0:Y.chart.backgroundSecondary)||M.Z.chart.backgroundSecondary,muted:(null===Y||void 0===Y?void 0:Y.content.muted)||M.Z.content.muted,primary:(null===Y||void 0===Y?void 0:Y.chart.primary)||M.Z.chart.primary,tooltipBackground:(null===Y||void 0===Y?void 0:Y.background.navigation)||M.Z.background.navigation},Q=V.map(Z),ee=Math.min(Math.max.apply(Math,(0,l.Z)(Q.map((function(e){return String(e).length})))),20);6*ee>2*H.right?H.right+=5.5*ee:6*ee>=H.right&&(H.right+=3.75*ee);var te=x-H.left-H.right,ne=n-H.top-H.bottom;H.left+=7*ee,q.rangeRound([0,te]),W.rangeRound([ne,0]);var re=V.map(z).length,ie=W(Q[re-1]),oe=(0,c.useCallback)((function(e){var t=(0,I.Z)(e)||{x:0,y:0},n=t.x,r=t.y,i=1-(r-ie/2)/(ne-ie),o=Math.floor(i*re),u=V[o];"undefined"===typeof u&&(u=V[o-1]),r>ie&&r<ne-ie&&s({tooltipData:u,tooltipLeft:n,tooltipTop:r+H.top})}),[V,re,H.top,s,ie,ne]);return x<10?null:(0,F.jsxs)("div",{children:[(0,F.jsxs)("svg",{height:n,width:x,children:[(0,F.jsx)(p.Z,{fill:"transparent",height:n-(H.top+H.bottom),onMouseLeave:function(){return r()},onMouseMove:oe,onTouchMove:oe,onTouchStart:oe,rx:14,width:x-H.left,x:H.left,y:0}),(0,F.jsxs)(g.Z,{left:H.left,top:H.top,children:[(0,F.jsx)(P,{color:K,data:V,height:ne,keys:J,pointerEvents:"none",xScale:q,y:Z,yScale:W,children:function(e){return e.map((function(e){return e.bars.map((function(t){return(0,F.jsx)("g",{children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("rect",{fill:$.backgroundPrimary,height:t.height,pointerEvents:"none",rx:4,width:t.width,x:t.x,y:t.y})})},"barstack-horizontal-".concat(e.index,"-").concat(t.index))}))}))}}),(0,F.jsx)(d.Z,{hideTicks:!0,scale:W,stroke:$.muted,tickFormat:function(e){return k(e)},tickLabelProps:function(){return{fill:$.active,fontFamily:U.ry,fontSize:S,style:{width:"10px"},textAnchor:"end"}},tickStroke:$.muted,tickValues:Q,top:2}),(0,F.jsx)(f.Z,{label:y,labelProps:{fill:$.muted,fontFamily:U.ry,fontSize:S,textAnchor:"middle"},numTicks:j,scale:q,stroke:$.muted,tickLabelProps:function(){return{fill:$.active,fontFamily:U.ry,fontSize:S,textAnchor:"middle"}},tickStroke:$.muted,top:ne})]}),h&&(0,F.jsx)("g",{children:(0,F.jsx)(w.Z,{from:{x:H.left,y:b},pointerEvents:"none",stroke:R.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:te+H.left,y:b}})})]}),m&&h&&(0,F.jsx)(E.Z,{left:v,style:B(B({},_.j),{},{backgroundColor:$.tooltipBackground}),top:b,children:(0,F.jsxs)(A.ZP,{black:!0,small:!0,children:[null===a||void 0===a?void 0:a(h),!a&&z(h).toFixed(4)]})})]})}));var K,q,W,$,Q=function(e){var t=e.height,n=e.width,r=(0,u.Z)(e,H);return(0,F.jsx)("div",{style:{height:t,width:"undefined"===typeof n?"100%":n},children:(0,F.jsx)(s.Z,{children:function(e){var t=e.width,n=e.height;return(0,F.jsx)(J,B(B({},r),{},{height:n,width:t}))}})})},ee=n(97618),te=n(52729),ne=n(48670),re=n(87862),ie=n(89370),oe=n(86735),ue=(oe.Qj,oe.tS,oe.tS,oe.tS,oe.tS,oe.Qj,oe.Qj,oe.Qj,oe.tS,oe.tS,K={},(0,a.Z)(K,ie.RL.EMAIL,"domain_distribution"),(0,a.Z)(K,ie.RL.TEXT,"word_distribution"),(0,a.Z)(K,ie.RL.LIST,"element_distribution"),(0,a.Z)(K,"default","value_counts"),K),le=[].concat((0,l.Z)(ie.P_),[ie.RL.TEXT,ie.RL.EMAIL,ie.RL.LIST]),ae=(q={},(0,a.Z)(q,ie.RL.EMAIL,"Domain distribution"),(0,a.Z)(q,ie.RL.TEXT,"Word distribution"),(0,a.Z)(q,ie.RL.LIST,"Element distribution"),(0,a.Z)(q,"default","Distribution of values"),n(31353));!function(e){e.RANGE="range"}(W||(W={})),function(e){e.BAR_HORIZONTAL="bar_horizontal",e.LINE_CHART="line_chart",e.HISTOGRAM="histogram"}($||($={}));var ce=n(48888),se=n(92083),de=n.n(se),fe=n(81728);function pe(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r||{},o=i.calculateAnomaly,u=i.feature,a=i.getYValue,c=e.x,s=e.x_metadata,d=s.label,f=s.label_type,p=e.y,h=(null===p||void 0===p?void 0:p.map((function(e){return null===a||void 0===a?void 0:a(e)})))||[],v=Math.max.apply(Math,(0,l.Z)(h)),m=Math.max.apply(Math,(0,l.Z)(h)),g=(0,oe.Sm)(h),b=(0,oe.IN)(h),x=g/Math.max(1,h.length),y=t[d]||u,j=null===y||void 0===y?void 0:y.columnType,O=ie.RL.DATETIME===j,Z=[],k=[],P=c.length,w=c.map((function(e,t){var r,i,u,l,a=e.label,c=e.max,s=e.min,d=p[t];if(W.RANGE===f)if(n||(n=c-s),l=ie.RL.NUMBER===j&&n<=P)r=Number(s);else if(r=n/2+s,O){var y="M/D/YYYY",w="M/D/YYYY",T="M/D/YYYY";n<=1?(y=n<=.1?"H:mm:ss.SSS":"H:mm:ss",w="H:mm:ss.SSS",T="H:mm:ss.SSS"):n<=60?(y="H:mm",w="H:mm:ss",T="H:mm:ss"):n<=3600?(y="H:mm",w="M/D/YYYY H:mm",T="H:mm"):n<=86400&&(w="M/D/YYYY H:mm",T="M/D/YYYY H:mm"),r=de().unix(r).format(y),i=de().unix(s).format(w),u=de().unix(c).format(T)}else r=(0,fe.QV)(r);else r=a;var S=t>=1?p[t-1]:null,E=!1;o&&(E=o({x:e,y:d,yPrevious:S,yValues:h,yValuesAverage:x,yValuesMax:v,yValuesMin:m,yValuesStandardDeviation:b,yValuesSum:g}));var _={hideRange:l,isUnusual:E,x:e,xLabel:r,xLabelMax:u,xLabelMin:i,y:d};return E&&(l?k.push(_):Z.push(_)),_}));return{distribution:{data:w,featureUUID:d},rangedWithUnusualDistribution:(0,oe.YC)(Z,(function(e){var t=e.y;return a(t)}),{ascending:!1}),unusualDistribution:(0,oe.YC)(k,(function(e){var t=e.y;return a(t)}),{ascending:!1})}}var he=n(40489);var ve=12*Y.iI;function me(e){var t=e.columnTypes,n=e.columns,i=e.insightsByFeatureUUID,u=e.insightsOverview,l=e.noColumnLinks,a=void 0!==l&&l,c=e.statistics;return function(e,l,s){var d=s.width,f=n[l],p=t[f],h=ae.T5[p],v=(i[f]||{}).charts,m=u.time_series,g=n.filter((function(e){return t[e]===ie.RL.DATETIME})),b=null===m||void 0===m?void 0:m.map((function(e){return pe(e,{},{feature:{columnType:p,uuid:f}}).distribution})),x={};null===b||void 0===b||b.forEach((function(e,t){var n=e.data;x[g[t]]=(0,F.jsx)(te.Z,{data:n.map((function(e){var t=e.x,n=e.xLabel,r=e.xLabelMax,i=e.xLabelMin;return[n,e.y.count,i,r,t.min,t.max]})),height:ve,large:!0,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(e){var t=(0,r.Z)(e,4),n=t[1],i=t[2],o=t[3];return(0,F.jsxs)("p",{children:["Rows: ",n,(0,F.jsx)("br",{}),"Start: ",i,(0,F.jsx)("br",{}),"End: ",o]})},sortData:function(e){return(0,oe.YC)(e,"[4]")}},f)}));var y,j=null===v||void 0===v?void 0:v.find((function(e){var t=e.type;return $.HISTOGRAM===t})),O=(j?pe(j,{},{feature:{columnType:p,uuid:f},getYValue:function(e){return e.value}}):{}).distribution,Z=void 0===O?null:O,k=ue[p]||ue.default,P=null===c||void 0===c?void 0:c["".concat(f,"/").concat(k)],w=Object.entries(P||{}).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return{x:t[1],y:n}})),T=ie.RL.TRUE_OR_FALSE===p;if(ie.RL.DATETIME===p)y=x[f];else if(Z&&!T)y=(0,F.jsx)(te.Z,{data:Z.data.map((function(e){var t=e.hideRange,n=e.isUnusual,r=e.x;return[e.xLabel,e.y.value,r.min,r.max,n,t]})),height:ve,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(e){var t=(0,r.Z)(e,6),n=t[1],i=t[2],o=t[3],u=t[5];return(0,F.jsxs)("p",{children:[u&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",n,(0,F.jsx)("br",{}),"Value: ",i]}),!u&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",n,(0,F.jsx)("br",{}),"Range: ",i," - ",o]})]})},sortData:function(e){return(0,oe.YC)(e,"[2]")},width:d-2*Y.iI});else if(le.includes(p)){var S=(0,oe.YC)((0,oe.YC)(w,"x",{ascending:!1}).slice(0,5),"x");y=(0,F.jsx)(Q,{data:S,height:ve,margin:{bottom:0,left:0,right:20,top:0},renderTooltipContent:function(e){var t=e.x,n=e.y;return"".concat(n," appears ").concat((0,fe.x6)(t)," times")},xNumTicks:2,ySerialize:function(e){return e.y}})}else T&&P&&(y=(0,F.jsx)(re.Z,{data:Object.entries(P),getX:function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return"".concat(n," (").concat((0,fe.x6)(i),")")},getY:function(e){return(0,r.Z)(e,2)[1]},height:ve}));return(0,F.jsxs)("div",{style:{padding:Y.iI},children:[(0,F.jsxs)("div",{style:{alignItems:"center",display:"flex",marginBottom:Y.iI},children:[h&&(0,F.jsx)(ee.Z,{title:ie.Rp[p],children:(0,F.jsx)(h,{size:2*Y.iI})}),(0,F.jsx)("div",{style:{marginLeft:.5*Y.iI,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:d-4.5*Y.iI},children:a?(0,F.jsx)(A.ZP,{bold:!0,default:!0,title:n[l],children:n[l]}):(0,F.jsx)(o(),{as:(0,he.o_)(ce.oE,l),href:"/datasets/[...slug]",passHref:!0,children:(0,F.jsx)(ne.Z,{bold:!0,monospace:!0,secondary:!0,small:!0,title:n[l],children:n[l]})})})]}),y,!y&&(0,F.jsx)("div",{style:{height:ve}})]})}}},55072:function(e,t,n){"use strict";n.d(t,{Et:function(){return f},Q:function(){return d}});n(82684);var r=n(71180),i=n(55485),o=n(38276),u=n(31748),l=n(72473),a=n(79633),c=n(70515),s=n(28598),d=30,f=9;t.ZP=function(e){var t=e.page,n=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=n;if(h>f)p=Array.from({length:f},(function(e,t){return t}));else{var v=Math.floor(h/2),m=t-v;t+v>=f?(m=f-h+2,h-=2):t-v<=0?(m=0,h-=2):(h-=4,m=t-Math.floor(h/2)),p=Array.from({length:h},(function(e,t){return t+m}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.ZP,{disabled:0===t,onClick:function(){return d(t-1)},children:(0,s.jsx)(l.Hd,{size:1.5*c.iI,stroke:u.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{backgroundColor:e===t&&a.a$,borderLess:!0,noBackground:!0,notClickable:e===t,onClick:function(){e!==t&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.ZP,{disabled:t===f-1,onClick:function(){return d(t+1)},children:(0,s.jsx)(l.Kw,{size:1.5*c.iI,stroke:u.Av})})]})})}},44265:function(e,t,n){"use strict";n.d(t,{Az:function(){return c},BF:function(){return a},Do:function(){return d},IK:function(){return l},P0:function(){return i},VO:function(){return u},sZ:function(){return s}});var r,i,o=n(82394),u=n(41143).V,l=[u.FAILED,u.COMPLETED,u.RUNNING,u.CANCELLED,u.INITIAL],a=[u.INITIAL,u.RUNNING],c=[u.CANCELLED,u.COMPLETED,u.FAILED],s="__mage_variables",d=(r={},(0,o.Z)(r,u.CANCELLED,"Cancelled"),(0,o.Z)(r,u.COMPLETED,"Done"),(0,o.Z)(r,u.FAILED,"Failed"),(0,o.Z)(r,u.INITIAL,"Ready"),(0,o.Z)(r,u.RUNNING,"Running"),r);!function(e){e.PIPELINE_UUID="pipeline_uuid[]",e.STATUS="status[]",e.TAG="pipeline_tag[]"}(i||(i={}))},30229:function(e,t,n){"use strict";n.d(t,{PN:function(){return l},TR:function(){return h},U5:function(){return c},Wb:function(){return p},Xm:function(){return o},Z4:function(){return s},fq:function(){return a},gm:function(){return d},kJ:function(){return f}});var r,i,o,u=n(82394),l="__bookmark_values__";!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var a,c,s=(r={},(0,u.Z)(r,o.API,(function(){return"API"})),(0,u.Z)(r,o.EVENT,(function(){return"event"})),(0,u.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(a||(a={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(c||(c={}));var d,f,p=[c.ONCE,c.HOURLY,c.DAILY,c.WEEKLY,c.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(d||(d={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(f||(f={}));var h=(i={},(0,u.Z)(i,f.CREATED_AT,"Created at"),(0,u.Z)(i,f.NAME,"Name"),(0,u.Z)(i,f.PIPELINE,"Pipeline"),(0,u.Z)(i,f.STATUS,"Active"),(0,u.Z)(i,f.TYPE,"Type"),i)},9134:function(e,t,n){"use strict";var r=n(82684),i=n(21124),o=n(68432),u=n(38626),l=n(65292),a=n(44897),c=n(95363),s=n(70515),d=n(28598);t.Z=function(e){var t=e.language,n=e.maxWidth,f=e.showLineNumbers,p=e.small,h=e.source,v=e.wrapLines,m=(0,r.useContext)(u.ThemeContext);function g(e){var r=e.value;return(0,d.jsx)(o.Z,{customStyle:{backgroundColor:(m.background||a.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:c.Vp,fontSize:p?12:14,marginBottom:0,marginTop:0,maxWidth:n,paddingBottom:2*s.iI,paddingTop:2*s.iI},language:t,lineNumberStyle:{color:(m.content||a.Z.content).muted},showLineNumbers:f,style:l._4,useInlineStyles:!0,wrapLines:v,children:r})}return(0,d.jsx)(i.D,{components:{code:function(e){var t=e.children;return(0,d.jsx)(g,{value:t})}},children:h})}},14532:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var r=n(77837),i=n(75582),o=n(82394),u=n(38860),l=n.n(u),a=n(82684),c=n(69864),s=n(34376),d=n(23192),f=n(71180),p=n(15338),h=n(97618),v=n(55485),m=n(85854),g=n(55072),b=n(75457),x=n(44265),y=n(57653),j=n(93808),O=n(38276),Z=n(4190),k=n(30160),P=n(35686),w=n(21831),T=n(26304),S=n(90299),E=n(93859),_=n(24138),I=n(48339),D=n(46684),C=n(70515),L=n(66909),A=n(8955),M=n(16488),R=n(81728),N=n(86735),Y=n(28598),U=["blockRuns","blocksOverride","columns","dataType","height","heightOffset","loadingData","outputs","pipeline","renderColumnHeader","rows","selectedRun","selectedTab","setSelectedTab","textData"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={uuid:"Dependency tree"},B={uuid:"Block output"},G=[B,V];var z=n(28795),X=n(81655),J=n(3917),K=n(72619),q=n(95924),W=n(69419),$=n(70320);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=100;function ne(e){var t=e.pipeline,n=e.pipelineRun,r=(0,$.qB)(),o=(0,s.useRouter)(),u=(0,W.iV)(),l=null!==u&&void 0!==u&&u.page?u.page:0,j=(0,a.useState)(null),F=j[0],Q=j[1],ne=(0,a.useState)(G[0]),re=ne[0],ie=ne[1],oe=(0,a.useState)(null),ue=oe[0],le=oe[1],ae=t.uuid,ce=P.ZP.pipelines.detail(ae,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,se=(0,a.useMemo)((function(){return ee(ee({},null===ce||void 0===ce?void 0:ce.pipeline),{},{uuid:ae})}),[ce,ae]),de=P.ZP.pipeline_runs.detail(n.id,{_format:"with_basic_details"},{refreshInterval:3e3,revalidateOnFocus:!0}).data,fe=(0,a.useMemo)((function(){return(null===de||void 0===de?void 0:de.pipeline_run)||{}}),[de]),pe=fe.execution_date,he=fe.id,ve=fe.status,me={_limit:te,_offset:l*te,pipeline_run_id:he},ge=null===u||void 0===u?void 0:u[X.lG.SORT_COL_IDX],be=null===u||void 0===u?void 0:u[X.lG.SORT_DIRECTION];if(ge){var xe=d.fi[ge],ye=be||X.sh.ASC;me.order_by="".concat(xe,"%20").concat(ye)}var je=P.ZP.block_runs.list(me,{refreshInterval:5e3}),Oe=je.data,Ze=je.mutate,ke=(0,a.useMemo)((function(){return(null===Oe||void 0===Oe?void 0:Oe.block_runs)||[]}),[Oe]),Pe=ke.map((function(e){return e.block_uuid})),we=(0,a.useMemo)((function(){return Pe}),[Pe]),Te=P.ZP.blocks.pipeline_runs.list(null===n||void 0===n?void 0:n.id,{_limit:te,block_uuid:we},{}).data,Se=(0,c.Db)(P.ZP.pipeline_runs.useUpdate(he),{onSuccess:function(e){return(0,K.wD)(e,{callback:function(){Q(null),null===Ze||void 0===Ze||Ze()},onErrorCallback:function(e,t){return le({errors:t,response:e})}})}}),Ee=(0,i.Z)(Se,2),_e=Ee[0],Ie=Ee[1].isLoading,De=P.ZP.outputs.block_runs.list(null===F||void 0===F?void 0:F.id),Ce=De.data,Le=De.loading;(0,a.useEffect)((function(){F||(null===re||void 0===re?void 0:re.uuid)!==B.uuid||ie(V)}),[F,null===re||void 0===re?void 0:re.uuid]);var Ae=(0,a.useMemo)((function(){return(0,Y.jsx)(d.ZP,{blockRuns:ke,onClickRow:function(e){Q((function(t){var n=ke[e],r=(null===t||void 0===t?void 0:t.id)!==n.id?n:null;return r&&ie((function(e){return e!==B?B:e})),r}))},pipeline:se,selectedRun:F,setErrors:le,sortableColumnIndexes:d.lG})}),[ke,se,F]),Me=(null===se||void 0===se?void 0:se.type)!==y.qL.STREAMING&&ve&&ve!==x.VO.COMPLETED,Re=((null===se||void 0===se?void 0:se.type)===y.qL.PYTHON||(null===se||void 0===se?void 0:se.type)===y.qL.INTEGRATION)&&F&&x.Az.includes(ve),Ne=(0,a.useMemo)((function(){var e;return(null===Oe||void 0===Oe||null===(e=Oe.metadata)||void 0===e?void 0:e.count)||[]}),[Oe]),Ye=(0,a.useMemo)((function(){return(0,Y.jsx)(O.Z,{p:2,children:(0,Y.jsx)(g.ZP,{maxPages:g.Et,onUpdate:function(e){var t=Number(e),n=ee(ee({},u),{},{page:t>=0?t:0});Q(null),o.push("/pipelines/[pipeline]/runs/[run]","/pipelines/".concat(ae,"/runs/").concat(he,"?").concat((0,W.uM)(n)))},page:Number(l),totalPages:Math.ceil(Ne/te)})})}),[l,he,ae,u,o,Ne]),Ue=(0,a.useCallback)((function(e){return function(e){var t=e.blockRuns,n=e.blocksOverride,r=(e.columns,e.dataType,e.height),o=e.heightOffset,u=e.loadingData,l=e.outputs,a=e.pipeline,c=e.renderColumnHeader,s=(e.rows,e.selectedRun),d=e.selectedTab,f=e.setSelectedTab,h=(e.textData,H({},(0,T.Z)(e,U)));h.blockStatus=(0,M.IJ)(t);var m=[],g=[],b=(0,R.bH)();if(!u){var x,y={};null===l||void 0===l||l.forEach((function(e){var t=e.type;y[t]||(y[t]={outputs:[],priority:Object.keys(y).length}),y[t].outputs.push(e)})),null===(x=(0,N.YC)(Object.entries(y),(function(e){var t=(0,i.Z)(e,2);return t[0],t[1].priority})))||void 0===x||x.forEach((function(e,t){var n=(0,i.Z)(e,2),u=n[0],l=n[1].outputs,a=[];null===l||void 0===l||l.forEach((function(e,n){var i,l=e.sample_data,s=e.text_data,d=e.type,f=(0,Y.jsx)(O.Z,{ml:2,children:(0,Y.jsx)(k.ZP,{children:"This block run has no output."})},"output-empty-".concat(t,"-").concat(n));if(d===I.Gi.TABLE){var p=((null===l||void 0===l?void 0:l.columns)||[]).slice(0,40),h=(null===l||void 0===l?void 0:l.rows)||[];i=h&&(null===h||void 0===h?void 0:h.length)>=1?(0,Y.jsx)(E.Z,{columnHeaderHeight:c?L.Eh:0,columns:p,height:r-o-90,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,renderColumnHeader:c,rows:h},"output-table-".concat(t,"-").concat(n)):f}else{var v=(0,R.Pb)(s)?JSON.stringify(JSON.parse(s),null,2):s;i=s?(0,Y.jsx)(O.Z,{ml:2,children:(0,Y.jsx)(k.ZP,{monospace:!0,children:(0,Y.jsx)("pre",{children:v})})},"output-text-".concat(t,"-").concat(n)):f}var x=b[t];I.Gi.TEXT===u?(a.push(i),0===n&&g.push({uuid:"Block output ".concat(n+1).concat(x)})):(m.push(i),g.push({uuid:"Block output ".concat(n+1).concat(x)}))})),I.Gi.TEXT===u&&m.push(a)}))}var j=m,P=g,F=G;(null===P||void 0===P?void 0:P.length)>=2&&(F=[B].concat((0,w.Z)(P.slice(1)),[V]));var z=d&&f,X=j[F.findIndex((function(e){return e.uuid===(null===d||void 0===d?void 0:d.uuid)}))];return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{style:{position:"fixed",top:D.Mz},children:z&&(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(O.Z,{py:0,children:(0,Y.jsx)(S.Z,{onClickTab:f,regularSizeText:!0,selectedTabUUID:null===d||void 0===d?void 0:d.uuid,tabs:s?F:[V],underlineStyle:!0})})})}),(0,Y.jsxs)("div",{style:{position:"relative",top:A.u$},children:[z&&(0,Y.jsx)(p.Z,{light:!0}),(!s||V.uuid===(null===d||void 0===d?void 0:d.uuid))&&(0,Y.jsx)(_.ZP,H(H({},h),{},{blocksOverride:n,enablePorts:!1,height:r,heightOffset:(o||0)+(z?A.u$+1:0),pipeline:a})),s&&d&&V.uuid!==(null===d||void 0===d?void 0:d.uuid)&&(0,Y.jsxs)(Y.Fragment,{children:[u&&(0,Y.jsx)(O.Z,{mt:2,children:(0,Y.jsx)(v.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,Y.jsx)(Z.Z,{color:"white",large:!0})})}),!u&&(0,Y.jsx)(O.Z,{py:C.cd,children:X})]})]})]})}(ee(ee({},e),{},{blockRuns:ke,blocksOverride:Ne<=te&&(null===Te||void 0===Te?void 0:Te.blocks),loadingData:Le,outputs:null===Ce||void 0===Ce?void 0:Ce.outputs,selectedRun:F,selectedTab:re,setSelectedTab:ie,showDynamicBlocks:!0}))}),[ke,Te,Ce,Le,F,re,ie,Ne]);return(0,Y.jsxs)(b.Z,{breadcrumbs:[{label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(ae,"/runs"),href:"/pipelines/[pipeline]/runs"}},{label:function(){return r?(0,J.XG)(pe,r):pe}}],buildSidekick:Ue,errors:ue,pageName:z.M.RUNS,pipeline:se,setErrors:le,subheader:(Me||Re)&&(0,Y.jsxs)(v.ZP,{alignItems:"center",children:[x.BF.includes(ve)&&(0,Y.jsxs)(h.Z,{children:[(0,Y.jsx)(k.ZP,{bold:!0,default:!0,large:!0,children:"Pipeline is running"}),(0,Y.jsx)(O.Z,{mr:1}),(0,Y.jsx)(Z.Z,{inverted:!0}),(0,Y.jsx)(O.Z,{mr:2})]}),Me&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(f.ZP,{danger:!0,loading:Ie,onClick:function(e){(0,q.j)(e),_e({pipeline_run:{pipeline_run_action:"retry_blocks"}})},outline:!0,children:"Retry incomplete blocks"}),(0,Y.jsx)(O.Z,{mr:2})]}),Re&&(0,Y.jsxs)(f.ZP,{loading:Ie,onClick:function(e){(0,q.j)(e),_e({pipeline_run:{from_block_uuid:F.block_uuid,pipeline_run_action:"retry_blocks"}})},outline:!0,primary:!0,children:["Retry from selected block (",F.block_uuid,")"]})]}),title:function(e){var t=e.name;return"".concat(t," runs")},uuid:"".concat(z.M.RUNS,"_").concat(ae,"_").concat(he),children:[(0,Y.jsx)(O.Z,{mt:C.cd,px:C.cd,children:(0,Y.jsx)(m.Z,{level:5,children:"Block runs"})}),(0,Y.jsx)(p.Z,{light:!0,mt:C.cd,short:!0}),Ae,Ye]})}ne.getInitialProps=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=n.pipeline,i=n.run,e.abrupt("return",{pipeline:{uuid:r},pipelineRun:{id:i}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var re=(0,j.Z)(ne)},39525:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/runs/[run]",function(){return n(14532)}])}},function(e){e.O(0,[2678,1154,844,6639,4804,9775,1124,1751,5896,6050,9161,2631,3494,1557,2512,7858,5499,5283,4296,5457,5810,3745,5849,1550,2056,4052,9774,2888,179],(function(){return t=39525,e(e.s=t);var t}));var t=e.O();_N_E=t}]);