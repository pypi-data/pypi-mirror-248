(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9015],{59739:function(e,n,t){"use strict";var r=t(56669);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,c){if(c!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},47329:function(e,n,t){e.exports=t(59739)()},56669:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},44152:function(e,n,t){"use strict";t.d(n,{r:function(){return a}});var r=t(82684);const i=e=>{let n;const t=new Set,r=(e,r)=>{const i="function"===typeof e?e(n):e;if(i!==n){const e=n;n=r?i:Object.assign({},n,i),t.forEach((t=>t(n,e)))}},i=()=>n,o={setState:r,getState:i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return n=e(r,i,o),o};var o=t(81550);const{useSyncExternalStoreWithSelector:c}=o;const u=e=>{const n="function"===typeof e?(e=>e?i(e):i)(e):e,t=(e,t)=>function(e,n=e.getState,t){const i=c(e.subscribe,e.getState,e.getServerState||e.getState,n,t);return(0,r.useDebugValue)(i),i}(n,e,t);return Object.assign(t,n),t};var l=e=>e?u(e):u;const a=e=>{const n=l((()=>e)),t=(Object.keys(e),(e,t)=>{n.setState((n=>{return{[e]:(r=n[e],i=t,"function"==typeof i?i(r):i)};var r,i}))});return{useGlobalState:e=>{const i=(0,r.useCallback)((n=>n[e]),[e]);return[n(i),(0,r.useCallback)((n=>t(e,n)),[e])]},getGlobalState:e=>n.getState()[e],setGlobalState:t,subscribe:(e,t)=>{n.subscribe(((n,r)=>{n[e]!==r[e]&&t(n[e])}))}}}},1589:function(e,n,t){"use strict";var r=t(82684);var i="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},o=r.useState,c=r.useEffect,u=r.useLayoutEffect,l=r.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!i(e,t)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),i=r[0].inst,s=r[1];return u((function(){i.value=t,i.getSnapshot=n,a(i)&&s({inst:i})}),[e,t,n]),c((function(){return a(i)&&s({inst:i}),e((function(){a(i)&&s({inst:i})}))}),[e]),l(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},73847:function(e,n,t){"use strict";var r=t(82684),i=t(48216);var o="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},c=i.useSyncExternalStore,u=r.useRef,l=r.useEffect,a=r.useMemo,s=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,i){var d=u(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=a((function(){function e(e){if(!l){if(l=!0,c=e,e=r(e),void 0!==i&&f.hasValue){var n=f.value;if(i(n,e))return u=n}return u=e}if(n=u,o(c,e))return n;var t=r(e);return void 0!==i&&i(n,t)?n:(c=e,u=t)}var c,u,l=!1,a=void 0===t?null:t;return[function(){return e(n())},null===a?void 0:function(){return e(a())}]}),[n,t,r,i]);var p=c(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),s(p),p}},48216:function(e,n,t){"use strict";e.exports=t(1589)},81550:function(e,n,t){"use strict";e.exports=t(73847)},65557:function(e,n,t){"use strict";var r=t(21831),i=t(75582),o=t(82684),c=t(80329);n.Z=function(e){var n=e.children,t=e.uuid,u=e.uuids,l=void 0===u?[]:u,a=(0,c.j)("apiReloads"),s=(0,i.Z)(a,1)[0],d=(0,r.Z)(l);t&&d.push(t);var f=d.map((function(e){return String(s[e])||"-"})).join("_");return o.cloneElement(n,{key:f})}},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var r=t(82394),i=t(21831),o=t(82684),c=t(50724),u=t(82555),l=t(97618),a=t(70613),s=t(31557),d=t(68899),f=t(28598);function p(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(p),v=t(62547),b=t(82571),g=t(98464),m=t(77417),y=t(46684),S=t(70515),x=t(53808),O=t(19183);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function C(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,p=e.afterHidden,j=e.afterWidth,C=e.afterWidthOverride,k=e.appendBreadcrumbs,w=e.before,P=e.beforeWidth,Z=e.breadcrumbs,T=e.children,I=e.contained,_=e.errors,R=e.headerMenuItems,A=e.headerOffset,N=e.hideAfterCompletely,H=e.mainContainerHeader,D=e.navigationItems,L=e.setAfterHidden,B=e.setErrors,F=e.subheaderChildren,W=e.subheaderNoPadding,M=e.title,V=e.uuid,U=(0,O.i)().width,G="dashboard_after_width_".concat(V),K="dashboard_before_width_".concat(V),z=(0,o.useRef)(null),X=(0,o.useState)(C?j:(0,x.U2)(G,j)),q=X[0],J=X[1],Q=(0,o.useState)(!1),Y=Q[0],$=Q[1],ee=(0,o.useState)(w?Math.max((0,x.U2)(K,P),13*S.iI):null),ne=ee[0],te=ee[1],re=(0,o.useState)(!1),ie=re[0],oe=re[1],ce=(0,o.useState)(null)[1],ue=(0,m.Z)().project,le=[];Z&&le.push.apply(le,(0,i.Z)(Z)),null!==Z&&void 0!==Z&&Z.length&&!k||!ue||null!==Z&&void 0!==Z&&Z.length||le.unshift({bold:!k,label:function(){return M}}),(0,o.useEffect)((function(){null===z||void 0===z||!z.current||Y||ie||null===ce||void 0===ce||ce(z.current.getBoundingClientRect().width)}),[Y,q,ie,ne,z,ce,U]),(0,o.useEffect)((function(){Y||(0,x.t8)(G,q)}),[p,Y,q,G]),(0,o.useEffect)((function(){ie||(0,x.t8)(K,ne)}),[ie,ne,K]);var ae=(0,g.Z)(j);return(0,o.useEffect)((function(){C&&ae!==j&&J(j)}),[C,j,ae]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:M}),(0,f.jsx)(s.Z,{breadcrumbs:le,menuItems:R}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===D||void 0===D?void 0:D.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:D,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:y.Mz,afterHidden:p,afterMousedownActive:Y,afterWidth:q,before:w,beforeHeightOffset:y.Mz,beforeMousedownActive:ie,beforeWidth:d.k1+(w?ne:0),contained:I,headerOffset:A,hideAfterCompletely:!L||N,leftOffset:w?d.k1:null,mainContainerHeader:H,mainContainerRef:z,setAfterHidden:L,setAfterMousedownActive:$,setAfterWidth:J,setBeforeMousedownActive:oe,setBeforeWidth:te,children:[F&&(0,f.jsx)(h,{noPadding:W,children:F}),T]})})]}),_&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===B||void 0===B?void 0:B(null)},children:(0,f.jsx)(u.Z,E(E({},_),{},{onClose:function(){return null===B||void 0===B?void 0:B(null)}}))})]})}var k=o.forwardRef(C)},29618:function(e,n,t){"use strict";t.d(n,{Z:function(){return H}});var r=t(82394),i=t(75582),o=t(17717),c=t(82684),u=t(80329),l=t(69864),a=t(40761),s=t(44425),d=t(71180),f=t(38626),p=t(97618),h=t(55485),v=t(28598),b=f.default.div.withConfig({displayName:"ButtonGroup__ButtonGroupStyle",componentId:"sc-15vbmc8-0"})([""]),g=f.default.div.withConfig({displayName:"ButtonGroup__VerticalDivider",componentId:"sc-15vbmc8-1"})(["width:1px;"]),m=function(e){var n=e.children,t=e.divider,r=c.Children.toArray(n).length;return(0,v.jsx)(b,{children:(0,v.jsx)(h.ZP,{children:c.Children.map(n,(function(e,n){return e&&(0,v.jsxs)(p.Z,{children:[n>=1&&t&&(0,v.jsx)(g,{}),c.cloneElement(e,{borderRadiusLeft:r>=2&&0===n,borderRadiusRight:r>=2&&n===r-1,halfPaddingLeft:r>=2&&0!==n,halfPaddingRight:r>=2&&n!==r-1,noBorder:r>=2&&n>0&&n<r-1,noBorderRight:r>=2&&n!==r-1})]},"button-group-child-".concat(n))}))})})},y=t(75810),S=t(89706),x=t(93369),O=t(57653),j=t(38276),E=t(35686),C=t(39643),k=t(11498),w=t(85385),P=t(80330),Z=t(86735),T=t(81728),I=t(72619),_=t(42041),R=t(44688);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var H=function(e){var n,t=e.active,f=e.addNewBlock,p=e.disableRefreshWarning,b=e.fetchPipeline,g=e.fetchVariables,A=e.filePath,H=e.hideHeaderButtons,D=e.onContentChange,L=e.onUpdateFileSuccess,B=e.openSidekickView,F=e.pipeline,W=e.saveFile,M=e.selectedFilePath,V=e.sendTerminalMessage,U=e.setDisableShortcuts,G=e.setErrors,K=e.setFilesTouched,z=e.setSelectedBlock,X=(0,u.j)("apiReloads"),q=(0,i.Z)(X,2)[1],J=(0,c.useState)(null),Q=J[0],Y=J[1],$=(0,c.useState)(!1),ee=$[0],ne=($[1],(0,c.useRef)(null)),te=(0,c.useMemo)((function(){return new a.Z}),[]),re=(0,c.useMemo)((function(){return{api_key:k.lG,token:te.decodedToken.token}}),[te]),ie=E.ZP.statuses.list().data,oe=(0,c.useMemo)((function(){var e,n;return null===ie||void 0===ie||null===(e=ie.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.repo_path}),[ie]),ce=E.ZP.file_contents.detail(A).data;(0,c.useEffect)((function(){null!==ce&&void 0!==ce&&ce.file_content?Y(ce.file_content):null!==ce&&void 0!==ce&&ce.error&&(0,I.h$)(ce,{onErrorCallback:function(e,n){return G({errors:n,response:e})}})}),[ce,G]);var ue=(0,c.useState)(null===Q||void 0===Q?void 0:Q.content),le=ue[0],ae=ue[1],se=(0,c.useCallback)((function(e){ae(e),D&&(null===D||void 0===D||D(e))}),[D]),de=(0,c.useState)(!1),fe=de[0],pe=de[1];(0,c.useEffect)((function(){t&&U&&(null===U||void 0===U||U(!0))}),[t,U]),(0,c.useEffect)((function(){var e;M&&(null===ne||void 0===ne||null===(e=ne.current)||void 0===e||e.scrollIntoView())}),[M]);var he=(0,l.Db)(E.ZP.file_contents.useUpdate((null===Q||void 0===Q?void 0:Q.path)&&encodeURIComponent(null===Q||void 0===Q?void 0:Q.path)),{onSuccess:function(e){return(0,I.wD)(e,{callback:function(e){var n=e.file_content;q((function(e){return N(N({},e),{},(0,r.Z)({},"FileVersions/".concat(null===Q||void 0===Q?void 0:Q.path),Number(new Date)))})),L&&(null===L||void 0===L||L(n))},onErrorCallback:function(e,n){return null===G||void 0===G?void 0:G({errors:n,response:e})}})}}),ve=(0,i.Z)(he,1)[0],be=(0,c.useCallback)((function(e,n){if(W)return W(e,n);ve({file_content:N(N({},n),{},{content:e})}).then((function(){decodeURIComponent(A).split(o.sep).pop()===S.dT.METADATA_YAML&&g&&(null===g||void 0===g||g())})),null===K||void 0===K||K((function(e){return N(N({},e),{},(0,r.Z)({},null===n||void 0===n?void 0:n.path,!1))})),pe(!1)}),[g,A,W,K,ve]),ge=(0,c.useMemo)((function(){return(0,P.lU)()}),[]),me=(0,c.useMemo)((function(){var e,n,t,r;return null===(null===Q||void 0===Q||null===(e=Q.path)||void 0===e?void 0:e.match(ge))?S.Lu.TXT:null===Q||void 0===Q||null===(n=Q.path)||void 0===n||null===(t=n.match(ge))||void 0===t||null===(r=t[0])||void 0===r?void 0:r.split(".")[1]}),[ge,Q]),ye=(0,c.useMemo)((function(){if(null!==Q&&void 0!==Q&&Q.path)return(0,v.jsx)(y.Z,{autoHeight:!0,language:S.nB[me],onChange:function(e){se(e),K&&K((function(e){return null!==e&&void 0!==e&&e[null===Q||void 0===Q?void 0:Q.path]?e:N(N({},e),{},(0,r.Z)({},null===Q||void 0===Q?void 0:Q.path,!0))})),pe(!0)},onSave:function(e){be(e,Q)},padding:10,selected:!0,textareaFocused:!0,value:(0,T.Pb)(null===Q||void 0===Q?void 0:Q.content)?JSON.stringify(JSON.parse(null===Q||void 0===Q?void 0:Q.content),null,2):null===Q||void 0===Q?void 0:Q.content,width:"100%"})}),[Q,me,be,se,K]),Se=null!==F&&void 0!==F&&F.blocks?(0,Z.sE)(null===F||void 0===F?void 0:F.blocks,(function(e){var n=e.type;return s.tf.DATA_EXPORTER===n})):null,xe=(0,l.Db)(E.ZP.blocks.pipelines.useUpdate(encodeURIComponent(null===F||void 0===F?void 0:F.uuid),encodeURIComponent(null===Se||void 0===Se?void 0:Se.uuid)),{onSuccess:function(e){return(0,I.wD)(e,{callback:function(){null===b||void 0===b||b()}})}}),Oe=(0,i.Z)(xe,1)[0],je=f&&F&&Q&&S.tE.includes(me)&&(0,P.ck)(null===Q||void 0===Q||null===(n=Q.path)||void 0===n?void 0:n.split(o.sep))&&(0,v.jsx)(d.ZP,{onClick:function(){var e=(null===F||void 0===F?void 0:F.type)===O.qL.INTEGRATION,n=(0,P.TU)(Q,oe,F);f(n,(function(n){e&&Se&&Oe({block:N(N({},Se),{},{upstream_blocks:[n.uuid]})}),null===z||void 0===z||z(n)}))},primary:!0,children:"Add to current pipeline"}),Ee=V&&(0,v.jsx)(j.Z,{m:2,children:(0,v.jsx)(x.ZP,{disabled:!oe,inline:!0,loading:ee,onClick:function(){null===B||void 0===B||B(w.cH.TERMINAL),null===V||void 0===V||V(JSON.stringify(N(N({},re),{},{command:["stdin","pip install -r ".concat(oe,"/requirements.txt\r")]})))},title:oe?"Pip install packages from your saved requirements.txt file (\u2318+S to save).":"Please use right panel terminal to install packages.",uuid:"FileEditor/InstallPackages",children:"Install packages"})}),Ce="FileEditor/".concat(null===Q||void 0===Q?void 0:Q.path),ke=(0,R.y)(),we=ke.registerOnKeyDown,Pe=ke.unregisterOnKeyDown;return(0,c.useEffect)((function(){return function(){Pe(Ce)}}),[Pe,Ce]),we(Ce,(function(e,n){if(t&&!p)if((0,_.y)([C.zX,C.Um],n)||(0,_.y)([C.PQ,C.Um],n))e.preventDefault(),be(le,Q);else if(fe&&(0,_.y)([C.zX,C.hS],n)){e.preventDefault();var r="".concat(Q.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[t,le,p,Q,be,fe]),(0,v.jsxs)("div",{ref:ne,children:[!H&&(0,v.jsx)(j.Z,{p:2,children:(0,v.jsxs)(h.ZP,{justifyContent:"space-between",children:[(0,v.jsxs)(m,{children:[je,(0,v.jsx)(d.ZP,{disabled:!le,onClick:function(e){e.preventDefault(),be(le,Q)},title:le?null:"No changes have been made to this file.",children:"Save file content"})]}),B&&(0,v.jsx)(m,{children:(0,v.jsx)(d.ZP,{compact:!0,onClick:function(){B(w.cH.FILE_VERSIONS)},small:!0,title:"View previous changes to this file.",children:"Show versions"})})]})}),ye,A===S.dT.REQS_TXT&&Ee]})}},90758:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(26304),o=t(82684),c=t(38626),u=t(39867),l=t(55485),a=t(48670),s=t(38276),d=t(30160),f=t(12468),p=t(44897),h=t(29120),v=t(72473),b=t(97133),g=t(70515),m=t(15610),y=t(95924),S=t(28598),x=1.25*g.iI;var O=function(e){var n=e.filePath,t=e.filesTouched,r=void 0===t?{}:t,i=e.isLast,c=e.onClickTab,O=e.onClickTabClose,j=e.renderTabTitle,E=e.savePipelineContent,C=e.selected,k=e.themeContext,w=(0,o.useState)(!1),P=w[0],Z=w[1],T=(0,h.Z)({filePath:n,name:n,uuid:n}),I=T.BlockIcon,_=T.Icon,R=T.color,A=T.iconColor,N=T.isBlockFile;return(0,S.jsx)(l.ZP,{flexDirection:"column",fullHeight:!0,onClick:function(e){e.preventDefault(),C||(c?c(n):(null===E||void 0===E||E(),(0,m.u)({file_path:encodeURIComponent(n)})))},onMouseEnter:function(){return Z(!0)},onMouseLeave:function(){return Z(!1)},children:(0,S.jsx)(b.Gb,{last:i,selected:C,children:(0,S.jsxs)(l.ZP,{alignItems:"center",fullHeight:!0,children:[(0,S.jsx)(f.Z,{appearAbove:!0,appearBefore:!0,label:n,size:null,widthFitContent:!0,children:(0,S.jsxs)(l.ZP,{alignItems:"center",fullHeight:!0,children:[!r[n]&&(0,S.jsx)(S.Fragment,{children:N?(0,S.jsx)(I,{color:R,size:1*g.iI,square:!0}):(0,S.jsx)(_,{fill:A,size:1.5*g.iI})}),r[n]&&(0,S.jsx)(f.Z,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,S.jsx)("div",{style:{padding:1},children:(0,S.jsx)(u.Z,{borderColor:(k||p.Z).borders.danger,size:x})})}),(0,S.jsx)(s.Z,{mr:1}),(0,S.jsx)(d.ZP,{monospace:!0,muted:!C,noWrapping:!0,small:!0,children:j?j(n):n})]})}),O&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{mr:2}),(0,S.jsx)(f.Z,{label:"Close",size:null,widthFitContent:!0,children:(0,S.jsxs)(a.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(e){(0,y.j)(e),null===O||void 0===O||O(n)},preventDefault:!0,children:[(P||C)&&(0,S.jsx)(v.x8,{muted:!C,size:x}),!P&&!C&&(0,S.jsx)("div",{style:{width:x}})]})})]})]})})})},j=t(86735),E=["filePaths","isSelectedFilePath","onClickTab","onClickTabClose","selectedFilePath","tabsBefore"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.filePaths,t=e.isSelectedFilePath,r=e.onClickTab,u=e.onClickTabClose,a=e.selectedFilePath,s=e.tabsBefore,d=(0,i.Z)(e,E),f=(0,o.useContext)(c.ThemeContext),p=(0,o.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]),h=(0,o.useMemo)((function(){return(null===p||void 0===p?void 0:p.length)||0}),[p]);return(0,S.jsxs)(l.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(null===s||void 0===s?void 0:s.length)>=1&&(null===s||void 0===s?void 0:s.map((function(e){var n=e.label,i=e.onClick,o=e.uuid,c=t?t(o,a):a===encodeURIComponent(o);return(0,S.jsx)(O,{onClickTab:function(){return null===i||void 0===i?void 0:i({onClickTab:r})},renderTabTitle:function(){return n?null===n||void 0===n?void 0:n():o},selected:c,themeContext:f},o)}))),null===p||void 0===p?void 0:p.map((function(e,n){var i=t?t(e,a):a===encodeURIComponent(e);return(0,o.createElement)(O,k(k({},d),{},{filePath:e,isLast:n===h-1,key:e,onClickTab:r,onClickTabClose:function(e){if(u)u(e);else{var n=(0,j.Od)(p,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,m.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})}},selected:i,themeContext:f}))}))]})}},97133:function(e,n,t){"use strict";t.d(n,{Gb:function(){return f},fm:function(){return s},lO:function(){return a},rK:function(){return d},zn:function(){return l}});var r=t(38626),i=t(44897),o=t(2842),c=t(70515),u=t(47041),l=300,a=r.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],l,l),s=r.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeArea,";\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:","px;width:100%;z-index:5;"," "," "," ",""],o.Wi,o.Wi,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||i.Z.borders).medium,";\n  ")}),(function(e){return e.relativePosition&&"\n    position: relative;\n  "}),(function(e){return e.secondary&&"\n    height: ".concat(37,"px;\n    top: ").concat(o.Wi,"px;\n    overflow-x: auto;\n    z-index: 3;\n  ")}),(0,u.y$)()),f=r.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-right:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],1*c.iI,1.5*c.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||i.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.background||i.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.selected&&!e.last&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light," !important;\n  ")}));r.default.div.withConfig({displayName:"indexstyle__HeaderViewOptionsStyle",componentId:"sc-1sv9513-4"})(["left:50%;position:absolute;transform:translateX(-50%);"])},85385:function(e,n,t){"use strict";t.d(n,{Qq:function(){return h},Z7:function(){return v},cH:function(){return i},du:function(){return f},fp:function(){return d},j5:function(){return p},uM:function(){return s}});var r,i,o=t(82394),c=t(57653),u=t(82359),l=t(72473),a=t(86735),s="sideview",d=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILES="files",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.INTERACTIONS="interactions",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(i||(i={}));i.BLOCK_SETTINGS,i.CALLBACKS,i.CHARTS,i.DATA,i.EXTENSIONS,i.TREE;var f=[i.DATA];function p(e){var n,t,r,o=[{key:i.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,t=void 0===n?[]:n;return(null===t||void 0===t?void 0:t.length)>=1?"Charts (".concat(t.length,")"):"Charts"},key:i.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:i.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:i.SECRETS}];return c.qL.PYSPARK!==(null===e||void 0===e||null===(n=e.pipeline)||void 0===n?void 0:n.type)&&o.push.apply(o,[{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:i.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,t=void 0===n?{}:n,r=0;return Object.values(t).forEach((function(e){var n=e.blocks;r+=(null===n||void 0===n?void 0:n.length)||0})),r>=1?"Power ups (".concat(r,")"):"Power ups"},key:i.EXTENSIONS}]),o.push.apply(o,[{key:i.DATA,label:"Data"},{key:i.TERMINAL,label:"Terminal"},{key:i.BLOCK_SETTINGS,label:"Block settings"}]),null!==e&&void 0!==e&&null!==(t=e.project)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&r[u.d.INTERACTIONS]&&o.push({key:i.INTERACTIONS,label:"Interactions"}),o}function h(e){return(0,a.HK)(p(e),(function(e){return e.key}))}var v=(r={},(0,o.Z)(r,i.ADDON_BLOCKS,l.EJ),(0,o.Z)(r,i.BLOCK_SETTINGS,l.JG),(0,o.Z)(r,i.CALLBACKS,l.AQ),(0,o.Z)(r,i.CHARTS,l.GQ),(0,o.Z)(r,i.DATA,l.iA),(0,o.Z)(r,i.EXTENSIONS,l.Bf),(0,o.Z)(r,i.INTERACTIONS,l.yd),(0,o.Z)(r,i.SECRETS,l.Yo),(0,o.Z)(r,i.SETTINGS,l.Zr),(0,o.Z)(r,i.TERMINAL,l.oI),(0,o.Z)(r,i.TREE,l.mp),(0,o.Z)(r,i.VARIABLES,l.LO),r)},75083:function(e,n,t){"use strict";t.d(n,{HF:function(){return o},L6:function(){return r}});var r,i=t(72473);function o(e,n,t){var o=e.owner,c=(e.roles,[{Icon:i.Vz,id:r.WORKSPACES,isSelected:function(){return r.WORKSPACES===t},label:function(){return"Workspaces"},linkProps:{href:"/manage"}}]);return o&&c.push({Icon:i.NO,id:r.USERS,isSelected:function(){return r.USERS===t},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),c.push.apply(c,[{Icon:i.Zr,id:r.SETTINGS,isSelected:function(){return r.SETTINGS===t},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}},{Icon:i.$B,id:r.FILE_BROWSER,isSelected:function(){return r.FILE_BROWSER===t},label:function(){return"File browser"},linkProps:{href:"/manage/files"}}]),c}!function(e){e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings",e.FILE_BROWSER="file_browser"}(r||(r={}))},59533:function(e,n,t){"use strict";var r=t(82684),i=t(94629),o=t(35686),c=t(70515),u=t(75083),l=t(50178),a=t(28598);n.Z=function(e){var n=e.before,t=e.breadcrumbs,s=void 0===t?[]:t,d=e.children,f=e.errors,p=e.headerOffset,h=e.mainContainerHeader,v=e.pageName,b=e.setErrors,g=e.subheaderChildren,m=o.ZP.statuses.list().data,y=(0,r.useMemo)((function(){var e,n;return null===m||void 0===m||null===(e=m.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.project_type}),[m]),S=(0,l.PR)()||{};return(0,a.jsx)(i.Z,{before:n,beforeWidth:n?50*c.iI:0,breadcrumbs:s,errors:f,headerOffset:p,mainContainerHeader:h,navigationItems:(0,u.HF)(S,y,v),setErrors:b,subheaderChildren:g,title:"Workspaces",uuid:"workspaces/index",children:d})}},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),c=t(30160),u=t(44897),l=t(42631),a=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||u.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||u.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,a.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),b=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,u=e.contentContainerRef,l=e.dark,a=e.footer,s=e.fullHeight,f=void 0===s||s,g=e.fullWidth,m=void 0===g||g,y=e.header,S=e.headerHeight,x=e.headerIcon,O=e.headerPaddingVertical,j=e.headerTitle,E=e.maxHeight,C=e.maxWidth,k=e.minWidth,w=e.noPadding,P=e.overflowVisible,Z=e.subtitle,T=e.success;return(0,d.jsxs)(p,{borderless:n,dark:l,fullHeight:f,fullWidth:m,maxHeight:E,maxWidth:C,minWidth:k,overflowVisible:P,ref:r,success:T,children:[(y||j)&&(0,d.jsxs)(h,{headerPaddingVertical:O,height:S,children:[y&&y,j&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[x&&x,(0,d.jsx)(o.Z,{ml:x?1:0,children:(0,d.jsx)(c.ZP,{bold:!0,default:!0,children:j})})]})})]}),(0,d.jsxs)(v,{maxHeight:E,noPadding:w,overflowVisible:P,ref:u,children:[Z&&"string"===typeof Z&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(c.ZP,{default:!0,children:Z})}),Z&&"string"!==typeof Z&&Z,t]}),a&&(0,d.jsx)(b,{children:a})]})}},83087:function(e,n,t){"use strict";t.r(n);var r=t(77837),i=t(38860),o=t.n(i),c=t(82684),u=t(65557),l=t(85533),a=t(29618),s=t(90758),d=t(93808),f=t(38276),p=t(59533),h=t(35686),v=t(86735),b=t(15610),g=t(69419),m=t(97133),y=t(75083),S=t(28598);function x(){var e=(0,c.useState)(null),n=e[0],t=e[1],r=(0,g.iV)(),i=r.file_path,o=(0,c.useMemo)((function(){var e=r["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[r]),d=(0,c.useCallback)((function(e){var n=encodeURIComponent(e),t=(0,g.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,b.u)({file_path:n,"file_paths[]":t})}),[]),x=h.ZP.files.list(),O=x.data,j=x.mutate,E=(0,c.useMemo)((function(){return(null===O||void 0===O?void 0:O.files)||[]}),[O]),C=(0,c.useRef)(null),k=(0,c.useState)(null),w=k[0],P=k[1],Z=(0,c.useState)([]),T=Z[0],I=Z[1],_=(0,c.useState)({}),R=_[0],A=_[1],N=(0,c.useMemo)((function(){return(0,S.jsx)(f.Z,{ml:1,mt:1,children:(0,S.jsx)(l.Z,{fetchFiles:j,files:E,openFile:d,ref:C,showError:t})})}),[j,E,d,t]);return(0,c.useEffect)((function(){P(i)}),[i]),(0,c.useEffect)((function(){(0,v.fS)(o,T)||I(o)}),[o,T]),(0,S.jsx)(p.Z,{before:N,breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"File browser"}}],errors:n,mainContainerHeader:(0,S.jsx)(m.rK,{secondary:!0,children:(0,S.jsx)(s.Z,{filePaths:T,filesTouched:R,selectedFilePath:w})}),pageName:y.L6.FILE_BROWSER,children:null===o||void 0===o?void 0:o.map((function(e){return(0,S.jsx)("div",{style:{display:w===e?null:"none"},children:(0,S.jsx)(u.Z,{uuid:"manage/FileEditor/".concat(decodeURIComponent(e)),children:(0,S.jsx)(a.Z,{active:w===e,filePath:e,selectedFilePath:w,setErrors:t,setFilesTouched:A})})},e)}))})}x.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,d.Z)(x)},80329:function(e,n,t){"use strict";t.d(n,{j:function(){return r}});var r=(0,t(44152).r)({apiReloads:{}}).useGlobalState},90205:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/files",function(){return t(83087)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,6639,7011,874,1557,8264,7858,5499,5283,5810,2646,5533,9774,2888,179],(function(){return n=90205,e(e.s=n);var n}));var n=e.O();_N_E=n}]);