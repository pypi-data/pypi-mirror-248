(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{52749:function(e,n,i){"use strict";var t=i(82394),o=i(82684),r=i(71180),u=i(55485),l=i(93369),c=i(7267),d=i(38276),s=i(30160),a=i(35576),p=i(17488),f=i(72473),v=i(4015),h=i(70515),m=i(81728),b=i(28598);function g(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?g(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}n.Z=function(e){var n,i,t,g,j=e.createPipeline,Z=e.isLoading,y=e.onClose,w=(0,o.useRef)(null),P=(0,o.useState)(!1),I=P[0],C=P[1],_=(0,o.useState)({name:(0,m.Y6)()}),k=_[0],O=_[1];return(0,o.useEffect)((function(){var e;null===w||void 0===w||null===(e=w.current)||void 0===e||e.focus()}),[]),(0,b.jsxs)(v.Nk,{children:[(0,b.jsx)(v.I5,{children:(0,b.jsx)(u.ZP,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(f.xq,{size:5*h.iI,warning:!0})})}),(0,b.jsx)(v.gI,{children:(0,b.jsxs)(d.Z,{py:1,children:[(0,b.jsx)(d.Z,{mb:1,children:(0,b.jsx)(s.ZP,{default:!0,children:"New pipeline"})}),(0,b.jsx)(s.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,b.jsxs)(v.gI,{children:[(0,b.jsx)(s.ZP,{default:!0,children:"Name"}),(0,b.jsx)(p.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return O((function(n){return x(x({},n),{},{name:e.target.value})}))},paddingVertical:h.iI,placeholder:"Enter pipeline name...",value:(null===k||void 0===k?void 0:k.name)||""})]}),(0,b.jsx)(v.gI,{children:(0,b.jsxs)(u.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,b.jsx)(d.Z,{mb:2,pt:1,children:(0,b.jsx)(s.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,b.jsxs)(d.Z,{pb:1,pr:h.cd,children:[(0,b.jsx)(a.Z,{fullWidth:!0,onChange:function(e){return O((function(n){return x(x({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:c.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:w,rows:8,value:(null===k||void 0===k||null===(n=k.llm)||void 0===n||null===(i=n.request)||void 0===i?void 0:i.pipeline_description)||""}),(Z||I)&&(0,b.jsx)(d.Z,{mt:1,children:(0,b.jsx)(s.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,b.jsx)(v.$b,{children:(0,b.jsxs)(u.ZP,{fullWidth:!0,children:[(0,b.jsx)(l.ZP,{bold:!0,centerText:!0,disabled:!(null!==k&&void 0!==k&&k.name)||!(null!==k&&void 0!==k&&null!==(t=k.llm)&&void 0!==t&&null!==(g=t.request)&&void 0!==g&&g.pipeline_description),loading:Z||I,onClick:function(){C(!0),j({pipeline:k}).then((function(){return C(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),y&&(0,b.jsx)(d.Z,{ml:1,children:(0,b.jsx)(r.ZP,{onClick:y,tabIndex:0,children:"Cancel"})})]})})]})}},60523:function(e,n,i){"use strict";var t=i(21831),o=i(82394),r=i(82684),u=i(38626),l=i(34376),c=i(54750),d=i(71180),s=i(90299),a=i(44898),p=i(55485),f=i(88328),v=i(38276),h=i(4190),m=i(48381),b=i(5755),g=i(30160),x=i(35686),j=i(72473),Z=i(84649),y=i(32929),w=i(15610),P=i(19183),I=i(28598);function C(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function _(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?C(Object(i),!0).forEach((function(n){(0,o.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}n.Z=function(e){var n,i=e.contained,o=e.defaultLinkUUID,C=e.defaultTab,k=e.objectType,O=e.onClickCustomTemplate,T=e.pipelineUUID,A=e.showAddingNewTemplates,E=e.showBreadcrumbs,S=e.tabs,M=(0,l.useRouter)(),D=(0,r.useContext)(u.ThemeContext),R=(0,P.i)(),N=R.height,U=R.width,L=(0,r.useMemo)((function(){return S||y.dP}),[S]),B=(0,r.useState)(A||!1),G=B[0],H=B[1],Y=(0,r.useState)(o?y.qy.find((function(e){return e.uuid===o})):y.qy[0]),$=Y[0],q=Y[1],W=(0,r.useState)(C?L.find((function(e){return e.uuid===(null===C||void 0===C?void 0:C.uuid)})):L[0]),z=W[0],F=W[1],V=(0,r.useState)(null),Q=V[0],K=V[1],X=x.ZP.custom_templates.list({object_type:a.Z},{},{pauseFetch:y.n9.uuid!==(null===z||void 0===z?void 0:z.uuid)}),J=X.data,ee=X.mutate,ne=(0,r.useMemo)((function(){var e=(null===J||void 0===J?void 0:J.custom_templates)||[];return null!==$&&void 0!==$&&$.filterTemplates?null===$||void 0===$?void 0:$.filterTemplates(e):e}),[J,$]),ie=x.ZP.custom_templates.list({object_type:a.R},{},{pauseFetch:y.A2.uuid!==(null===z||void 0===z?void 0:z.uuid)}),te=ie.data,oe=ie.mutate,re=(0,r.useMemo)((function(){var e=(null===te||void 0===te?void 0:te.custom_templates)||[];return null!==$&&void 0!==$&&$.filterTemplates?null===$||void 0===$?void 0:$.filterTemplates(e):e}),[te,$]),ue=(0,r.useMemo)((function(){return y.qy.map((function(e){var n=e.Icon,i=e.label,t=e.selectedBackgroundColor,o=e.selectedIconProps,r=e.uuid,u=(null===$||void 0===$?void 0:$.uuid)===r,l=_({size:Z.ZG},u&&o?o:{});return(0,I.jsx)(Z.wj,{onClick:function(){return q(e)},selected:u,children:(0,I.jsxs)(p.ZP,{alignItems:"center",children:[(0,I.jsx)(Z.ze,{backgroundColor:u&&t?t(D):null,children:n?(0,I.jsx)(n,_({},l)):(0,I.jsx)(j.pd,_({},l))}),(0,I.jsx)(g.ZP,{bold:!0,large:!0,children:i?i():r})]})},r)}))}),[$,D]),le=(0,r.useMemo)((function(){return y.hS.map((function(e){var n=e.Icon,i=e.label,t=e.selectedBackgroundColor,o=e.selectedIconProps,r=e.uuid,u=(null===$||void 0===$?void 0:$.uuid)===r,l=_({size:Z.ZG},u&&o?o:{});return(0,I.jsx)(Z.wj,{onClick:function(){return q(e)},selected:u,children:(0,I.jsxs)(p.ZP,{alignItems:"center",children:[(0,I.jsx)(Z.ze,{backgroundColor:u&&t?t(D):null,children:n?(0,I.jsx)(n,_({},l)):(0,I.jsx)(j.pd,_({},l))}),(0,I.jsx)(g.ZP,{bold:!0,large:!0,children:i?i():r})]})},r)}))}),[$,D]),ce=(0,r.useMemo)((function(){return null===ne||void 0===ne?void 0:ne.map((function(e){var n=e.description,i=e.name,o=e.tags,r=e.template_uuid,u=e.user,l=[];return null!==o&&void 0!==o&&o.length?l.push.apply(l,(0,t.Z)(o)):null!==u&&void 0!==u&&u.username&&l.push(null===u||void 0===u?void 0:u.username),(0,I.jsxs)(Z.UE,{onClick:function(){O?O(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(r)))},children:[(0,I.jsx)(Z.Tj,{children:(0,I.jsx)(g.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:i||r})}),(0,I.jsx)(Z.SL,{children:(0,I.jsx)(g.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,I.jsx)(Z.EN,{children:(null===l||void 0===l?void 0:l.length)>=1&&(0,I.jsx)(m.Z,{tags:null===l||void 0===l?void 0:l.map((function(e){return{uuid:e}}))})})]},r)}))}),[ne,O,M]),de=(0,r.useMemo)((function(){return null===re||void 0===re?void 0:re.map((function(e){var n=e.description,i=e.name,o=e.tags,r=e.template_uuid,u=e.user,l=[];return null!==o&&void 0!==o&&o.length?l.push.apply(l,(0,t.Z)(o)):null!==u&&void 0!==u&&u.username&&l.push(null===u||void 0===u?void 0:u.username),(0,I.jsxs)(Z.UE,{onClick:function(){O?O(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(r),"?object_type=").concat(a.R))},children:[(0,I.jsx)(Z.Tj,{children:(0,I.jsx)(g.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:i||r})}),(0,I.jsx)(Z.SL,{children:(0,I.jsx)(g.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,I.jsx)(Z.EN,{children:(null===l||void 0===l?void 0:l.length)>=1&&(0,I.jsx)(m.Z,{tags:null===l||void 0===l?void 0:l.map((function(e){return{uuid:e}}))})})]},r)}))}),[re,O,M]),se=(0,r.useMemo)((function(){if(!E)return null;var e=[];return G?e.push.apply(e,[{label:function(){return"Templates"},onClick:function(){H(!1)}},{bold:!0,label:function(){return"New custom template"}}]):e.push({label:function(){return"Templates"}}),(0,I.jsx)(Z.FX,{children:(0,I.jsx)(c.Z,{breadcrumbs:e})})}),[G,E]),ae=(0,r.useMemo)((function(){return E?36:0}),[E]),pe=(0,r.useMemo)((function(){return N-ae}),[N,ae]);if(G)return n=a.R===k&&T?(0,I.jsx)(f.Z,{onMutateSuccess:oe,pipelineUUID:T,templateAttributes:$&&(null===$||void 0===$?void 0:$.uuid)!==(null===y.qy||void 0===y.qy?void 0:y.qy[0].uuid)?{pipeline_type:null===$||void 0===$?void 0:$.uuid}:null,templateUUID:null===Q||void 0===Q?void 0:Q.template_uuid}):(0,I.jsx)(b.Z,{contained:i,heightOffset:ae,onCreateCustomTemplate:i?function(e){K(e)}:null,onMutateSuccess:ee,templateAttributes:$&&(null===$||void 0===$?void 0:$.uuid)!==(null===y.qy||void 0===y.qy?void 0:y.qy[0].uuid)?{block_type:null===$||void 0===$?void 0:$.uuid}:null,templateUUID:null===Q||void 0===Q?void 0:Q.template_uuid}),i?(0,I.jsxs)(I.Fragment,{children:[E&&se,(0,I.jsx)(Z.Rd,{height:pe,width:U,children:n})]}):n;var fe=(0,I.jsxs)(Z.Nk,{children:[(0,I.jsxs)(Z.bC,{height:i?pe:null,children:[(0,I.jsx)(Z.Yf,{children:(0,I.jsx)(s.Z,{noPadding:!0,onClickTab:function(e){i?F(e):(0,w.u)({object_type:y.A2.uuid===e.uuid?a.R:a.Z})},selectedTabUUID:null===z||void 0===z?void 0:z.uuid,tabs:L})}),(0,I.jsxs)(Z.wl,{contained:i,heightOffset:ae,children:[y.n9.uuid===(null===z||void 0===z?void 0:z.uuid)&&ue,y.A2.uuid===(null===z||void 0===z?void 0:z.uuid)&&le]})]}),(0,I.jsxs)(Z.w5,{children:[y.n9.uuid===(null===z||void 0===z?void 0:z.uuid)&&(0,I.jsx)(Z.HS,{children:(0,I.jsx)(d.ZP,{beforeIcon:(0,I.jsx)(j.mm,{size:Z.ZG}),onClick:function(){H(!0)},primary:!0,children:"New block template"})}),y.n9.uuid===(null===z||void 0===z?void 0:z.uuid)&&(0,I.jsxs)(I.Fragment,{children:[!J&&(0,I.jsx)(v.Z,{p:2,children:(0,I.jsx)(h.Z,{inverted:!0})}),J&&!(null!==ce&&void 0!==ce&&ce.length)&&(0,I.jsxs)(v.Z,{p:2,children:[(0,I.jsx)(g.ZP,{children:"There are currently no templates matching your search."}),(0,I.jsx)("br",{}),(0,I.jsx)(g.ZP,{children:"Add a new template by clicking the button above."})]}),(null===ce||void 0===ce?void 0:ce.length)>=1&&(0,I.jsx)(Z.n8,{children:ce})]}),y.A2.uuid===(null===z||void 0===z?void 0:z.uuid)&&(0,I.jsxs)(I.Fragment,{children:[!te&&(0,I.jsx)(v.Z,{p:2,children:(0,I.jsx)(h.Z,{inverted:!0})}),te&&!(null!==de&&void 0!==de&&de.length)&&(0,I.jsxs)(v.Z,{p:2,children:[(0,I.jsx)(g.ZP,{children:"There are currently no templates matching your search."}),(0,I.jsx)("br",{}),(0,I.jsx)(g.ZP,{children:'Add a new template by right-clicking a pipeline row from the Pipelines page and selecting "Create template".'})]}),(null===de||void 0===de?void 0:de.length)>=1&&(0,I.jsx)(Z.n8,{children:de})]})]})]});return i?(0,I.jsxs)(I.Fragment,{children:[E&&se,(0,I.jsx)(Z.Rd,{height:pe,width:U,children:fe})]}):fe}},94629:function(e,n,i){"use strict";i.d(n,{Z:function(){return C}});var t=i(82394),o=i(21831),r=i(82684),u=i(50724),l=i(82555),c=i(97618),d=i(70613),s=i(31557),a=i(68899),p=i(28598);function f(e,n){var i=e.children,t=e.noPadding;return(0,p.jsx)(a.HS,{noPadding:t,ref:n,children:i})}var v=r.forwardRef(f),h=i(62547),m=i(82571),b=i(98464),g=i(77417),x=i(46684),j=i(70515),Z=i(53808),y=i(19183);function w(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function P(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?w(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function I(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var i=e.after,t=e.afterHeader,f=e.afterHidden,w=e.afterWidth,I=e.afterWidthOverride,C=e.appendBreadcrumbs,_=e.before,k=e.beforeWidth,O=e.breadcrumbs,T=e.children,A=e.contained,E=e.errors,S=e.headerMenuItems,M=e.headerOffset,D=e.hideAfterCompletely,R=e.mainContainerHeader,N=e.navigationItems,U=e.setAfterHidden,L=e.setErrors,B=e.subheaderChildren,G=e.subheaderNoPadding,H=e.title,Y=e.uuid,$=(0,y.i)().width,q="dashboard_after_width_".concat(Y),W="dashboard_before_width_".concat(Y),z=(0,r.useRef)(null),F=(0,r.useState)(I?w:(0,Z.U2)(q,w)),V=F[0],Q=F[1],K=(0,r.useState)(!1),X=K[0],J=K[1],ee=(0,r.useState)(_?Math.max((0,Z.U2)(W,k),13*j.iI):null),ne=ee[0],ie=ee[1],te=(0,r.useState)(!1),oe=te[0],re=te[1],ue=(0,r.useState)(null)[1],le=(0,g.Z)().project,ce=[];O&&ce.push.apply(ce,(0,o.Z)(O)),null!==O&&void 0!==O&&O.length&&!C||!le||null!==O&&void 0!==O&&O.length||ce.unshift({bold:!C,label:function(){return H}}),(0,r.useEffect)((function(){null===z||void 0===z||!z.current||X||oe||null===ue||void 0===ue||ue(z.current.getBoundingClientRect().width)}),[X,V,oe,ne,z,ue,$]),(0,r.useEffect)((function(){X||(0,Z.t8)(q,V)}),[f,X,V,q]),(0,r.useEffect)((function(){oe||(0,Z.t8)(W,ne)}),[oe,ne,W]);var de=(0,b.Z)(w);return(0,r.useEffect)((function(){I&&de!==w&&Q(w)}),[I,w,de]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Z,{title:H}),(0,p.jsx)(s.Z,{breadcrumbs:ce,menuItems:S}),(0,p.jsxs)(a.Nk,{ref:n,children:[0!==(null===N||void 0===N?void 0:N.length)&&(0,p.jsx)(a.lm,{showMore:!0,children:(0,p.jsx)(m.Z,{navigationItems:N,showMore:!0})}),(0,p.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(h.Z,{after:i,afterHeader:t,afterHeightOffset:x.Mz,afterHidden:f,afterMousedownActive:X,afterWidth:V,before:_,beforeHeightOffset:x.Mz,beforeMousedownActive:oe,beforeWidth:a.k1+(_?ne:0),contained:A,headerOffset:M,hideAfterCompletely:!U||D,leftOffset:_?a.k1:null,mainContainerHeader:R,mainContainerRef:z,setAfterHidden:U,setAfterMousedownActive:J,setAfterWidth:Q,setBeforeMousedownActive:re,setBeforeWidth:ie,children:[B&&(0,p.jsx)(v,{noPadding:G,children:B}),T]})})]}),E&&(0,p.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===L||void 0===L?void 0:L(null)},children:(0,p.jsx)(l.Z,P(P({},E),{},{onClose:function(){return null===L||void 0===L?void 0:L(null)}}))})]})}var C=r.forwardRef(I)},65458:function(e,n,i){"use strict";i.d(n,{d:function(){return s}});var t=i(13507),o=i(72473),r=i(57653),u=i(70515),l=i(81728),c=i(28598),d=1.5*u.iI,s=function(e,n){var i=[{beforeIcon:(0,c.jsx)(o.X5,{}),label:function(){return"Standard (batch)"},onClick:function(){return e({pipeline:{name:(0,l.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,c.jsx)(o.ZG,{}),label:function(){return"Data integration"},onClick:function(){return e({pipeline:{name:(0,l.Y6)(),type:r.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,c.jsx)(t.Z,{size:d}),label:function(){return"Streaming"},onClick:function(){return e({pipeline:{name:(0,l.Y6)(),type:r.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!==n&&void 0!==n&&n.showBrowseTemplates&&i.push({beforeIcon:(0,c.jsx)(o.zQ,{}),label:function(){return"From a template"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!==n&&void 0!==n&&n.showAIModal&&i.push({beforeIcon:(0,c.jsx)(o.xq,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),i}},4015:function(e,n,i){"use strict";i.d(n,{$b:function(){return s},I5:function(){return c},Nk:function(){return l},gI:function(){return d}});var t=i(38626),o=i(44897),r=i(42631),u=i(70515),l=t.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-h093u4-0"})([""," ",""],(function(e){return!e.width&&"\n    width: ".concat(40*u.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")})),c=t.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-h093u4-1"})(["padding:","px;",""],2.5*u.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-top-left-radius: ").concat(r.n_,"px;\n    border-top-right-radius: ").concat(r.n_,"px;\n    border-top: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n  ")})),d=t.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-h093u4-2"})(["align-items:center;justify-content:space-between;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).dashboard,";\n    border-left: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-top: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    display: ").concat((null===e||void 0===e?void 0:e.display)||"flex",";\n    padding-bottom: ").concat(1*u.iI+((null===e||void 0===e?void 0:e.paddingVerticalAddition)||0),"px;\n    padding-left: ").concat(u.cd*u.iI,"px;\n    padding-top: ").concat(1*u.iI+((null===e||void 0===e?void 0:e.paddingVerticalAddition)||0),"px;\n  ")})),s=t.default.div.withConfig({displayName:"indexstyle__FooterStyle",componentId:"sc-h093u4-3"})(["padding:","px ","px;",""],2.5*u.iI,2*u.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).panel,";\n    border-bottom-left-radius: ").concat(r.n_,"px;\n    border-bottom-right-radius: ").concat(r.n_,"px;\n    border-bottom: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||o.Z.interactive).defaultBorder,";\n  ")}))},48381:function(e,n,i){"use strict";var t=i(82684),o=i(31882),r=i(55485),u=i(30160),l=i(86735),c=i(28598);n.Z=function(e){var n=e.onClickTag,i=e.tags,d=void 0===i?[]:i,s=(0,t.useMemo)((function(){return(null===d||void 0===d?void 0:d.length)||0}),[d]),a=(0,t.useMemo)((function(){return(0,l.YC)(d||[],"uuid")}),[d]);return(0,c.jsx)(r.ZP,{alignItems:"center",flexWrap:"wrap",children:null===a||void 0===a?void 0:a.reduce((function(e,i){return e.push((0,c.jsx)("div",{style:{marginBottom:2,marginRight:s>=2?4:0,marginTop:2},children:(0,c.jsx)(o.Z,{onClick:n?function(){return n(i)}:null,small:!0,children:(0,c.jsx)(u.ZP,{children:i.uuid})})},"tag-".concat(i.uuid))),e}),[])})}},8666:function(e,n,i){"use strict";var t;i.d(n,{b:function(){return t}}),function(e){e.BLOCK="block",e.PIPELINE="pipeline"}(t||(t={}))},30229:function(e,n,i){"use strict";i.d(n,{PN:function(){return l},TR:function(){return v},U5:function(){return d},Wb:function(){return f},Xm:function(){return r},Z4:function(){return s},fq:function(){return c},gm:function(){return a},kJ:function(){return p}});var t,o,r,u=i(82394),l="__bookmark_values__";!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(r||(r={}));var c,d,s=(t={},(0,u.Z)(t,r.API,(function(){return"API"})),(0,u.Z)(t,r.EVENT,(function(){return"event"})),(0,u.Z)(t,r.TIME,(function(){return"schedule"})),t);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(d||(d={}));var a,p,f=[d.ONCE,d.HOURLY,d.DAILY,d.WEEKLY,d.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(a||(a={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(p||(p={}));var v=(o={},(0,u.Z)(o,p.CREATED_AT,"Created at"),(0,u.Z)(o,p.NAME,"Name"),(0,u.Z)(o,p.PIPELINE,"Pipeline"),(0,u.Z)(o,p.STATUS,"Active"),(0,u.Z)(o,p.TYPE,"Type"),o)},31882:function(e,n,i){"use strict";var t=i(38626),o=i(71180),r=i(55485),u=i(30160),l=i(44897),c=i(72473),d=i(70515),s=i(61896),a=i(28598),p=t.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||l.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||l.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((d.iI+s.Al)/2,"px;\n    height: ").concat(1.5*d.iI+s.Al,"px;\n    padding: ").concat(d.iI/1.5,"px ").concat(1.25*d.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((d.iI/2+s.Al)/2,"px;\n    height: ").concat(s.Al+d.iI/2+2,"px;\n    padding: ").concat(d.iI/4,"px ").concat(d.iI,"px;\n  ")}),(function(e){return e.xsmall&&"\n    border-radius: ".concat((d.iI/1+s.Al)/1,"px;\n    height: ").concat(20,"px;\n    padding: 4px 6px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||l.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,i=e.children,t=e.disabled,l=e.label,s=e.monospace,f=e.onClick,v=e.primary,h=e.small,m=e.xsmall;return(0,a.jsx)(p,{border:n,primary:v,small:h,xsmall:m,children:(0,a.jsx)(o.ZP,{basic:!0,disabled:t,noBackground:!0,noPadding:!0,onClick:f,transparent:!0,children:(0,a.jsxs)(r.ZP,{alignItems:"center",children:[i,l&&(0,a.jsx)(u.ZP,{monospace:s,small:h,xsmall:m,children:l}),!t&&f&&(0,a.jsx)("div",{style:{marginLeft:2}}),!t&&f&&(0,a.jsx)(c.x8,{default:v,muted:!v,size:h?d.iI:1.25*d.iI})]})})})}},55620:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return Me}});var t=i(77837),o=i(75582),r=i(21831),u=i(82394),l=i(38860),c=i.n(l),d=i(12691),s=i.n(d),a=i(82684),p=i(69864),f=i(34376),v=i(52749),h=i(60523),m=i(71180),b=i(90299),g=i(31882),x=i(94629),j=i(97618),Z=i(55485),y=i(85854),w=i(93369),P=i(65956),I=i(38276),C=i(30160),_=i(35576),k=i(17488),O=i(28598);var T=function(e){var n=e.description,i=e.isLoading,t=e.maxWidth,o=e.minWidth,r=e.noEmptyValue,u=e.onClose,l=e.onSave,c=e.textArea,d=e.title,s=e.value,p=(0,a.useRef)(null),f=(0,a.useState)(s),v=f[0],h=f[1],b=c?_.Z:k.Z;return(0,a.useEffect)((function(){var e;null===p||void 0===p||null===(e=p.current)||void 0===e||e.focus()}),[]),(0,O.jsxs)(P.Z,{maxWidth:t,minWidth:o,children:[(0,O.jsx)(C.ZP,{bold:!0,children:d}),(0,O.jsx)(I.Z,{mt:1,children:(0,O.jsx)(b,{monospace:!0,onChange:function(e){return h(e.target.value)},ref:p,rows:c?7:null,value:v})}),n&&(0,O.jsx)(I.Z,{mt:2,children:(0,O.jsx)(C.ZP,{muted:!0,small:!0,children:n})}),(0,O.jsx)(I.Z,{mt:3,children:(0,O.jsxs)(Z.ZP,{children:[(0,O.jsx)(w.ZP,{bold:!0,inline:!0,loading:i,onClick:function(){v===s||r&&!v?u():l(v)},outline:!0,primary:!0,uuid:"Inputs/InputModal/SaveInput",children:"Save"}),(0,O.jsx)(I.Z,{ml:1}),(0,O.jsx)(m.ZP,{onClick:u,children:"Cancel"})]})})]})},A=i(48670),E=i(55072),S=i(57653),M=i(55729),D=i(93808),R=i(82359),N=i(44085),U=i(4190),L=i(75499),B=i(48381),G=i(69650),H=i(85544),Y=i(35686),$=i(44897),q=i(77417),W=i(42631),z=i(44425),F=i(72473),V=i(23780),Q=i(8666),K=i(46684),X=i(53808),J="pipeline_list_filters",ee="pipeline_list_group_bys",ne="pipeline_list_sort_column_index",ie="pipeline_list_sort_direction",te="pipeline_list_selected_tab_uuid";function oe(e){return(0,X.t8)(J,e),e}function re(e){return(0,X.t8)(ee,e),e}var ue=i(11498),le=i(32929),ce=i(44898),de=i(70515),se=i(30229),ae=i(81655),pe=i(31608),fe=i(81728),ve=i(3917),he=i(72619),me=i(69419),be=i(65458),ge=i(15610),xe=i(86735),je=i(42122),Ze=i(95924),ye=i(70320),we=i(89538),Pe=i(44952);function Ie(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Ce(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ie(Object(i),!0).forEach((function(n){(0,u.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ie(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var _e={Icon:F.Pf,label:function(){return"Recently viewed"},uuid:"recent"},ke={Icon:F.vd,label:function(e){return null!==e&&void 0!==e&&e.count?"All pipelines \u203a ".concat((null===e||void 0===e?void 0:e.count)||0):"All pipelines"},uuid:"all"},Oe=[ke,_e],Te="tab",Ae=[S.$1.SEARCH],Ee={borderRadius:"".concat(W.BG,"px"),iconOnly:!0,noBackground:!0,noBorder:!0,outline:!0,padding:"4px"};function Se(){var e,n,i,t,l=(0,f.useRouter)(),c=(0,a.useRef)(null),d=(0,a.useRef)(null),w=(0,a.useRef)(null),_=(0,a.useRef)(null),k=(0,q.Z)(),D=k.fetchProjects,W=k.project,Ie=(0,a.useState)(null),Se=Ie[0],Me=Ie[1],De=(0,a.useState)(null),Re=De[0],Ne=De[1],Ue=(0,a.useState)(null),Le=Ue[0],Be=Ue[1],Ge=(0,a.useState)(null),He=Ge[0],Ye=Ge[1],$e=(0,a.useState)(null),qe=$e[0],We=$e[1],ze=(0,a.useCallback)((function(e){We(e),clearTimeout(_.current),_.current=setTimeout((function(){return(0,ge.u)((0,u.Z)({},S.$1.SEARCH,e))}),500)}),[We]),Fe=(0,a.useState)({}),Ve=Fe[0],Qe=Fe[1],Ke=(0,a.useState)(null),Xe=Ke[0],Je=Ke[1],en=(0,me.iV)(),nn=Ce((0,u.Z)({},ue.$D.LIMIT,E.Q),(0,me.DQ)(en,[S.$1.SEARCH,S.$1.STATUS,S.$1.TAG,S.$1.TYPE].concat((0,r.Z)(ue.RG)))),tn=(0,a.useMemo)((function(){return null===en||void 0===en?void 0:en.tab}),[en]);(0,a.useEffect)((function(){var e;Me(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.getBoundingClientRect().height)}),[en,c]);var on=(0,a.useMemo)((function(){var e;return(0,ye.hY)(null===W||void 0===W||null===(e=W.features)||void 0===e?void 0:e[R.d.LOCAL_TIMEZONE])}),[null===W||void 0===W?void 0:W.features]),rn=(0,a.useMemo)((function(){var e;return null===W||void 0===W||null===(e=W.features)||void 0===e?void 0:e[R.d.OPERATION_HISTORY]}),[W]),un=(0,a.useMemo)((function(){return on?ae.O$:{}}),[on]),ln=Y.ZP.pipelines.list(Ce(Ce({},nn),{},{include_schedules:1}),{revalidateOnFocus:!1}),cn=ln.data,dn=ln.mutate,sn=(0,a.useMemo)((function(){return(null===en||void 0===en?void 0:en[S.$1.HISTORY_DAYS])||7}),[en]),an=Y.ZP.pipelines.list(Ce(Ce({},nn),{},(e={},(0,u.Z)(e,S.$1.HISTORY_DAYS,(0,fe.HW)(sn)?Number(sn):sn),(0,u.Z)(e,"include_schedules",1),e)),{},{pauseFetch:!rn||!tn||_e.uuid!==tn}),pn=an.data,fn=an.mutate,vn=(0,a.useCallback)((function(e){return e}),[qe]),hn=(0,a.useMemo)((function(){var e=vn((null===cn||void 0===cn?void 0:cn.pipelines)||[]);if(null!==en&&void 0!==en&&en[S.$1.TAG]){var n=en[S.$1.TAG];e=e.filter((function(e){var i=e.tags;return i.some((function(e){return n.includes(e)}))||0===i.length&&n.includes(S.$1.NO_TAGS)}))}return e}),[cn,vn,en]),mn=(0,a.useMemo)((function(){return vn((null===pn||void 0===pn?void 0:pn.pipelines)||[])}),[pn,vn]),bn=(0,a.useMemo)((function(){return(0,xe.HK)(hn,(function(e){return e.uuid}))}),[hn]),gn=(0,a.useMemo)((function(){return(0,xe.HK)(mn,(function(e){return e.uuid}))}),[mn]),xn=(0,a.useCallback)((function(e){var n,i,t,o;return null===e||void 0===e||null===(n=e[2])||void 0===n||null===(i=n.props)||void 0===i||null===(t=i.children)||void 0===t||null===(o=t.props)||void 0===o?void 0:o.children}),[]),jn=(0,a.useMemo)((function(){return(null===Le||void 0===Le?void 0:Le.length)>0?null===Le||void 0===Le?void 0:Le.map((function(e){var n=xn(e);return null===bn||void 0===bn?void 0:bn[n]})):hn}),[xn,Le,hn,bn]),Zn=(0,a.useMemo)((function(){return(null===He||void 0===He?void 0:He.length)>0?null===He||void 0===He?void 0:He.map((function(e){var n=xn(e);return null===gn||void 0===gn?void 0:gn[n]})):mn}),[xn,He,mn,gn]),yn=(0,a.useMemo)((function(){return[1,2,3,4,5,6,8,9]}),[]),wn=null===en||void 0===en?void 0:en[ae.lG.SORT_COL_IDX],Pn=null===en||void 0===en?void 0:en[ae.lG.SORT_DIRECTION],In=(0,a.useMemo)((function(){return wn?{columnIndex:+wn,sortDirection:Pn||ae.sh.ASC}:void 0}),[wn,Pn]),Cn=null===en||void 0===en?void 0:en[S.$1.GROUP],_n=(0,p.Db)((function(e){var n=e.pipelineUUID,i=e.filesOnly,t=void 0!==i&&i;return Y.ZP.downloads.pipelines.useCreate(n)({download:{ignore_folder_structure:t}})}),{onSuccess:function(e){return(0,he.wD)(e,{callback:function(){var n=e.data.download.token;(0,Pe.K)(n)},onErrorCallback:function(e,n){return Je({errors:n,response:e})}})}}),kn=(0,o.Z)(_n,1)[0];(0,a.useEffect)((function(){null!==nn&&void 0!==nn&&nn[S.$1.SEARCH]&&null===qe&&We(null===nn||void 0===nn?void 0:nn[S.$1.SEARCH])}),[nn,qe,We]),(0,a.useEffect)((function(){var e,n={};if(wn&&yn.includes(+wn))(0,X.t8)(ne,wn),Pn&&(0,X.t8)(ie,Pn);else{var i=(0,X.U2)(ne,null),t=(0,X.U2)(ie,ae.sh.ASC);null!==i&&(n[ae.lG.SORT_COL_IDX]=i,n[ae.lG.SORT_DIRECTION]=t)}rn&&(tn?(0,X.t8)(te,tn):n.tab=(0,X.U2)(te,null===Oe||void 0===Oe||null===(e=Oe[0])||void 0===e?void 0:e.uuid));if(Cn)re((0,u.Z)({},Cn,!0));else{var r,l=(0,X.U2)(ee,{});l&&Object.entries(l).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];!r&&t&&(r=i)})),r&&(n[S.$1.GROUP]=r)}if((0,je.Qr)(nn)){var c={},d=(0,X.U2)(J,{});d&&Object.entries(d).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];"undefined"!==typeof t&&null!==t&&(ue.RG.includes(i)||Ae.includes(i)?c[i]=t:(c[i]=[],Object.entries(t).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1]&&c[i].push(t)}))))})),(0,je.Qr)(c)||(n={},Object.entries(Ce(Ce({},n),c)||{}).forEach((function(e){var i=(0,o.Z)(e,2),t=i[0],r=i[1];"undefined"!==typeof r&&null!==r&&(n[t]=r)})))}else{var s={};Object.entries(nn).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];s[i]={};var r,u=t;"undefined"!==typeof t&&null!==t&&(ue.RG.includes(i)||Ae.includes(i)?s[i]=u:(Array.isArray(u)||(u=[u]),u&&Array.isArray(u)&&(null===(r=u)||void 0===r||r.forEach((function(e){s[i][e]=!0})))))})),oe((0,je.hB)(s))}(0,je.Qr)(n)||(0,ge.u)((0,je.hB)(n),{pushHistory:!1})}),[Cn,rn,nn,tn,yn,wn,Pn]),(0,a.useEffect)((function(){(0,he.bB)(cn,Je)}),[cn]);var On=function(e){return(0,p.Db)(Y.ZP.pipelines.useCreate(),{onSuccess:function(n){return(0,he.wD)(n,{callback:function(n){var i=n.pipeline.uuid;null===e||void 0===e||e(i)},onErrorCallback:function(e,n){return Je({errors:n,response:e})}})}})},Tn=On((function(e){return l.push("/pipelines/[pipeline]/edit","/pipelines/".concat(e,"/edit"))})),An=(0,o.Z)(Tn,2),En=An[0],Sn=An[1].isLoading,Mn=On((function(){null===dn||void 0===dn||dn(),null===fn||void 0===fn||fn()})),Dn=(0,o.Z)(Mn,2),Rn=Dn[0],Nn=Dn[1].isLoading,Un=(0,p.Db)((function(e){return Y.ZP.pipelines.useUpdate(e.uuid)({pipeline:e})}),{onSuccess:function(e){return(0,he.wD)(e,{callback:function(e){var n=e.pipeline.uuid;Qe((function(e){return Ce(Ce({},e),{},(0,u.Z)({},n,!1))})),dn(),null===fn||void 0===fn||fn(),null===Vn||void 0===Vn||Vn(),Ne(null)},onErrorCallback:function(e,n){var i,t=null===e||void 0===e||null===(i=e.url_parameters)||void 0===i?void 0:i.pk;Qe((function(e){return Ce(Ce({},e),{},(0,u.Z)({},t,!1))})),Je({errors:n,response:e})}})}}),Ln=(0,o.Z)(Un,2),Bn=Ln[0],Gn=Ln[1].isLoading,Hn=(0,p.Db)((function(e){return Y.ZP.pipelines.useDelete(e)()}),{onSuccess:function(e){return(0,he.wD)(e,{callback:function(){null===dn||void 0===dn||dn(),null===fn||void 0===fn||fn()},onErrorCallback:function(e,n){return Je({errors:n,response:e})}})}}),Yn=(0,o.Z)(Hn,2),$n=Yn[0],qn=Yn[1].isLoading,Wn=(0,we.dd)((function(e){var n=e.pipeline,i=e.pipelineDescription,t=e.pipelineName;return(0,O.jsx)(T,{isLoading:Gn,minWidth:55*de.iI,noEmptyValue:!!t,onClose:Vn,onSave:function(e){var i=n||Re;if(i){var o=i.uuid,r={uuid:o};t?r.name=e:r.description=e,Qe((function(e){return Ce(Ce({},e),{},(0,u.Z)({},o,!0))})),Bn(r)}},textArea:!t,title:t?"Rename pipeline":"Edit description for ".concat(null===n||void 0===n?void 0:n.uuid),value:t||i})}),{},[Gn,Re],{background:!0,uuid:"rename_pipeline_and_save"}),zn=(0,o.Z)(Wn,2),Fn=zn[0],Vn=zn[1],Qn=(0,we.dd)((function(){return(0,O.jsx)(V.BC,{children:(0,O.jsx)(h.Z,{contained:!0,onClickCustomTemplate:function(e){En({pipeline:{custom_template_uuid:null===e||void 0===e?void 0:e.template_uuid,name:(0,fe.Y6)()}}).then((function(){Jn()}))},showBreadcrumbs:!0,tabs:[le.A2]})})}),{},[En],{background:!0,uuid:"browse_templates"}),Kn=(0,o.Z)(Qn,2),Xn=Kn[0],Jn=Kn[1],ei=(0,we.dd)((function(e){var n=e.cancelButtonText,i=(e.header,e.onCancel),t=e.onSaveSuccess;return(0,O.jsx)(V.BC,{children:(0,O.jsx)(M.Z,{cancelButtonText:n,contained:!0,header:(0,O.jsx)(I.Z,{mb:de.HN,children:(0,O.jsxs)(P.Z,{children:[(0,O.jsx)(C.ZP,{warning:!0,children:"You need to add an OpenAI API key to your project before you can generate pipelines using AI."}),(0,O.jsx)(I.Z,{mt:1,children:(0,O.jsxs)(C.ZP,{warning:!0,children:["Read ",(0,O.jsx)(A.Z,{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",openNewWindow:!0,children:"OpenAI\u2019s documentation"})," to get your API key."]})})]})}),onCancel:function(){null===i||void 0===i||i(),ti()},onSaveSuccess:function(e){D(),ti(),null===t||void 0===t||t(e)}})})}),{},[D],{background:!0,uuid:"configure_project"}),ni=(0,o.Z)(ei,2),ii=ni[0],ti=ni[1],oi=(0,we.dd)((function(){return(0,O.jsx)(V.BC,{children:(0,O.jsx)(v.Z,{createPipeline:En,isLoading:Sn,onClose:li})})}),{},[En,Sn],{background:!0,disableClickOutside:!0,disableCloseButton:!0,uuid:"AI_modal"}),ri=(0,o.Z)(oi,2),ui=ri[0],li=ri[1],ci=(0,a.useMemo)((function(){return(0,be.d)(En,{showAIModal:function(){null!==W&&void 0!==W&&W.openai_api_key?ui():ii({onSaveSuccess:function(){ui()}})},showBrowseTemplates:Xn})}),[En,W,ui,Xn,ii]),di=Y.ZP.tags.list().data,si=(0,a.useMemo)((function(){return(0,xe.YC)((null===di||void 0===di?void 0:di.tags)||[],(function(e){return e.uuid}))}),[di]),ai=(0,a.useMemo)((function(){return(0,O.jsx)(H.Z,{addButtonProps:{isLoading:Sn,label:"New",menuItems:ci},deleteRowProps:{confirmationMessage:"This is irreversible and will immediately delete everything associated           with the pipeline, including its blocks, triggers, runs, logs, and history.",isLoading:qn,item:"pipeline",onDelete:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===Re||void 0===Re?void 0:Re.uuid,"?"))&&$n(null===Re||void 0===Re?void 0:Re.uuid)}},extraActionButtonProps:{Icon:F.oX,confirmationDescription:"Cloning the selected pipeline will create a new pipeline with the same           configuration and code blocks. The blocks use the same block files as the original pipeline.           Pipeline triggers, runs, backfills, and logs are not copied over to the new pipeline.",confirmationMessage:"Do you want to clone the pipeline ".concat(null===Re||void 0===Re?void 0:Re.uuid,"?"),isLoading:Nn,onClick:function(){return Rn({pipeline:{clone_pipeline_uuid:null===Re||void 0===Re?void 0:Re.uuid}})},openConfirmationDialogue:!0,tooltip:"Clone pipeline"},filterOptions:{status:S.kA,tag:[S.$1.NO_TAGS].concat((0,r.Z)(si.map((function(e){return e.uuid})))),type:Object.values(S.qL)},filterValueLabelMapping:{status:S.kA.reduce((function(e,n){return Ce(Ce({},e),{},(0,u.Z)({},n,(0,fe.J3)((0,fe.kC)(n))))}),{}),tag:Ce((0,u.Z)({},S.$1.NO_TAGS,"No tags"),si.reduce((function(e,n){var i=n.uuid;return Ce(Ce({},e),{},(0,u.Z)({},i,i))}),{})),type:S.G7},groupButtonProps:{groupByLabel:Cn,menuItems:[{beforeIcon:Cn===S.r0.STATUS?(0,O.jsx)(F.Jr,{fill:$.Z.content.default,size:1.5*de.iI}):(0,O.jsx)(F.Cd,{muted:!0,size:1.5*de.iI}),label:function(){return(0,fe.kC)(S.r0.STATUS)},onClick:function(){var e=Cn===S.r0.STATUS?null:S.r0.STATUS;e||re({}),(0,ge.u)((0,u.Z)({},S.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Status"},{beforeIcon:Cn===S.r0.TAG?(0,O.jsx)(F.Jr,{fill:$.Z.content.default,size:1.5*de.iI}):(0,O.jsx)(F.Cd,{muted:!0,size:1.5*de.iI}),label:function(){return(0,fe.kC)(S.r0.TAG)},onClick:function(){var e=Cn===S.r0.TAG?null:S.r0.TAG;e||re({}),(0,ge.u)((0,u.Z)({},S.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Tag"},{beforeIcon:Cn===S.r0.TYPE?(0,O.jsx)(F.Jr,{fill:$.Z.content.default,size:1.5*de.iI}):(0,O.jsx)(F.Cd,{muted:!0,size:1.5*de.iI}),label:function(){return(0,fe.kC)(S.r0.TYPE)},onClick:function(){var e=Cn===S.r0.TYPE?null:S.r0.TYPE;e||re({}),(0,ge.u)((0,u.Z)({},S.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Type"}]},moreActionsMenuItems:[{label:function(){return"Rename pipeline"},onClick:function(){return Fn({pipelineName:null===Re||void 0===Re?void 0:Re.name})},uuid:"Pipelines/MoreActionsMenu/Rename"},{label:function(){return"Edit description"},onClick:function(){return Fn({pipeline:Re,pipelineDescription:null===Re||void 0===Re?void 0:Re.description})},uuid:"Pipelines/MoreActionsMenu/EditDescription"}],onClickFilterDefaults:function(){oe({}),l.push("/pipelines")},onFilterApply:function(e,n){Object.values(n).every((function(e){return!(null!==e&&void 0!==e&&e.length)}))&&oe({})},query:nn,resetLimitOnFilterApply:!0,searchProps:{onChange:ze,value:qe},selectedRowId:null===Re||void 0===Re?void 0:Re.uuid,setSelectedRow:Ne})}),[Rn,$n,Cn,Nn,Sn,qn,ci,nn,l,qe,Re,ze,Fn,si]),pi=(0,V.VI)(null,{},[],{uuid:"pipelines/list"}),fi=(0,o.Z)(pi,1)[0],vi=(0,p.Db)(Y.ZP.projects.useUpdate(null===W||void 0===W?void 0:W.name),{onSuccess:function(e){return(0,he.wD)(e,{callback:function(){D()},onErrorCallback:function(e,n){return fi({errors:n,response:e})}})}}),hi=(0,o.Z)(vi,2),mi=hi[0],bi=hi[1].isLoading,gi=(0,a.useCallback)((function(e){return mi({project:e})}),[mi]),xi=(0,we.dd)((function(){return(0,O.jsxs)(P.Z,{maxWidth:60*de.iI,children:[(0,O.jsx)(I.Z,{mb:1,children:(0,O.jsx)(y.Z,{children:"Help improve Mage"})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsx)(C.ZP,{default:!0,children:"Please contribute usage statistics to help improve the developer experience for you and everyone in the community \ud83e\udd1d."})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsx)(P.Z,{success:!0,children:(0,O.jsxs)(Z.ZP,{alignItems:"center",children:[(0,O.jsx)(F.Yo,{size:5*de.iI,success:!0}),(0,O.jsx)(I.Z,{mr:1}),(0,O.jsx)(j.Z,{children:(0,O.jsx)(C.ZP,{children:"All usage statistics are completely anonymous. It\u2019s impossible for Mage to know which statistics belongs to whom."})})]})})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsxs)(C.ZP,{default:!0,children:["By opting into sending usage statistics to ",(0,O.jsx)(A.Z,{href:"https://www.mage.ai",openNewWindow:!0,children:"Mage"}),", it\u2019ll help the team and community of contributors (",(0,O.jsx)(A.Z,{href:"https://www.mage.ai/chat",openNewWindow:!0,children:"Magers"}),") learn what\u2019s going wrong with the tool and what improvements can be made."]})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsx)(C.ZP,{default:!0,children:"In addition to helping reduce potential errors, you\u2019ll help inform which features are useful and which need work."})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsxs)(Z.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,O.jsx)(C.ZP,{bold:!0,children:"I want to help make Mage more powerful for everyone"}),(0,O.jsx)(I.Z,{mr:de.cd}),(0,O.jsx)(G.Z,{checked:!0,onCheck:function(){window.confirm("Are you sure you don\u2019t want to help everyone in the community?")&&gi({help_improve_mage:!1}).then((function(){return yi()}))}})]})}),bi&&(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsx)(U.Z,{inverted:!0})}),(0,O.jsx)(I.Z,{mb:de.cd,children:(0,O.jsxs)(C.ZP,{muted:!0,small:!0,children:["To learn more about how this works, please check out the ",(0,O.jsx)(A.Z,{href:"https://docs.mage.ai/contributing/statistics/overview",openNewWindow:!0,small:!0,children:"documentation"}),"."]})}),(0,O.jsx)(m.ZP,{onClick:function(){return gi({help_improve_mage:!0}).then((function(){return yi()}))},secondary:!0,children:"Close"})]})}),{},[W],{background:!0,hideCallback:function(){gi({help_improve_mage:!0})},uuid:"help_mage"}),ji=(0,o.Z)(xi,2),Zi=ji[0],yi=ji[1];(0,a.useEffect)((function(){W&&null===(null===W||void 0===W?void 0:W.help_improve_mage)&&Zi()}),[W,Zi]);var wi=(0,a.useCallback)((function(e){var n={};null===e||void 0===e||e.forEach((function(e,i){var t=null===e||void 0===e?void 0:e[Cn];if(S.r0.STATUS===Cn){var o=(e||{}).schedules,r=void 0===o?[]:o,u=r.length;t=r.find((function(e){var n=e.status;return se.fq.ACTIVE===n}))?S.QK.ACTIVE:u>=1?S.QK.INACTIVE:S.QK.NO_SCHEDULES}else if(S.r0.TAG===Cn){t=(null===e||void 0===e?void 0:e.tags)?(0,xe.YC)(e.tags,(function(e){return e})).join(", "):""}n[t]||(n[t]=[]),n[t].push(i)}));var i=[],t=[];S.r0.STATUS===Cn?Object.values(S.QK).forEach((function(e){i.push(n[e]),t.push((0,fe.vg)(e))})):S.r0.TAG===Cn?(0,xe.YC)(Object.keys(n),(function(e){return e})).forEach((function(e){i.push(n[e]),e?t.push(e.split(", ").map((function(e,n){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:{marginLeft:n>=1?4:0}},"".concat(e,"-").concat(n,"-spacing")),(0,O.jsx)(g.Z,{small:!0,children:(0,O.jsx)(C.ZP,{children:e})},"".concat(e,"-").concat(n))]})}))):t.push("No tags")})):S.r0.TYPE===Cn&&Object.values(S.qL).forEach((function(e){i.push(n[e]),t.push(S.G7[e])}));var o=[],r=[];return null===i||void 0===i||i.forEach((function(e,n){"undefined"!==typeof e&&null!==e&&(null===e||void 0===e?void 0:e.length)>=1&&(r.push(e),o.push(null===t||void 0===t?void 0:t[n]))})),{rowGroupHeaders:o,rowsGroupedByIndex:r}}),[Cn]),Pi=(0,a.useMemo)((function(){return wi(jn)}),[wi,jn]),Ii=Pi.rowGroupHeaders,Ci=Pi.rowsGroupedByIndex,_i=(0,a.useMemo)((function(){return wi(Zn)}),[wi,Zn]),ki=_i.rowGroupHeaders,Oi=_i.rowsGroupedByIndex,Ti=(0,a.useCallback)((function(e,n,i,t,o){return(0,O.jsx)(L.Z,{columnFlex:[null,null,null,2,null,null,null,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:(0,fe.kC)(S.r0.STATUS)},{uuid:"Name"},{uuid:"Description"},{uuid:(0,fe.kC)(S.r0.TYPE)},Ce(Ce({},un),{},{uuid:"Updated at"}),Ce(Ce({},un),{},{uuid:"Created at"}),{uuid:"Tags"},{uuid:"Blocks"},{uuid:"Triggers"},{center:!0,label:function(){return""},uuid:"Actions"}],defaultSortColumnIndex:2,getUniqueRowIdentifier:xn,isSelectedRow:function(e){var i;return(null===(i=n[e])||void 0===i?void 0:i.uuid)===(null===Re||void 0===Re?void 0:Re.uuid)},localStorageKeySortColIdx:ne,localStorageKeySortDirection:ie,onClickRow:function(e){return Ne((function(i){var t=n[e];return(null===i||void 0===i?void 0:i.uuid)!==(null===t||void 0===t?void 0:t.uuid)?t:null}))},onDoubleClickRow:function(e){l.push("/pipelines/[pipeline]/edit","/pipelines/".concat(n[e].uuid,"/edit"))},ref:d,renderRightClickMenuItems:function(e){var i=n[e];return[{label:function(){return"Edit description"},onClick:function(){return Fn({pipeline:i,pipelineDescription:null===i||void 0===i?void 0:i.description})},uuid:"edit_description"},{label:function(){return"Rename"},onClick:function(){return Fn({pipeline:i,pipelineName:null===i||void 0===i?void 0:i.name})},uuid:"rename"},{label:function(){return"Clone"},onClick:function(){return Rn({pipeline:{clone_pipeline_uuid:null===i||void 0===i?void 0:i.uuid}})},uuid:"clone"},{label:function(){return"Download (keep folder structure)"},onClick:function(){kn({pipelineUUID:null===i||void 0===i?void 0:i.uuid,filesOnly:!1})},uuid:"download_keep_folder_structure"},{label:function(){return"Download (without folder structure)"},onClick:function(){kn({pipelineUUID:null===i||void 0===i?void 0:i.uuid,filesOnly:!0})},uuid:"download_without_folder_structure"},{label:function(){return"Add/Remove tags"},onClick:function(){l.push("/pipelines/[pipeline]/settings","/pipelines/".concat(null===i||void 0===i?void 0:i.uuid,"/settings"))},uuid:"add_tags"},{label:function(){return"Create template"},onClick:function(){l.push("/templates?object_type=".concat(ce.R,"&new=1&pipeline_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_custom_template"},{label:function(){return"Create global data product"},onClick:function(){l.push("/global-data-products?object_type=".concat(Q.b.PIPELINE,"&new=1&object_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_global_data_product"},{label:function(){return"Delete"},onClick:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===i||void 0===i?void 0:i.uuid,"?"))&&$n(null===i||void 0===i?void 0:i.uuid)},uuid:"delete"}]},rightClickMenuHeight:252,rightClickMenuWidth:30*de.iI,rowGroupHeaders:i,rows:null===e||void 0===e?void 0:e.map((function(e,n){var i=e.blocks,t=e.created_at,o=e.description,r=e.schedules,c=e.tags,d=e.type,a=e.updated_at,p=e.uuid,f=i.filter((function(e){var n=e.type;return z.tf.SCRATCHPAD!==n})).length,v=r.length,h=r.find((function(e){var n=e.status;return se.fq.ACTIVE===n})),b=(0,O.jsx)("div",{children:(0,O.jsx)(B.Z,{tags:null===c||void 0===c?void 0:c.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(n));return[v>=1||Ve[p]?(0,O.jsx)(m.ZP,{iconOnly:!0,loading:!!Ve[p],noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(n){(0,Ze.j)(n),Qe((function(e){return Ce(Ce({},e),{},(0,u.Z)({},p,!0))})),Bn(Ce(Ce({},e),{},{status:h?se.fq.INACTIVE:se.fq.ACTIVE}))},children:h?(0,O.jsx)(F.dz,{muted:!0,size:2*de.iI}):(0,O.jsx)(F.Py,{default:!0,size:2*de.iI})}):null,(0,O.jsx)(C.ZP,{default:!h,monospace:!0,success:!!h,children:h?se.fq.ACTIVE:v>=1?se.fq.INACTIVE:"no schedules"},"pipeline_status_".concat(n)),(0,O.jsx)(s(),{as:"/pipelines/".concat(p),href:"/pipelines/[pipeline]",passHref:!0,children:(0,O.jsx)(A.Z,{sameColorAsText:!0,children:p})},"pipeline_name_".concat(n)),(0,O.jsx)(C.ZP,{default:!0,preWrap:!0,title:o,children:o},"pipeline_description_".concat(n)),(0,O.jsx)(C.ZP,{children:S.G7[d]},"pipeline_type_".concat(n)),(0,O.jsx)(C.ZP,{monospace:!0,small:!0,title:a?(0,ve._6)(a):null,children:a?(0,ve.XG)(a,on):(0,O.jsx)(O.Fragment,{children:"\u2014"})},"pipeline_updated_at_".concat(n)),(0,O.jsx)(C.ZP,{monospace:!0,small:!0,title:t?(0,ve._6)(t):null,children:t?(0,ve.XG)(t.slice(0,19),on):(0,O.jsx)(O.Fragment,{children:"\u2014"})},"pipeline_created_at_".concat(n)),b,(0,O.jsx)(C.ZP,{default:0===f,monospace:!0,children:f},"pipeline_block_count_".concat(n)),(0,O.jsx)(C.ZP,{default:0===v,monospace:!0,children:v},"pipeline_trigger_count_".concat(n)),(0,O.jsxs)(j.Z,{flex:1,justifyContent:"flex-end",children:[(0,O.jsx)(m.ZP,Ce(Ce({},Ee),{},{onClick:function(){kn({pipelineUUID:p})},title:"Download (keep folder structure)",children:(0,O.jsx)(F.vc,{default:!0,size:2*de.iI})})),(0,O.jsx)(I.Z,{mr:1}),(0,O.jsx)(m.ZP,Ce(Ce({},Ee),{},{onClick:function(){l.push("/pipelines/[pipeline]","/pipelines/".concat(p))},title:"Detail",children:(0,O.jsx)(F.UY,{default:!0,size:2*de.iI})})),(0,O.jsx)(I.Z,{mr:1}),(0,O.jsx)(m.ZP,Ce(Ce({},Ee),{},{onClick:function(){l.push("/pipelines/[pipeline]/logs","/pipelines/".concat(p,"/logs"))},title:"Logs",children:(0,O.jsx)(F.$B,{default:!0,size:2*de.iI})}))]},"chevron_icon_".concat(n))]})),rowsGroupedByIndex:t,setRowsSorted:o,sortableColumnIndexes:yn,sortedColumn:In,stickyHeader:!0})}),[Rn,$n,kn,on,xn,Ve,l,Re,Qe,Ne,Fn,yn,In,un,Bn]),Ai=(0,a.useMemo)((function(){return Ti(hn,jn,Ii,Ci,Be)}),[hn,jn,Ti,Ii,Ci,Be]),Ei=(0,a.useMemo)((function(){return Ti(mn,Zn,ki,Oi,Ye)}),[mn,Zn,Ti,ki,Oi,Ye]),Si=(0,a.useMemo)((function(){return(null===hn||void 0===hn?void 0:hn.length)||0}),[hn]),Mi=(0,a.useMemo)((function(){return(null===mn||void 0===mn?void 0:mn.length)||0}),[mn]),Di=(0,a.useMemo)((function(){return(!rn||ke.uuid===tn)&&!Si||rn&&_e.uuid===tn&&!Mi}),[rn,Si,Mi,tn]),Ri=(0,a.useMemo)((function(){var e=null===nn||void 0===nn?void 0:nn[ue.$D.LIMIT];return(0,O.jsxs)(Z.ZP,{alignItems:"center",children:[(0,O.jsx)(C.ZP,{muted:!0,small:!0,children:"Per page"}),(0,O.jsx)(I.Z,{mr:1}),(0,O.jsxs)(N.Z,{compact:!0,onChange:function(e){return(0,ge.u)((0,u.Z)({},ue.$D.LIMIT,e.target.value),{pushHistory:!0})},small:!0,value:e,children:[e&&(e>5*E.Q||e%E.Q)&&(0,O.jsx)("option",{value:e,children:e}),(0,xe.w6)(5).map((function(e,n){var i=(n+1)*E.Q;return(0,O.jsx)("option",{value:i,children:i},i)}))]})]})}),[nn]),Ni=(0,a.useMemo)((function(){var e,n,i=cn;rn&&_e.uuid===tn&&(i=pn);var t=(null===(e=i)||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.count)||0,o=(null===nn||void 0===nn?void 0:nn[ue.$D.LIMIT])||E.Q,r=(null===nn||void 0===nn?void 0:nn[ue.$D.OFFSET])||0,l=Math.ceil(t/o);return(0,O.jsx)(I.Z,{p:de.cd,children:(0,O.jsx)(E.ZP,{maxPages:E.Et,onUpdate:function(e){var n=Number(e);(0,ge.u)((0,u.Z)({},ue.$D.OFFSET,n*o))},page:Math.floor(r/o),totalPages:l})})}),[cn,pn,rn,nn,tn]);return(0,O.jsxs)(x.Z,{errors:Xe,setErrors:Je,subheaderChildren:(0,O.jsxs)(Z.ZP,{alignItems:"center",justifyContent:"space-between",children:[ai,Ri]}),title:"Pipelines",uuid:"pipelines/index",children:[rn&&(0,O.jsx)(I.Z,{px:de.cd,ref:c,children:(0,O.jsx)(b.Z,{noPadding:!0,onClickTab:function(e){var n,i=e.uuid;return(0,ge.u)((n={},(0,u.Z)(n,Te,i),(0,u.Z)(n,ue.$D.LIMIT,null),(0,u.Z)(n,ue.$D.OFFSET,null),n),{pushHistory:!0})},regularSizeText:!0,selectedTabUUID:tn,tabs:Oe.map((function(e){var n=e.Icon,i=e.label;return{Icon:n,label:function(){var e;return i({count:null===cn||void 0===cn||null===(e=cn.metadata)||void 0===e?void 0:e.count})},uuid:e.uuid}})),underlineStyle:!0})}),Di?(0,O.jsx)(I.Z,{p:de.Mq,children:cn?(0,O.jsx)(C.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No pipelines available"}):(0,O.jsx)(U.Z,{inverted:!0,large:!0})}):null,(0,O.jsxs)(pe.cl,{hide:Di,includePadding:!!Cn,maxHeight:"calc(100vh - ".concat(K.Mz+74+(Se||0)+(null===w||void 0===w||null===(n=w.current)||void 0===n||null===(i=n.getBoundingClientRect)||void 0===i||null===(t=i.call(n))||void 0===t?void 0:t.height),"px)"),children:[(!rn||ke.uuid===tn)&&Ai,rn&&_e.uuid===tn&&Ei]}),(0,O.jsx)("div",{ref:w,children:Ni})]})}Se.getInitialProps=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Me=(0,D.Z)(Se)},44952:function(e,n,i){"use strict";i.d(n,{K:function(){return o}});var t=i(4383);function o(e){var n=(0,t.ZP)("downloads",e),i=document.createElement("a");i.href=n,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}},79274:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return i(55620)}])}},function(e){e.O(0,[2678,1154,844,5820,6639,1124,1751,341,1821,874,1557,8264,7858,5499,5283,3745,5810,3859,2646,8998,3004,9264,2474,5729,9774,2888,179],(function(){return n=79274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);