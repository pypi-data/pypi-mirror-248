(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{94629:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(82394),o=n(21831),i=n(82684),u=n(50724),c=n(82555),a=n(97618),s=n(70613),l=n(31557),f=n(68899),d=n(28598);function p(e,t){var n=e.children,r=e.noPadding;return(0,d.jsx)(f.HS,{noPadding:r,ref:t,children:n})}var b=i.forwardRef(p),h=n(62547),O=n(82571),v=n(98464),g=n(77417),y=n(46684),j=n(70515),m=n(53808),P=n(19183);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var n=e.after,r=e.afterHeader,p=e.afterHidden,w=e.afterWidth,x=e.afterWidthOverride,_=e.appendBreadcrumbs,k=e.before,E=e.beforeWidth,C=e.breadcrumbs,D=e.children,M=e.contained,I=e.errors,S=e.headerMenuItems,R=e.headerOffset,A=e.hideAfterCompletely,B=e.mainContainerHeader,H=e.navigationItems,N=e.setAfterHidden,T=e.setErrors,W=e.subheaderChildren,q=e.subheaderNoPadding,z=e.title,U=e.uuid,V=(0,P.i)().width,F="dashboard_after_width_".concat(U),L="dashboard_before_width_".concat(U),G=(0,i.useRef)(null),Q=(0,i.useState)(x?w:(0,m.U2)(F,w)),K=Q[0],Y=Q[1],X=(0,i.useState)(!1),J=X[0],$=X[1],ee=(0,i.useState)(k?Math.max((0,m.U2)(L,E),13*j.iI):null),te=ee[0],ne=ee[1],re=(0,i.useState)(!1),oe=re[0],ie=re[1],ue=(0,i.useState)(null)[1],ce=(0,g.Z)().project,ae=[];C&&ae.push.apply(ae,(0,o.Z)(C)),null!==C&&void 0!==C&&C.length&&!_||!ce||null!==C&&void 0!==C&&C.length||ae.unshift({bold:!_,label:function(){return z}}),(0,i.useEffect)((function(){null===G||void 0===G||!G.current||J||oe||null===ue||void 0===ue||ue(G.current.getBoundingClientRect().width)}),[J,K,oe,te,G,ue,V]),(0,i.useEffect)((function(){J||(0,m.t8)(F,K)}),[p,J,K,F]),(0,i.useEffect)((function(){oe||(0,m.t8)(L,te)}),[oe,te,L]);var se=(0,v.Z)(w);return(0,i.useEffect)((function(){x&&se!==w&&Y(w)}),[x,w,se]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Z,{title:z}),(0,d.jsx)(l.Z,{breadcrumbs:ae,menuItems:S}),(0,d.jsxs)(f.Nk,{ref:t,children:[0!==(null===H||void 0===H?void 0:H.length)&&(0,d.jsx)(f.lm,{showMore:!0,children:(0,d.jsx)(O.Z,{navigationItems:H,showMore:!0})}),(0,d.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,d.jsxs)(h.Z,{after:n,afterHeader:r,afterHeightOffset:y.Mz,afterHidden:p,afterMousedownActive:J,afterWidth:K,before:k,beforeHeightOffset:y.Mz,beforeMousedownActive:oe,beforeWidth:f.k1+(k?te:0),contained:M,headerOffset:R,hideAfterCompletely:!N||A,leftOffset:k?f.k1:null,mainContainerHeader:B,mainContainerRef:G,setAfterHidden:N,setAfterMousedownActive:$,setAfterWidth:Y,setBeforeMousedownActive:ie,setBeforeWidth:ne,children:[W&&(0,d.jsx)(b,{noPadding:q,children:W}),D]})})]}),I&&(0,d.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===T||void 0===T?void 0:T(null)},children:(0,d.jsx)(c.Z,Z(Z({},I),{},{onClose:function(){return null===T||void 0===T?void 0:T(null)}}))})]})}var _=i.forwardRef(x)},93808:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(77837),o=n(26304),i=n(62243),u=n(29385),c=n(80022),a=n(13692),s=n(93189),l=n(15544),f=n(82394),d=n(38860),p=n.n(d),b=n(82684),h=n(56663),O=n.n(h),v=n(40761),g=n(34661),y=n(36105),j=n(50178),m=n(69419),P=n(28598),w=["auth"];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function k(e){return function(t){(0,a.Z)(s,t);var n=_(s);function s(){var e;(0,i.Z)(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,f.Z)((0,c.Z)(e),"state",{auth:new v.Z(e.props.token)}),e}return(0,u.Z)(s,[{key:"componentDidMount",value:function(){this.setState({auth:new v.Z(this.props.token)})}},{key:"render",value:function(){var t=this.props,n=(t.auth,(0,o.Z)(t,w));return(0,P.jsx)(e,x({auth:this.state.auth},n))}}],[{key:"getInitialProps",value:function(){var t=(0,r.Z)(p().mark((function t(n){var r,o,i,u,c,a,s,l,f;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=O()(n),o=(0,j.ex)(n),i=o.id,u=r[g.Mv],c=r[y.qt],a=new v.Z(u),s=x(x({},n),{},{auth:a,currentGroupId:i,theme:c}),(0,j.YB)(n)&&a.isExpired&&(console.log("OAuth token has expired."),l=x(x({},n.query),{},{redirect_url:n.asPath}),(0,m.nL)("/sign-in?".concat((0,m.uM)(l)),n.res)),!e.getInitialProps){t.next=12;break}return t.next=10,e.getInitialProps(s);case 10:return f=t.sent,t.abrupt("return",x(x({},f),{},{auth:a,currentGroupId:i,theme:c}));case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),s}(b.Component)}},79757:function(e,t,n){"use strict";var r=n(82394),o=n(26304),i=(n(82684),n(38626)),u=n(44897),c=n(42631),a=n(95363),s=n(70515),l=n(61896),f=n(28598),d=["children"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=i.default.p.withConfig({displayName:"Badge__BadgeStyle",componentId:"sc-tfqsp0-0"})(["border-radius:","px;display:inline;font-family:",";margin:0;white-space:nowrap;",";"," "," ",";",";"," "," "," "," "," "," "," ",""],c.BG,a.ry,l.iD,(function(e){return e.small&&"\n    ".concat(l.HC,";\n  ")}),(function(e){return e.xxsmall&&"\n    font-size: ".concat(l.VK,"px;\n    line-height: ").concat(l.VK,"px;\n  ")}),(function(e){return!e.regular&&"\n    padding: 2px 4px;\n  "}),(function(e){return e.regular&&"\n    padding: ".concat(1*s.iI,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.noVerticalPadding&&"\n    padding-bottom: 0;\n    padding-top: 0;\n  "}),(function(e){return!e.disabled&&!e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.row,";\n    color: ").concat((e.theme||u.Z).content.default,";\n  ")}),(function(e){return!e.disabled&&e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.dark,";\n    color: ").concat((e.theme||u.Z).content.inverted,";\n  ")}),(function(e){return e.cyan&&"\n    background-color: ".concat((e.theme||u.Z).accent.cyan,";\n    color: ").concat((e.theme||u.Z).monotone.black,";\n  ")}),(function(e){return e.disabled&&"\n    background-color: ".concat((e.theme||u.Z).feature.disabled,";\n    color: ").concat((e.theme||u.Z).content.disabled,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color," !important;\n    color: ").concat((e.theme||u.Z).content.active,";\n  ")}),(function(e){return e.quantifier&&"\n    border-radius: 34px;\n    line-height: 10px;\n    padding: 4px 6px;\n  "}),(function(e){return e.monospace&&"\n    font-family: ".concat(a.Vp,";\n    word-break: break-all;\n  ")}));t.Z=function(e){var t=e.children,n=(0,o.Z)(e,d);return(0,f.jsx)(h,b(b({},n),{},{children:t}))}},46732:function(e,t,n){"use strict";var r=n(82394),o=n(26304),i=(n(82684),n(50724)),u=n(70374),c=n(28598),a=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.items,r=e.open,s=e.onClickCallback,f=e.onClickOutside,d=e.parentRef,p=e.uuid,b=e.zIndex,h=(0,o.Z)(e,a),O=(0,c.jsxs)("div",{style:{position:"relative",zIndex:(f?3:2)+(b||0)},children:[(0,c.jsx)("div",{ref:d,children:t}),(0,c.jsx)(u.Z,l(l({},h),{},{items:n,onClickCallback:s,open:r,parentRef:d,uuid:p}))]});return f?(0,c.jsx)(i.Z,{onClickOutside:f,open:!0,children:O}):O}},78234:function(e,t,n){"use strict";n.r(t);var r=n(77837),o=n(82394),i=n(38860),u=n.n(i),c=n(82684),a=n(34376),s=n(94629),l=n(55072),f=n(53943),d=n(93808),p=n(82359),b=n(38276),h=n(4190),O=n(85544),v=n(35686),g=n(44265),y=n(70515),j=n(69419),m=n(86735),P=n(70320),w=n(28598);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=(0,a.useRouter)(),t=(0,c.useState)(null),n=t[0],r=t[1],i=(0,j.iV)(),u=null!==i&&void 0!==i&&i.page?i.page:0,d=(0,j.DQ)(i,[g.P0.PIPELINE_UUID,g.P0.STATUS,g.P0.TAG]),Z=v.ZP.projects.list().data,_=(0,c.useMemo)((function(){var e;return null===Z||void 0===Z||null===(e=Z.projects)||void 0===e?void 0:e[0]}),[Z]),k=((0,c.useMemo)((function(){var e;return(0,P.hY)(null===_||void 0===_||null===(e=_.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===_||void 0===_?void 0:_.features]),x(x({},d),{},{_limit:l.Q,_offset:u*l.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==i&&void 0!==i&&i.status&&(k.status=i.status);var E=v.ZP.pipeline_runs.list(k,{refreshInterval:3e3,revalidateOnFocus:!0}),C=E.data,D=E.mutate,M=v.ZP.tags.list().data,I=(0,c.useMemo)((function(){return(0,m.YC)((null===M||void 0===M?void 0:M.tags)||[],(function(e){return e.uuid}))}),[M]),S=(0,c.useMemo)((function(){return(null===C||void 0===C?void 0:C.pipeline_runs)||[]}),[C]),R=(0,c.useMemo)((function(){var e;return(null===C||void 0===C||null===(e=C.metadata)||void 0===e?void 0:e.count)||[]}),[C]),A=(0,c.useMemo)((function(){var e;return(null===C||void 0===C||null===(e=C.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[C]),B=(0,c.useMemo)((function(){return(0,w.jsx)(O.Z,{filterOptions:{pipeline_uuid:A,pipeline_tag:I.map((function(e){return e.uuid})),status:g.IK},filterValueLabelMapping:{pipeline_tag:I.reduce((function(e,t){var n=t.uuid;return x(x({},e),{},(0,o.Z)({},n,n))}),{}),status:g.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:d,resetPageOnFilterApply:!0})}),[A,d,e,I]);return(0,w.jsx)(s.Z,{errors:n,setErrors:r,subheaderChildren:B,title:"Pipeline runs",uuid:"pipeline_runs/index",children:C?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f.Z,{fetchPipelineRuns:D,includePipelineTags:!0,pipelineRuns:S,setErrors:r}),(0,w.jsx)(b.Z,{p:2,children:(0,w.jsx)(l.ZP,{maxPages:l.Et,onUpdate:function(t){var n=Number(t),r=x(x({},i),{},{page:n>=0?n:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,j.uM)(r)))},page:Number(u),totalPages:Math.ceil(R/l.Q)})})]}):(0,w.jsx)(b.Z,{p:y.Mq,children:(0,w.jsx)(h.Z,{inverted:!0,large:!0})})})}_.getInitialProps=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,d.Z)(_)},60710:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return n(78234)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(61049);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(12539),o=n(80022);function i(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},61049:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,3494,1557,2512,7858,5499,3943,2474,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);